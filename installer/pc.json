{
  "Script": "JFByb2dyZXNzUHJlZmVyZW5jZSA9ICdTaWxlbnRseUNvbnRpbnVlJw0KJGZpbGUgPSBJbnZva2UtV2ViUmVxdWVzdCBodHRwczovL2FsZGluMTAxLmdpdGh1Yi5pby9FY2hvLVJlbGF5LUluc3RhbGxlci9ob3N0Lmpzb24gLVVzZUJhc2ljUGFyc2luZw0KJGdsb2JhbDpkYXRhYmFzZSA9ICRmaWxlLkNvbnRlbnQgfCBDb252ZXJ0RnJvbS1Kc29uDQpmdW5jdGlvbiBSZWFkLUZvbGRlckJyb3dzZXJEaWFsb2coW3N0cmluZ10kTWVzc2FnZSwgW3N0cmluZ10kSW5pdGlhbERpcmVjdG9yeSkgew0KICAgICRhcHAgPSBOZXctT2JqZWN0IC1Db21PYmplY3QgU2hlbGwuQXBwbGljYXRpb24NCiAgICAkZm9sZGVyID0gJGFwcC5Ccm93c2VGb3JGb2xkZXIoMCwgJE1lc3NhZ2UsIDAsICRJbml0aWFsRGlyZWN0b3J5KQ0KICAgIGlmICgkZm9sZGVyKSB7IHJldHVybiAkZm9sZGVyLlNlbGYuUGF0aCB9IGVsc2UgeyByZXR1cm4gJ0M6XFByb2dyYW0gRmlsZXNcT2N1bHVzXFNvZnR3YXJlXFNvZnR3YXJlJyB9DQp9DQpmdW5jdGlvbiBkb3duZ3JhZGVJbnN0cnVjdGlvbnNQYWdlMyB7DQogICAgJG5leHQudGV4dCA9ICJGaW5pc2ghIg0KICAgICR0cm91Ymxlc2hvb3RpbmdCdXR0b24uVmlzaWJsZSA9ICRmYWxzZQ0KICAgICRzdGFydFVwUGFnZS5UZXh0ID0gIkFmdGVyIHRoZSBnYW1lIGhhcyBmaW5pc2hlZCBkb3dubG9hZGluZyBwcmVzcyBZIGFuZCBoaXQgZW50ZXIgZm9yIHRoZSBmaXJzdGBucHJvbXB0IHRvIGJhY2t1cCB0aGUgZ2FtZSBmaWxlcyBhbmQgbGF1bmNoLmBuU2ltcGx5IHByZXNzIGVudGVyIGFnYWluIHRvIHNlbGVjdCB0aGUgYmFja3VwIGxvY2F0aW9uLmBuUHJlc3MgWSBhbmQgdGhlbiBlbnRlciB0byBsYXVuY2ggdGhlIGdhbWUgdG8gbWFrZSBzdXJlIGl0IHdvcmtzYG5PbmNlIHlvdSBhcmUgZG9uZSBwcmVzcyB0aGUgZmluaXNoIGtleSBvbmNlIHlvdSBhcmUgZG9uZSB0byBhdHRlbXB0YG5pbnN0YWxsYXRpb24gZm9yIEVjaG8gUmVsYXkuIg0KfQ0KDQpmdW5jdGlvbiB0cm91Ymxlc2hvb3Rpbmcgew0KICAgICRuZXh0LnZpc2libGUgPSAkZmFsc2UNCiAgICAkdHJvdWJsZXNob290aW5nQnV0dG9uLlZpc2libGUgPSAkZmFsc2UNCiAgICAkcHJldmlvdXMudmlzaWJsZSA9ICRmYWxzZQ0KICAgICRiYWNrQnV0dG9uLlZpc2libGUgPSAkdHJ1ZQ0KICAgICRzdGFydFVwUGFnZS50ZXh0ID0gIk9uZSBvciBtb3JlIG9mIHRoZSBmaWxlcyBmYWlsZWQgdG8gdmFsaWRhdGU6YG5PbiB0aGUgbWFpbiBtZW51IHByZXNzIDcgdGhlbiBlbnRlciwgdHlwZSBgIkRgIiBhbmQgaGl0IGVudGVyYG5UeXBlIGVjaG8gdnIgYW5kIGhpdCBlbnRlcixgblR5cGUgMzQuNC42MzE1NDcuMSBhbmQgaGl0IGVudGVyLCBwcmVzcyBZIGFuZCBoaXQgZW50ZXJgbldhaXQgZm9yIHRoZSBkb3dubG9hZCB0byBmaW5pc2guYG5QcmVzcyB0aGUgMyBrZXkgdG8gb3BlbiB0aGUgbGF1bmNoIG1lbnUgYW5kIGNvbnRpbnVlIHdpdGggdGhlIG5leHQgc3RlcC4iDQp9DQoNCmZ1bmN0aW9uIGRvd25ncmFkZUluc3RydWN0aW9uc1BhZ2UyIHsNCiAgICAkbmV4dC50ZXh0ID0gIk5leHQiIA0KICAgICR0cm91Ymxlc2hvb3RpbmdCdXR0b24uVmlzaWJsZSA9ICR0cnVlDQogICAgJHN0YXJ0VXBQYWdlLlRleHQgPSAiVGhlbiBwcmVzcyB0aGUgMiBrZXkgYW5kIGhpdCBlbnRlci5gblNlYXJjaCBmb3IgYCJlY2hvIHZyYCIuYG5UaGVuIHBhc3RlIGAiMzQuNC42MzE1NDcuMWAiIGludG8gdGhlIGZpZWxkIHVzaW5nIGNydGwrdiAoY29waWVkIHRvIGNsaXBib2FyZCkgYW5kYG5oaXQgZW50ZXIuYG5UaGVuIHByZXNzIFkgYW5kIGhpdCBlbnRlciBhbmQgd2FpdCBmb3IgdGhlIGRvd25sb2FkIHRvIGZpbmlzaGBuSWYgdGhlIGRvd25sb2FkIGdpdmVzIGVycm9ycyBjbGljayB0aGUgdHJvdWJsZXNob290aW5nIGJ1dHRvbi4iDQogICAgU2V0LUNsaXBib2FyZCAiMzQuNC42MzE1NDcuMSINCn0NCg0KZnVuY3Rpb24gZG93bmdyYWRlSW5zdHJ1Y3Rpb25zUGFnZTEgew0KICAgICR0cm91Ymxlc2hvb3RpbmdCdXR0b24uVmlzaWJsZSA9ICRmYWxzZQ0KICAgICRwcmV2aW91cy52aXNpYmxlID0gJHRydWUNCiAgICAkc3RhcnRVcFBhZ2UuVGV4dCA9ICJBZnRlciB0aGUgT2N1bHVzIERvd25ncmFkZXIgaGFzIGxhdW5jaGVkIHByZXNzIFkgYW5kIGhpdCBlbnRlcmBuVGhlbiBwcmVzcyBhbnkga2V5IGFuZCBsb2cgaW50byB5b3VyIE1ldGEgYWNjb3VudC5gblRoZW4gZW50ZXIgYSBwYXNzd29yZCB0byBzZWN1cmUgeW91ciBNZXRhIGFjY291bnQgdG9rZW4iDQp9DQoNCmZ1bmN0aW9uIGRvd25ncmFkZUluc3RydWN0aW9uc1BhZ2UwIHsNCiAgICAkc3RhcnRVcFBhZ2UuVGV4dCA9ICJUaGVzZSBhcmUgaW5zdHJ1Y3Rpb25zIG9uIGhvdyB0byBkb3duZ3JhZGUgeW91ciBFY2hvVlIgY2xpZW50IHRvIHRoZSBjb3JyZWN0YG52ZXJzaW9uIGZvciBFY2hvIFJlbGF5LmBuU2ltcGx5IG1vdmUgdGhpcyB3aW5kb3cgb3BlbiBuZXh0IHRvIHRoZSBkb3duZ3JhZGVyLmBuUHJlc3MgbmV4dCB0byBnbyB0byB0aGUgbmV4dCBzdGVwLiINCn0NCg0KZnVuY3Rpb24gZG93bmdyYWRlSW5zdHJ1Y3Rpb25zIHsNCiAgICAkbWVudS5IaWRlKCkNCiAgICAkZG93bmdyYWRlTWVudS5IaWRlKCkNCg0KICAgICRkb3duZ3JhZGVJbnN0cnVjdGlvbnMgPSBuZXctb2JqZWN0IFN5c3RlbS5XaW5kb3dzLkZvcm1zLkZvcm0NCiAgICAkZG93bmdyYWRlSW5zdHJ1Y3Rpb25zLnRleHQgPSAiRWNobyBSZWxheSBEb3duZ3JhZGVyIg0KICAgICRkb3duZ3JhZGVJbnN0cnVjdGlvbnMuSWNvbiA9IFtTeXN0ZW0uRHJhd2luZy5JY29uXTo6RXh0cmFjdEFzc29jaWF0ZWRJY29uKCRmaWxlTG9jYXRpb24xKQ0KICAgICRkb3duZ3JhZGVJbnN0cnVjdGlvbnMuU2l6ZSA9IE5ldy1PYmplY3QgRHJhd2luZy5TaXplIEAoNTAwLCAzMDApDQogICAgJGRvd25ncmFkZUluc3RydWN0aW9ucy5Mb2NhdGlvbiA9IE5ldy1PYmplY3QgU3lzdGVtLkRyYXdpbmcuU2l6ZSgxMjAwLCA0MDApDQogICAgJGRvd25ncmFkZUluc3RydWN0aW9ucy5TdGFydFBvc2l0aW9uID0gIk1hbnVhbCINCiAgICAkZG93bmdyYWRlSW5zdHJ1Y3Rpb25zLkZvcm1Cb3JkZXJTdHlsZSA9ICJGaXhlZERpYWxvZyINCiAgICAkZG93bmdyYWRlSW5zdHJ1Y3Rpb25zLk1heGltaXplQm94ID0gJGZhbHNlDQoNCiAgICAkZG93bmdyYWRlSW5zdHJ1Y3Rpb25zTGFiZWwgPSBOZXctT2JqZWN0IFN5c3RlbS5XaW5kb3dzLkZvcm1zLkxhYmVsDQogICAgJGRvd25ncmFkZUluc3RydWN0aW9uc0xhYmVsLkxvY2F0aW9uID0gTmV3LU9iamVjdCBTeXN0ZW0uRHJhd2luZy5TaXplKDEwLDEwKQ0KICAgICRkb3duZ3JhZGVJbnN0cnVjdGlvbnNMYWJlbC5TaXplID0gTmV3LU9iamVjdCBTeXN0ZW0uRHJhd2luZy5TaXplKDIwMDAsMjApDQogICAgJGRvd25ncmFkZUluc3RydWN0aW9uc0xhYmVsLlRleHQgPSAiRWNob1ZSIERvd25ncmFkZSBJbnN0cnVjdGlvbnMiDQogICAgJGRvd25ncmFkZUluc3RydWN0aW9uc0xhYmVsLkZvbnQgPSAiTWljcm9zb2Z0IFNhbnMgU2VyaWYsMTAiDQogICAgJGRvd25ncmFkZUluc3RydWN0aW9ucy5Db250cm9scy5BZGQoJGRvd25ncmFkZUluc3RydWN0aW9uc0xhYmVsKQ0KDQogICAgJG5leHQgPSBOZXctT2JqZWN0IFN5c3RlbS5XaW5kb3dzLkZvcm1zLkJ1dHRvbg0KICAgICRuZXh0LkxvY2F0aW9uID0gTmV3LU9iamVjdCBTeXN0ZW0uRHJhd2luZy5TaXplKDQwMCwyMjUpDQogICAgJG5leHQuVGV4dCA9ICJOZXh0Ig0KICAgICRuZXh0LkZvbnQgPSAiTWljcm9zb2Z0IFNhbnMgU2VyaWYsMTAiDQogICAgJGRvd25ncmFkZUluc3RydWN0aW9ucy5Db250cm9scy5BZGQoJG5leHQpDQoNCiAgICAkcHJldmlvdXMgPSBOZXctT2JqZWN0IFN5c3RlbS5XaW5kb3dzLkZvcm1zLkJ1dHRvbg0KICAgICRwcmV2aW91cy5Mb2NhdGlvbiA9IE5ldy1PYmplY3QgU3lzdGVtLkRyYXdpbmcuU2l6ZSgzMjAsMjI1KQ0KICAgICRwcmV2aW91cy5UZXh0ID0gIlByZXZpb3VzIg0KICAgICRwcmV2aW91cy5Gb250ID0gIk1pY3Jvc29mdCBTYW5zIFNlcmlmLDEwIg0KICAgICRwcmV2aW91cy5WaXNpYmxlID0gJGZhbHNlDQogICAgJGRvd25ncmFkZUluc3RydWN0aW9ucy5Db250cm9scy5BZGQoJHByZXZpb3VzKQ0KDQogICAgJHRyb3VibGVzaG9vdGluZ0J1dHRvbiA9IE5ldy1PYmplY3QgU3lzdGVtLldpbmRvd3MuRm9ybXMuQnV0dG9uDQogICAgJHRyb3VibGVzaG9vdGluZ0J1dHRvbi5Mb2NhdGlvbiA9IE5ldy1PYmplY3QgU3lzdGVtLkRyYXdpbmcuU2l6ZSgxMCwyMjUpDQogICAgJHRyb3VibGVzaG9vdGluZ0J1dHRvbi5TaXplID0gTmV3LU9iamVjdCBTeXN0ZW0uRHJhd2luZy5TaXplKDIwMCwzMCkNCiAgICAkdHJvdWJsZXNob290aW5nQnV0dG9uLlRleHQgPSAiVHJvdWJsZXNob290aW5nIg0KICAgICR0cm91Ymxlc2hvb3RpbmdCdXR0b24uRm9udCA9ICJNaWNyb3NvZnQgU2FucyBTZXJpZiwxMCINCiAgICAkdHJvdWJsZXNob290aW5nQnV0dG9uLlZpc2libGUgPSAkZmFsc2UNCiAgICAkdHJvdWJsZXNob290aW5nQnV0dG9uLkFkZF9DbGljayh7DQogICAgICAgICR0cm91Ymxlc2hvb3RpbmdCdXR0b24uVmlzaWJsZSA9ICRmYWxzZQ0KICAgICAgICB0cm91Ymxlc2hvb3RpbmcNCiAgICB9KQ0KICAgICRkb3duZ3JhZGVJbnN0cnVjdGlvbnMuQ29udHJvbHMuQWRkKCR0cm91Ymxlc2hvb3RpbmdCdXR0b24pDQoNCiAgICAkYmFja0J1dHRvbiA9IE5ldy1PYmplY3QgU3lzdGVtLldpbmRvd3MuRm9ybXMuQnV0dG9uDQogICAgJGJhY2tCdXR0b24uTG9jYXRpb24gPSAgTmV3LU9iamVjdCBTeXN0ZW0uRHJhd2luZy5TaXplKDQwMCwyMjUpDQogICAgJGJhY2tCdXR0b24uVGV4dCA9ICJCYWNrIg0KICAgICRiYWNrQnV0dG9uLkZvbnQgPSAiTWljcm9zb2Z0IFNhbnMgU2VyaWYsMTAiDQogICAgJGJhY2tCdXR0b24uVmlzaWJsZSA9ICRmYWxzZQ0KICAgICRiYWNrQnV0dG9uLkFkZF9DbGljayh7DQogICAgICAgICRiYWNrQnV0dG9uLlZpc2libGUgPSAkZmFsc2UNCiAgICAgICAgJG5leHQuVmlzaWJsZSA9ICR0cnVlDQogICAgICAgICRwcmV2aW91cy5WaXNpYmxlID0gJHRydWUNCiAgICAgICAgJHRyb3VibGVzaG9vdGluZ0J1dHRvbi5WaXNpYmxlID0gJHRydWUNCiAgICAgICAgJHN0YXJ0VXBQYWdlLlRleHQgPSAiVGhlbiBwcmVzcyB0aGUgMiBrZXkgYW5kIGhpdCBlbnRlci5gblNlYXJjaCBmb3IgYCJlY2hvIHZyYCIuYG5UaGVuIHBhc3RlIGAiMzQuNC42MzE1NDcuMWAiIGludG8gdGhlIGZpZWxkIHVzaW5nIGNydGwrdiAoY29waWVkIHRvIGNsaXBib2FyZCkgYW5kYG5oaXQgZW50ZXIuYG5UaGVuIHByZXNzIFkgYW5kIGhpdCBlbnRlciBhbmQgd2FpdCBmb3IgdGhlIGRvd25sb2FkIHRvIGZpbmlzaGBuSWYgdGhlIGRvd25sb2FkIGdpdmVzIGVycm9ycyBjbGljayB0aGUgdHJvdWJsZXNob290aW5nIGJ1dHRvbi4iDQogICAgfSkNCiAgICAkZG93bmdyYWRlSW5zdHJ1Y3Rpb25zLkNvbnRyb2xzLkFkZCgkYmFja0J1dHRvbikNCg0KICAgICRzdGFydFVwUGFnZSA9IE5ldy1PYmplY3QgU3lzdGVtLldpbmRvd3MuRm9ybXMuTGFiZWwNCiAgICAkc3RhcnRVcFBhZ2UuTG9jYXRpb24gPSBOZXctT2JqZWN0IFN5c3RlbS5EcmF3aW5nLlNpemUoMTAsNDApDQogICAgJHN0YXJ0VXBQYWdlLlNpemUgPSBOZXctT2JqZWN0IFN5c3RlbS5EcmF3aW5nLlNpemUoMjAwMCwxNTApDQogICAgJHN0YXJ0VXBQYWdlLlRleHQgPSAiVGhlc2UgYXJlIGluc3RydWN0aW9ucyBvbiBob3cgdG8gZG93bmdyYWRlIHlvdXIgRWNob1ZSIGNsaWVudCB0byB0aGUgY29ycmVjdGBudmVyc2lvbiBmb3IgRWNobyBSZWxheS5gblNpbXBseSBtb3ZlIHRoaXMgd2luZG93IG9wZW4gbmV4dCB0byB0aGUgZG93bmdyYWRlci5gblByZXNzIG5leHQgdG8gZ28gdG8gdGhlIG5leHQgc3RlcC4iDQogICAgJHN0YXJ0VXBQYWdlLkZvbnQgPSAiTWljcm9zb2Z0IFNhbnMgU2VyaWYsMTAiDQogICAgJGRvd25ncmFkZUluc3RydWN0aW9ucy5Db250cm9scy5BZGQoJHN0YXJ0VXBQYWdlKQ0KDQogICAgJGdsb2JhbDpjdXJyZW50UGFnZSA9IDANCg0KICAgICRuZXh0LkFkZF9DbGljayh7DQogICAgICAgIHN3aXRjaCAoJGdsb2JhbDpjdXJyZW50UGFnZSkgew0KICAgICAgICAgICAgMCB7IGRvd25ncmFkZUluc3RydWN0aW9uc1BhZ2UxOyAkZ2xvYmFsOmN1cnJlbnRQYWdlID0gMSB9DQogICAgICAgICAgICAxIHsgZG93bmdyYWRlSW5zdHJ1Y3Rpb25zUGFnZTI7ICRnbG9iYWw6Y3VycmVudFBhZ2UgPSAyIH0NCiAgICAgICAgICAgIDIgeyBkb3duZ3JhZGVJbnN0cnVjdGlvbnNQYWdlMzsgJGdsb2JhbDpjdXJyZW50UGFnZSA9IDMgfQ0KICAgICAgICAgICAgMyB7ICRkb3duZ3JhZGVJbnN0cnVjdGlvbnMuQ2xvc2UoKTsgJGdsb2JhbDpjdXJyZW50UGFnZSA9IDQgfQ0KICAgICAgICB9DQogICAgfSkNCg0KICAgICRwcmV2aW91cy5BZGRfQ2xpY2soew0KICAgICAgICBzd2l0Y2ggKCRnbG9iYWw6Y3VycmVudFBhZ2UpIHsNCiAgICAgICAgICAgIDEgeyBkb3duZ3JhZGVJbnN0cnVjdGlvbnNQYWdlMDsgJGdsb2JhbDpjdXJyZW50UGFnZSA9IDA7ICRwcmV2aW91cy52aXNpYmxlID0gJGZhbHNlIH0NCiAgICAgICAgICAgIDIgeyBkb3duZ3JhZGVJbnN0cnVjdGlvbnNQYWdlMTsgJGdsb2JhbDpjdXJyZW50UGFnZSA9IDEgfQ0KICAgICAgICAgICAgMyB7IGRvd25ncmFkZUluc3RydWN0aW9uc1BhZ2UyOyAkZ2xvYmFsOmN1cnJlbnRQYWdlID0gMiB9DQogICAgICAgICAgICA0IHsgZG93bmdyYWRlSW5zdHJ1Y3Rpb25zUGFnZTM7ICRnbG9iYWw6Y3VycmVudFBhZ2UgPSAzIH0NCiAgICAgICAgfQ0KICAgIH0pDQoNCiAgICAkZG93bmdyYWRlSW5zdHJ1Y3Rpb25zLlNob3dEaWFsb2coKQ0KICAgICRtZW51LlNob3coKQ0KfQ0KDQpmdW5jdGlvbiBkb3duZ3JhZGUgew0KICAgICRkb3duZ3JhZGVPcHRpb25zLkhpZGUoKQ0KICAgICRtZW51LkhpZGUoKQ0KDQogICAgJGRvd25ncmFkZU1lbnUgPSBuZXctb2JqZWN0IFN5c3RlbS5XaW5kb3dzLkZvcm1zLkZvcm0NCiAgICAkZG93bmdyYWRlTWVudS50ZXh0ID0gIkVjaG8gUmVsYXkgRG93bmdyYWRlciINCiAgICAkZG93bmdyYWRlTWVudS5JY29uID0gW1N5c3RlbS5EcmF3aW5nLkljb25dOjpFeHRyYWN0QXNzb2NpYXRlZEljb24oJGZpbGVMb2NhdGlvbjEpDQogICAgJGRvd25ncmFkZU1lbnUuU2l6ZSA9IE5ldy1PYmplY3QgRHJhd2luZy5TaXplIEAoMzAwLCAyMDApDQogICAgJGRvd25ncmFkZU1lbnUuU3RhcnRQb3NpdGlvbiA9ICJDZW50ZXJTY3JlZW4iDQogICAgJGRvd25ncmFkZU1lbnUuRm9ybUJvcmRlclN0eWxlID0gIkZpeGVkRGlhbG9nIg0KICAgICRkb3duZ3JhZGVNZW51Lk1heGltaXplQm94ID0gJGZhbHNlDQoNCiAgICAkZG93bmdyYWRlTGFiZWwgPSBOZXctT2JqZWN0IFN5c3RlbS5XaW5kb3dzLkZvcm1zLkxhYmVsDQogICAgJGRvd25ncmFkZUxhYmVsLkxvY2F0aW9uID0gTmV3LU9iamVjdCBTeXN0ZW0uRHJhd2luZy5TaXplKDEwLDEwKQ0KICAgICRkb3duZ3JhZGVMYWJlbC5TaXplID0gTmV3LU9iamVjdCBTeXN0ZW0uRHJhd2luZy5TaXplKDIwMCwyMCkNCiAgICAkZG93bmdyYWRlTGFiZWwuVGV4dCA9ICJFY2hvIFJlbGF5IERvd25ncmFkZXIiDQogICAgJGRvd25ncmFkZUxhYmVsLkZvbnQgPSAiTWljcm9zb2Z0IFNhbnMgU2VyaWYsMTAiDQogICAgJGRvd25ncmFkZU1lbnUuQ29udHJvbHMuQWRkKCRkb3duZ3JhZGVMYWJlbCkNCg0KICAgICRkb3duZ3JhZGVCdXR0b24gPSBOZXctT2JqZWN0IFN5c3RlbS5XaW5kb3dzLkZvcm1zLkJ1dHRvbg0KICAgICRkb3duZ3JhZGVCdXR0b24uTG9jYXRpb24gPSBOZXctT2JqZWN0IFN5c3RlbS5EcmF3aW5nLlNpemUoMTAsMzApDQogICAgJGRvd25ncmFkZUJ1dHRvbi5TaXplID0gTmV3LU9iamVjdCBTeXN0ZW0uRHJhd2luZy5TaXplKDIwMCwzMCkNCiAgICAkZG93bmdyYWRlQnV0dG9uLlRleHQgPSAiRG93bmdyYWRlIg0KICAgICRkb3duZ3JhZGVCdXR0b24uRm9udCA9ICJNaWNyb3NvZnQgU2FucyBTZXJpZiwxMCINCiAgICAkZG93bmdyYWRlQnV0dG9uLkFkZF9DbGljayh7DQogICAgICAgICRkb3duZ3JhZGVCdXR0b24udGV4dCA9ICJEb3dubG9hZGluZy4uLiINCiAgICAgICAgJGRvd25ncmFkZUluc3RhbGxlciA9ICJodHRwczovL2dpdGh1Yi5jb20vQ29tcHV0ZXJFbGl0ZS9PY3VsdXMtZG93bmdyYWRlci9yZWxlYXNlcy9kb3dubG9hZC8xLjExLjM2L25ldDYuMC4xLnppcCINCiAgICAgICAgJGRvd25ncmFkZVBhdGggPSAiJGVudjp0ZW1wXGRvd25ncmFkZXIuemlwIg0KICAgICAgICBJbnZva2UtV2ViUmVxdWVzdCAtVXJpICRkb3duZ3JhZGVJbnN0YWxsZXIgLU91dEZpbGUgJGRvd25ncmFkZVBhdGgNCiAgICAgICAgRXhwYW5kLUFyY2hpdmUgLVBhdGggJGRvd25ncmFkZVBhdGggLURlc3RpbmF0aW9uUGF0aCAkZW52OlVTRVJQUk9GSUxFXGRvd25ncmFkZXIgLWZvcmNlDQogICAgICAgIEludm9rZS1XZWJSZXF1ZXN0IC1VcmkgImh0dHBzOi8vbXNlZGdlZHJpdmVyLmF6dXJlZWRnZS5uZXQvMTE4LjAuMjA4OC43Ni9lZGdlZHJpdmVyX3dpbjY0LnppcCIgLU91dEZpbGUgIiRlbnY6dGVtcFxlZGdlZHJpdmVyLnppcCINCiAgICAgICAgRXhwYW5kLUFyY2hpdmUgLVBhdGggIiRlbnY6dGVtcFxlZGdlZHJpdmVyLnppcCIgLURlc3RpbmF0aW9uUGF0aCAiJGVudjpVU0VSUFJPRklMRVxkb3duZ3JhZGVyIiAtZm9yY2UNCiAgICAgICAgU3RhcnQtUHJvY2VzcyAiJGVudjpVU0VSUFJPRklMRVxkb3duZ3JhZGVyXE9jdWx1cyBEb3duZ3JhZGVyIg0KICAgICAgICBzdGFydC1zbGVlcCAtcyAxDQogICAgICAgIGlmICgoZ2V0LXByb2Nlc3MgIk9jdWx1cyBEb3duZ3JhZGVyIikgLWVxICRudWxsKSB7DQogICAgICAgICAgICAkZG93bmdyYWRlQnV0dG9uLnRleHQgPSAiRG93bmdyYWRlIg0KICAgICAgICAgICAgJG5vRG90TkVULlZpc2libGUgPSAkdHJ1ZQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgZG93bmdyYWRlSW5zdHJ1Y3Rpb25zDQogICAgICAgICAgICB3aGlsZSAoKGdldC1wcm9jZXNzICJPY3VsdXMgRG93bmdyYWRlciIpIC1uZSAkbnVsbCkgew0KICAgICAgICAgICAgICAgIFtTeXN0ZW0uV2luZG93cy5Gb3Jtcy5NZXNzYWdlQm94XTo6c2hvdygiT2N1bHVzIERvd25ncmFkZXIgaXMgc3RpbGwgcnVubmluZywgcGxlYXNlIGNsb3NlIGl0IGJlZm9yZSBjb250aW51aW5nIiwgIkVjaG8gUmVsYXkgSW5zdGFsbGVyIiwgW3N5c3RlbS53aW5kb3dzLmZvcm1zLm1lc3NhZ2Vib3hidXR0b25zXTo6T0ssIFtzeXN0ZW0ud2luZG93cy5mb3Jtcy5tZXNzYWdlYm94aWNvbl06Oldhcm5pbmcpDQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgZGVsICRlbnY6VVNFUlBST0ZJTEVcZG93bmdyYWRlciAtcmVjdXJzZSAtZm9yY2UNCiAgICB9KQ0KICAgICRkb3duZ3JhZGVNZW51LkNvbnRyb2xzLkFkZCgkZG93bmdyYWRlQnV0dG9uKQ0KDQogICAgJGluc3RhbGxkb3RORVQgPSBOZXctT2JqZWN0IFN5c3RlbS5XaW5kb3dzLkZvcm1zLkJ1dHRvbg0KICAgICRpbnN0YWxsZG90TkVULkxvY2F0aW9uID0gTmV3LU9iamVjdCBTeXN0ZW0uRHJhd2luZy5TaXplKDEwLDcwKQ0KICAgICRpbnN0YWxsZG90TkVULlNpemUgPSBOZXctT2JqZWN0IFN5c3RlbS5EcmF3aW5nLlNpemUoMjAwLDMwKQ0KICAgICRpbnN0YWxsZG90TkVULlRleHQgPSAiSW5zdGFsbCAuTkVUIDYuMCINCiAgICAkaW5zdGFsbGRvdE5FVC5Gb250ID0gIk1pY3Jvc29mdCBTYW5zIFNlcmlmLDEwIg0KICAgICRpbnN0YWxsZG90TkVULkFkZF9DbGljayh7DQogICAgICAgICRkb3RORVRJbnN0YWxsZXIgPSAiaHR0cHM6Ly9kb3dubG9hZC52aXN1YWxzdHVkaW8ubWljcm9zb2Z0LmNvbS9kb3dubG9hZC9wci8xYWMwYjU3ZS1jZjY0LTQ4N2YtYWVjZi1kN2RmMDExMWZkNTYvMjQ4NGNiZTFmZmFjY2VhY2FhNDFlYWI5MmE2ZGU5OTgvZG90bmV0LXJ1bnRpbWUtNi4wLjMtd2luLXg2NC5leGUiDQogICAgICAgICRkb3RORVRJbnN0YWxsZXJQYXRoID0gIiRlbnY6dGVtcFxkb3RORVRJbnN0YWxsZXIuZXhlIg0KICAgICAgICAkaW5zdGFsbGRvdE5FVC50ZXh0ID0gIkRvd25sb2FkaW5nLi4uIg0KICAgICAgICBJbnZva2UtV2ViUmVxdWVzdCAtVXJpICRkb3RORVRJbnN0YWxsZXIgLU91dEZpbGUgJGRvdE5FVEluc3RhbGxlclBhdGgNCiAgICAgICAgJGluc3RhbGxEb3RORVQudGV4dCA9ICJBY2NlcHQgUHJvbXB0Ig0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgU3RhcnQtUHJvY2VzcyAkZG90TkVUSW5zdGFsbGVyUGF0aCAtdmVyYiBydW5BcyAtQXJndW1lbnRMaXN0ICIvaW5zdGFsbCAvcXVpZXQgL25vcmVzdGFydCINCiAgICAgICAgfSBjYXRjaCB7DQogICAgICAgICAgICAkbm9Eb3RORVQuVmlzaWJsZSA9ICR0cnVlDQogICAgICAgICAgICAkaW5zdGFsbGRvdE5FVC50ZXh0ID0gIkluc3RhbGwgLk5FVCA2LjAiDQogICAgICAgICAgICByZXR1cm4NCiAgICAgICAgfQ0KICAgICAgICAkaW5zdGFsbERvdE5FVC50ZXh0ID0gIkluc3RhbGxpbmcuLi4iDQogICAgICAgIHN0YXJ0LXNsZWVwIC1zIDMNCiAgICAgICAgJG5vRG90TkVULlZpc2libGUgPSAkZmFsc2UNCiAgICAgICAgJGluc3RhbGxkb3RORVQudGV4dCA9ICJJbnN0YWxsIC5ORVQgNi4wIg0KICAgIH0pDQogICAgJGRvd25ncmFkZU1lbnUuQ29udHJvbHMuQWRkKCRpbnN0YWxsZG90TkVUKQ0KDQogICAgJG5vRG90TkVUID0gTmV3LU9iamVjdCBTeXN0ZW0uV2luZG93cy5Gb3Jtcy5MYWJlbA0KICAgICRub0RvdE5FVC5Mb2NhdGlvbiA9IE5ldy1PYmplY3QgU3lzdGVtLkRyYXdpbmcuU2l6ZSgxMCwxMDApDQogICAgJG5vRG90TkVULlNpemUgPSBOZXctT2JqZWN0IFN5c3RlbS5EcmF3aW5nLlNpemUoMjAwMCwyMCkNCiAgICAkbm9Eb3RORVQuVGV4dCA9ICJZb3UgZGlkIG5vdCBpbnN0YWxsIC5ORVQgNi4wIg0KICAgICRub0RvdE5FVC5Gb3JlQ29sb3IgPSAiUmVkIg0KICAgICRub0RvdE5FVC5Gb250ID0gIk1pY3Jvc29mdCBTYW5zIFNlcmlmLDEwIg0KICAgICRub0RvdE5FVC5WaXNpYmxlID0gJGZhbHNlDQogICAgJGRvd25ncmFkZU1lbnUuQ29udHJvbHMuQWRkKCRub0RvdE5FVCkNCg0KICAgICRkb3duZ3JhZGVUb29sR2l0aHViID0gTmV3LU9iamVjdCBTeXN0ZW0uV2luZG93cy5Gb3Jtcy5MaW5rTGFiZWwNCiAgICAkZG93bmdyYWRlVG9vbEdpdGh1Yi5Mb2NhdGlvbiA9IE5ldy1PYmplY3QgU3lzdGVtLkRyYXdpbmcuU2l6ZSgxMCwxMjApDQogICAgJGRvd25ncmFkZVRvb2xHaXRodWIuU2l6ZSA9IE5ldy1PYmplY3QgU3lzdGVtLkRyYXdpbmcuU2l6ZSgyMDAsNDApDQogICAgJGRvd25ncmFkZVRvb2xHaXRodWIuVGV4dCA9ICJPY3VsdXMgRG93bmdyYWRlcmBuTWFkZSBCeTogQ29tcHV0ZXJFbGl0ZSINCiAgICAkZG93bmdyYWRlVG9vbEdpdGh1Yi5Gb250ID0gIk1pY3Jvc29mdCBTYW5zIFNlcmlmLDEwIg0KICAgICRkb3duZ3JhZGVUb29sR2l0aHViLkFkZF9DbGljayh7ZXhwbG9yZXIgaHR0cHM6Ly9naXRodWIuY29tL0NvbXB1dGVyRWxpdGUvT2N1bHVzLWRvd25ncmFkZXJ9KQ0KICAgICRkb3duZ3JhZGVNZW51LkNvbnRyb2xzLkFkZCgkZG93bmdyYWRlVG9vbEdpdGh1YikNCg0KICAgICRkb3duZ3JhZGVNZW51LlNob3dEaWFsb2coKQ0KICAgICRtZW51LlNob3coKQ0KfQ0KDQpmdW5jdGlvbiBlbnRpdGxlbWVudCB7DQogICAgJGRvd25ncmFkZU9wdGlvbnMuSGlkZSgpDQogICAgJG1lbnUuSGlkZSgpDQoNCiAgICAkZG93bmdyYWRlTWVudSA9IG5ldy1vYmplY3QgU3lzdGVtLldpbmRvd3MuRm9ybXMuRm9ybQ0KICAgICRkb3duZ3JhZGVNZW51LnRleHQgPSAiRWNobyBSZWxheSBEb3duZ3JhZGVyIg0KICAgICRkb3duZ3JhZGVNZW51Lkljb24gPSBbU3lzdGVtLkRyYXdpbmcuSWNvbl06OkV4dHJhY3RBc3NvY2lhdGVkSWNvbigkZmlsZUxvY2F0aW9uMSkNCiAgICAkZG93bmdyYWRlTWVudS5TaXplID0gTmV3LU9iamVjdCBEcmF3aW5nLlNpemUgQCgzMDAsIDIwMCkNCiAgICAkZG93bmdyYWRlTWVudS5TdGFydFBvc2l0aW9uID0gIkNlbnRlclNjcmVlbiINCiAgICAkZG93bmdyYWRlTWVudS5Gb3JtQm9yZGVyU3R5bGUgPSAiRml4ZWREaWFsb2ciDQogICAgJGRvd25ncmFkZU1lbnUuTWF4aW1pemVCb3ggPSAkZmFsc2UNCg0KICAgICRkb3duZ3JhZGVMYWJlbCA9IE5ldy1PYmplY3QgU3lzdGVtLldpbmRvd3MuRm9ybXMuTGFiZWwNCiAgICAkZG93bmdyYWRlTGFiZWwuTG9jYXRpb24gPSBOZXctT2JqZWN0IFN5c3RlbS5EcmF3aW5nLlNpemUoMTAsMTApDQogICAgJGRvd25ncmFkZUxhYmVsLlNpemUgPSBOZXctT2JqZWN0IFN5c3RlbS5EcmF3aW5nLlNpemUoMjAwLDIwKQ0KICAgICRkb3duZ3JhZGVMYWJlbC5UZXh0ID0gIkVjaG8gUmVsYXkgRG93bmdyYWRlciINCiAgICAkZG93bmdyYWRlTGFiZWwuRm9udCA9ICJNaWNyb3NvZnQgU2FucyBTZXJpZiwxMCINCiAgICAkZG93bmdyYWRlTWVudS5Db250cm9scy5BZGQoJGRvd25ncmFkZUxhYmVsKQ0KDQoNCiAgICAkaW5zdGFsbFByb2dyZXNzID0gTmV3LU9iamVjdCBTeXN0ZW0uV2luZG93cy5Gb3Jtcy5Qcm9ncmVzc0Jhcg0KICAgICRpbnN0YWxsUHJvZ3Jlc3MuTG9jYXRpb24gPSBOZXctT2JqZWN0IFN5c3RlbS5EcmF3aW5nLlNpemUoMTAsMTAwKQ0KICAgICRpbnN0YWxsUHJvZ3Jlc3MuU2l6ZSA9IE5ldy1PYmplY3QgU3lzdGVtLkRyYXdpbmcuU2l6ZSgyMDAsMTApDQogICAgJGluc3RhbGxQcm9ncmVzcy5TdHlsZSA9ICJDb250aW51b3VzIg0KICAgICRpbnN0YWxsUHJvZ3Jlc3MuTWF4aW11bSA9IDEwMA0KICAgICRpbnN0YWxsUHJvZ3Jlc3MubWluaW11bSA9IDANCiAgICAkaW5zdGFsbFByb2dyZXNzLlZhbHVlID0gMA0KICAgICRpbnN0YWxsUHJvZ3Jlc3MuVmlzaWJsZSA9ICRmYWxzZQ0KICAgICRkb3duZ3JhZGVNZW51LkNvbnRyb2xzLkFkZCgkaW5zdGFsbFByb2dyZXNzKQ0KDQogICAgJGZvbGRlclBpY2tlciA9IE5ldy1PYmplY3QgU3lzdGVtLldpbmRvd3MuRm9ybXMuQnV0dG9uDQogICAgJGZvbGRlclBpY2tlci5Mb2NhdGlvbiA9IE5ldy1PYmplY3QgU3lzdGVtLkRyYXdpbmcuU2l6ZSgxMCwzMCkNCiAgICAkZm9sZGVyUGlja2VyLlNpemUgPSBOZXctT2JqZWN0IFN5c3RlbS5EcmF3aW5nLlNpemUoMjAwLDMwKQ0KICAgICRmb2xkZXJQaWNrZXIuVGV4dCA9ICJUYXJnZXQgZm9sZGVyIg0KICAgICRmb2xkZXJQaWNrZXIuRm9udCA9ICJNaWNyb3NvZnQgU2FucyBTZXJpZiwxMCINCiAgICAkZm9sZGVyUGlja2VyLkFkZF9DbGljayh7DQogICAgICAgICRsb2NhdGlvbnMgPSBHZXQtQ2hpbGRJdGVtICJIS0NVOlxTT0ZUV0FSRVxPY3VsdXMgVlIsIExMQ1xPY3VsdXNcTGlicmFyaWVzXCoiDQogICAgICAgICRsb2NhdGlvbkxpc3QgPSBbU3lzdGVtLkNvbGxlY3Rpb25zLkFycmF5TGlzdF1AKCkNCiAgICAgICAgZm9yZWFjaCAoJGxvY2F0aW9uIGluICRsb2NhdGlvbnMpIHsNCiAgICAgICAgICAgICRsb2NhdGlvbkxpc3QuQWRkKCQoR2V0LUl0ZW1Qcm9wZXJ0eSAiSEtDVTpcU09GVFdBUkVcT2N1bHVzIFZSLCBMTENcT2N1bHVzXExpYnJhcmllc1wkKCRsb2NhdGlvbi5QU0NoaWxkTmFtZSkiIC1OYW1lIE9yaWdpbmFsUGF0aCB8IHNlbGVjdCAtRXhwYW5kUHJvcGVydHkgT3JpZ2luYWxQYXRoKSkNCiAgICAgICAgfQ0KICAgICAgICAkaT0wDQogICAgICAgIGZvcmVhY2ggKCRsb2NhdGlvbiBpbiAkbG9jYXRpb25MaXN0KSB7DQogICAgICAgICAgICBpZiAodGVzdC1wYXRoICIkbG9jYXRpb25cU29mdHdhcmVccmVhZHktYXQtZGF3bi1lY2hvLWFyZW5hXGJpblx3aW4xMFxlY2hvdnIuZXhlIikgew0KICAgICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICB9DQogICAgICAgICAgICAkaSsrDQogICAgICAgIH0NCiAgICAgICAgJHBpY2tNZW51ID0gbmV3LW9iamVjdCBTeXN0ZW0uV2luZG93cy5Gb3Jtcy5Gb3JtDQogICAgICAgICRwaWNrTWVudS50ZXh0ID0gIkVjaG8gUmVsYXkgRG93bmdyYWRlciINCiAgICAgICAgJHBpY2tNZW51Lkljb24gPSBbU3lzdGVtLkRyYXdpbmcuSWNvbl06OkV4dHJhY3RBc3NvY2lhdGVkSWNvbigkZmlsZUxvY2F0aW9uMSkNCiAgICAgICAgJHBpY2tNZW51LlNpemUgPSBOZXctT2JqZWN0IERyYXdpbmcuU2l6ZSBAKDMyMCwgMjcwKQ0KICAgICAgICAkcGlja01lbnUuU3RhcnRQb3NpdGlvbiA9ICJDZW50ZXJTY3JlZW4iDQogICAgICAgICRwaWNrTWVudS5Gb3JtQm9yZGVyU3R5bGUgPSAiRml4ZWREaWFsb2ciDQogICAgICAgICRwaWNrTWVudS5NYXhpbWl6ZUJveCA9ICRmYWxzZQ0KICAgICAgICAkcGlja01lbnUuU2hvd0luVGFza2JhciA9ICRmYWxzZQ0KDQogICAgICAgICRwaWNrTGFiZWwgPSBOZXctT2JqZWN0IFN5c3RlbS5XaW5kb3dzLkZvcm1zLkxhYmVsDQogICAgICAgICRwaWNrTGFiZWwuTG9jYXRpb24gPSBOZXctT2JqZWN0IFN5c3RlbS5EcmF3aW5nLlNpemUoMTAsMTApDQogICAgICAgICRwaWNrTGFiZWwuU2l6ZSA9IE5ldy1PYmplY3QgU3lzdGVtLkRyYXdpbmcuU2l6ZSgyODAsMjApDQogICAgICAgICRwaWNrTGFiZWwuVGV4dCA9ICJTZWxlY3QgZm9sZGVyIHRvIGRvd25sb2FkIEVjaG8gVlIgaW50byINCiAgICAgICAgJHBpY2tMYWJlbC5UZXh0QWxpZ24gPSAiTWlkZGxlQ2VudGVyIg0KICAgICAgICAkcGlja0xhYmVsLkZvbnQgPSAiTWljcm9zb2Z0IFNhbnMgU2VyaWYsMTAiDQogICAgICAgICRwaWNrTWVudS5Db250cm9scy5BZGQoJHBpY2tMYWJlbCkNCg0KICAgICAgICAkcGlja0xpc3QgPSBOZXctT2JqZWN0IFN5c3RlbS5XaW5kb3dzLkZvcm1zLkxpc3RCb3gNCiAgICAgICAgJHBpY2tMaXN0LkxvY2F0aW9uID0gTmV3LU9iamVjdCBTeXN0ZW0uRHJhd2luZy5TaXplKDEwLDMwKQ0KICAgICAgICAkcGlja0xpc3QuU2l6ZSA9IE5ldy1PYmplY3QgU3lzdGVtLkRyYXdpbmcuU2l6ZSgyODAsMTAwKQ0KICAgICAgICAkcGlja0xpc3QuRm9udCA9ICJNaWNyb3NvZnQgU2FucyBTZXJpZiwxMCINCiAgICAgICAgJHBpY2tMaXN0LkRhdGFTb3VyY2UgPSAkbG9jYXRpb25MaXN0DQogICAgICAgICRwaWNrTGlzdC5TZWxlY3RlZEluZGV4ID0gJGkNCiAgICAgICAgJHBpY2tNZW51LkNvbnRyb2xzLkFkZCgkcGlja0xpc3QpDQoNCiAgICAgICAgJGN1c3RvbVBhdGggPSBOZXctT2JqZWN0IFN5c3RlbS5XaW5kb3dzLkZvcm1zLkJ1dHRvbg0KICAgICAgICAkY3VzdG9tUGF0aC5Mb2NhdGlvbiA9IE5ldy1PYmplY3QgU3lzdGVtLkRyYXdpbmcuU2l6ZSgxMCwxNDApDQogICAgICAgICRjdXN0b21QYXRoLlNpemUgPSBOZXctT2JqZWN0IFN5c3RlbS5EcmF3aW5nLlNpemUoMjgwLDMwKQ0KICAgICAgICAkY3VzdG9tUGF0aC5UZXh0ID0gIkN1c3RvbSBQYXRoIg0KICAgICAgICAkY3VzdG9tUGF0aC5Gb250ID0gIk1pY3Jvc29mdCBTYW5zIFNlcmlmLDEwIg0KICAgICAgICAkY3VzdG9tUGF0aC5BZGRfQ2xpY2soew0KICAgICAgICAgICAgJGNob2ljZSA9IFtTeXN0ZW0uV2luZG93cy5Gb3Jtcy5NZXNzYWdlQm94XTo6U2hvdygiSXQgaXMgcmVjb21tZW5kZWQgdGhhdCB5b3UgdXNlIHRoZSBwcmUtc2VsZWN0ZWQgZm9sZGVyIHNvIHRoYXQgdGhlIE9jdWx1cyBhcHAgbGF1bmNoZXMgdGhlIGRvd25ncmFkZWQgdmVyc2lvbiBvZiB0aGUgZ2FtZS5gbmBuYFdoaWxlIHlvdSBjYW4gdXNlIGEgY3VzdG9tIHBhdGggaXQgaXMgbm90IHJlY29tbWVuZGVkLiBXb3VsZCB5b3Ugc3RpbGwgbGlrZSB0byB1c2UgYSBjdXN0b20gcGF0aD8iLCAiRWNobyBSZWxheSBEb3duZ3JhZGVyIiwgW3N5c3RlbS53aW5kb3dzLmZvcm1zLm1lc3NhZ2Vib3hidXR0b25zXTo6WWVzTm8sIFtzeXN0ZW0ud2luZG93cy5mb3Jtcy5tZXNzYWdlYm94aWNvbl06Oldhcm5pbmcpDQogICAgICAgICAgICBpZiAoJGNob2ljZSAtZXEgIk5vIikgew0KICAgICAgICAgICAgICAgIHJldHVybg0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgJGdsb2JhbDpnYW1lUGF0aCA9IFJlYWQtRm9sZGVyQnJvd3NlckRpYWxvZyAtTWVzc2FnZSAiU2VsZWN0IHRoZSBmb2xkZXIgeW91IHdhbnQgdG8gaW5zdGFsbCBFY2hvIFZSIGludG8iDQogICAgICAgICAgICAkcGlja01lbnUuQ2xvc2UoKQ0KICAgICAgICB9KQ0KICAgICAgICAkcGlja01lbnUuQ29udHJvbHMuQWRkKCRjdXN0b21QYXRoKQ0KDQogICAgICAgICRwaWNrQnV0dG9uID0gTmV3LU9iamVjdCBTeXN0ZW0uV2luZG93cy5Gb3Jtcy5CdXR0b24NCiAgICAgICAgJHBpY2tCdXR0b24uTG9jYXRpb24gPSBOZXctT2JqZWN0IFN5c3RlbS5EcmF3aW5nLlNpemUoMTAsMTgwKQ0KICAgICAgICAkcGlja0J1dHRvbi5TaXplID0gTmV3LU9iamVjdCBTeXN0ZW0uRHJhd2luZy5TaXplKDI4MCwzMCkNCiAgICAgICAgJHBpY2tCdXR0b24uVGV4dCA9ICJTZWxlY3QiDQogICAgICAgICRwaWNrQnV0dG9uLkZvbnQgPSAiTWljcm9zb2Z0IFNhbnMgU2VyaWYsMTAiDQogICAgICAgICRwaWNrQnV0dG9uLkFkZF9DbGljayh7DQogICAgICAgICAgICBpZiAoJHBpY2tsaXN0LlNlbGVjdGVkSW5kZXggLW5lICRpKSB7DQogICAgICAgICAgICAgICAgJGNob2ljZSA9IFtTeXN0ZW0uV2luZG93cy5Gb3Jtcy5NZXNzYWdlQm94XTo6c2hvdygiSXQgaXMgcmVjb21tZW5kZWQgdGhhdCB5b3UgdXNlIHRoZSBwcmUtc2VsZWN0ZWQgZm9sZGVyIHNvIHRoYXQgdGhlIE9jdWx1cyBhcHAgbGF1bmNoZXMgdGhlIGRvd25ncmFkZWQgdmVyc2lvbiBvZiB0aGUgZ2FtZS5gbmBuYFdoaWxlIHlvdSBjYW4gc3RpbGwgcGljayB0aGlzIGZvbGRlciBpdCBpcyBub3QgcmVjb21tZW5kZWQuIFdvdWxkIHlvdSBzdGlsbCBsaWtlIHRvIHVzZSB0aGUgc2VsZWN0ZWQgZm9sZGVyPyIsICJFY2hvIFJlbGF5IERvd25ncmFkZXIiLCBbc3lzdGVtLndpbmRvd3MuZm9ybXMubWVzc2FnZWJveGJ1dHRvbnNdOjpZZXNObywgW3N5c3RlbS53aW5kb3dzLmZvcm1zLm1lc3NhZ2Vib3hpY29uXTo6V2FybmluZykNCiAgICAgICAgICAgICAgICBpZiAoJGNob2ljZSAtZXEgIk5vIikgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICAkZ2xvYmFsOmdhbWVQYXRoID0gIiQoJHBpY2tMaXN0LlNlbGVjdGVkSXRlbSlcU29mdHdhcmUiDQogICAgICAgICAgICAkcGlja01lbnUuQ2xvc2UoKQ0KICAgICAgICB9KQ0KICAgICAgICAkcGlja01lbnUuQ29udHJvbHMuQWRkKCRwaWNrQnV0dG9uKQ0KDQogICAgICAgICRwaWNrTWVudS5TaG93RGlhbG9nKCkNCiAgICB9KQ0KICAgICRkb3duZ3JhZGVNZW51LkNvbnRyb2xzLkFkZCgkZm9sZGVyUGlja2VyKQ0KDQogICAgJGRvd25ncmFkZUJ1dHRvbiA9IE5ldy1PYmplY3QgU3lzdGVtLldpbmRvd3MuRm9ybXMuQnV0dG9uDQogICAgJGRvd25ncmFkZUJ1dHRvbi5Mb2NhdGlvbiA9IE5ldy1PYmplY3QgU3lzdGVtLkRyYXdpbmcuU2l6ZSgxMCw3MCkNCiAgICAkZG93bmdyYWRlQnV0dG9uLlNpemUgPSBOZXctT2JqZWN0IFN5c3RlbS5EcmF3aW5nLlNpemUoMjAwLDMwKQ0KICAgICRkb3duZ3JhZGVCdXR0b24uVGV4dCA9ICJJbnN0YWxsIg0KICAgICRkb3duZ3JhZGVCdXR0b24uRm9udCA9ICJNaWNyb3NvZnQgU2FucyBTZXJpZiwxMCINCiAgICAkZG93bmdyYWRlQnV0dG9uLkFkZF9DbGljayh7DQoNCiAgICAgICAgaWYgKCRnbG9iYWw6Z2FtZVBhdGggLWVxICRudWxsKSB7DQogICAgICAgICAgICBbU3lzdGVtLldpbmRvd3MuRm9ybXMuTWVzc2FnZUJveF06OnNob3coIlBsZWFzZSBzZWxlY3QgYSB2YWxpZCBnYW1lIGZvbGRlciIsICJFY2hvIFJlbGF5IERvd25ncmFkZXIiLCBbc3lzdGVtLndpbmRvd3MuZm9ybXMubWVzc2FnZWJveGJ1dHRvbnNdOjpPSywgW3N5c3RlbS53aW5kb3dzLmZvcm1zLm1lc3NhZ2Vib3hpY29uXTo6V2FybmluZykNCiAgICAgICAgICAgIHJldHVybg0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKChHZXQtUFNEcml2ZSAtbmFtZSAiQyIpLmZyZWUvMUdCIC1sdCAxNSkgew0KICAgICAgICAgICAgW1N5c3RlbS5XaW5kb3dzLkZvcm1zLk1lc3NhZ2VCb3hdOjpzaG93KCJZb3UgZG8gbm90IGhhdmUgZW5vdWdoIHNwYWNlIG9uIHlvdXIgQyBkcml2ZSB0byBpbnN0YWxsIHRoZSBnYW1lLCB5b3UgbmVlZCAxNSBnaWdzIG9mIHRvdGFsIGZyZWUgc3BhY2UgKGFsdGhvdWdoIG9ubHkgNSBnaWdzIGFyZSB1c2VkIGFmdGVyIGluc3RhbGxhdGlvbiBmaW5pc2hlcykuYG5gblRoZSBPY3VsdXMgRG93bmdyYWRlciByZXF1aXJlcyBsZXNzIHRvdGFsIHN0b3JhZ2Ugc3BhY2UgYWx0aG91Z2ggaXQgaXMgaGFyZGVyIHRvIGRvLiBJZiB5b3UgY2FuIG5vdCBmcmVlIHVwIDE1IGdpZ3Mgb2Ygc3BhY2UgdXNlIHRoYXQgaW5zdGVhZC4iLCAiRWNobyBSZWxheSBEb3duZ3JhZGVyIiwgW3N5c3RlbS53aW5kb3dzLmZvcm1zLm1lc3NhZ2Vib3hidXR0b25zXTo6T0ssIFtzeXN0ZW0ud2luZG93cy5mb3Jtcy5tZXNzYWdlYm94aWNvbl06OkVycm9yKQ0KICAgICAgICAgICAgcmV0dXJuDQogICAgICAgIH0NCg0KICAgICAgICAkZG9Ob3RFeGl0TGFiZWwgPSBOZXctT2JqZWN0IFN5c3RlbS5XaW5kb3dzLkZvcm1zLkxhYmVsDQogICAgICAgICRkb05vdEV4aXRMYWJlbC5Mb2NhdGlvbiA9IE5ldy1PYmplY3QgU3lzdGVtLkRyYXdpbmcuU2l6ZSgxMCwxMTUpDQogICAgICAgICRkb05vdEV4aXRMYWJlbC5TaXplID0gTmV3LU9iamVjdCBTeXN0ZW0uRHJhd2luZy5TaXplKDIwMDAsMjAwKQ0KICAgICAgICAkZG9Ob3RFeGl0TGFiZWwuVGV4dCA9ICJEbyBub3QgZXhpdCB0aGUgaW5zdGFsbGVyIHVudGlsIGl0IGlzIGZpbmlzaGVkYG5ldmVuIGlmIGl0IGlzIGAibm90IHJlc3BvbmRpbmdgIiINCiAgICAgICAgJGRvTm90RXhpdExhYmVsLkZvbnQgPSAiTWljcm9zb2Z0IFNhbnMgU2VyaWYsMTAiDQogICAgICAgICRkb3duZ3JhZGVNZW51LkNvbnRyb2xzLkFkZCgkZG9Ob3RFeGl0TGFiZWwpDQoNCiAgICAgICAgJGRvd25ncmFkZUJ1dHRvbi5lbmFibGVkID0gJGZhbHNlDQogICAgICAgICRkb3duZ3JhZGVCdXR0b24udGV4dCA9ICJEb3dubG9hZGluZy4uLiINCiAgICAgICAgJGluc3RhbGxQcm9ncmVzcy5WaXNpYmxlID0gJHRydWUNCg0KICAgICAgICBpZiAodGVzdC1wYXRoICIkZ2xvYmFsOmdhbWVQYXRoXGJpbiIpIHsNCiAgICAgICAgICAgIGNkICRnbG9iYWw6Z2FtZVBhdGgNCiAgICAgICAgICAgIGNkLi4NCiAgICAgICAgICAgICRnbG9iYWw6Z2FtZVBhdGggPSAoZ2V0LWxvY2F0aW9uKS5QYXRoDQogICAgICAgICAgICBjZCAkc2NyaXB0OnBzc2NyaXB0cm9vdA0KICAgICAgICB9DQoNCiAgICAgICAgJGpvYiA9IFN0YXJ0LUpvYiAtU2NyaXB0QmxvY2sgew0KICAgICAgICAgICAgJHVyaSA9IE5ldy1PYmplY3QgIlN5c3RlbS5VcmkiICdodHRwczovL29uZWRyaXZlLmxpdmUuY29tL2Rvd25sb2FkP3Jlc2lkPTM1N0Y3QzE0MDBBNjg0OEMlMjExNzgyNSZhdXRoa2V5PSFBS1VXWVlaTmlhMGw5SWcnDQogICAgICAgICAgICAkcmVxdWVzdCA9IFtTeXN0ZW0uTmV0Lkh0dHBXZWJSZXF1ZXN0XTo6Q3JlYXRlKCR1cmkpDQogICAgICAgICAgICAkcmVxdWVzdC5zZXRfVGltZW91dCgxNTAwMCkNCiAgICAgICAgICAgICRyZXNwb25zZSA9ICRyZXF1ZXN0LkdldFJlc3BvbnNlKCkNCiAgICAgICAgICAgICR0b3RhbExlbmd0aCA9IFtTeXN0ZW0uTWF0aF06OkZsb29yKCRyZXNwb25zZS5nZXRfQ29udGVudExlbmd0aCgpLzEwMjQpDQogICAgICAgICAgICAkcmVzcG9uc2VTdHJlYW0gPSAkcmVzcG9uc2UuR2V0UmVzcG9uc2VTdHJlYW0oKQ0KICAgICAgICAgICAgJHRhcmdldFN0cmVhbSA9IE5ldy1PYmplY3QgLVR5cGVOYW1lIFN5c3RlbS5JTy5GaWxlU3RyZWFtIC1Bcmd1bWVudExpc3QgJGVudjp0ZW1wXGV2ci5rZXksIENyZWF0ZQ0KICAgICAgICAgICAgJGJ1ZmZlciA9IG5ldy1vYmplY3QgYnl0ZVtdIDEwS0INCiAgICAgICAgICAgICRjb3VudCA9ICRyZXNwb25zZVN0cmVhbS5SZWFkKCRidWZmZXIsMCwkYnVmZmVyLmxlbmd0aCkNCiAgICAgICAgICAgICRkb3dubG9hZGVkQnl0ZXMgPSAkY291bnQNCiAgICAgICAgICAgIHdoaWxlICgkY291bnQgLWd0IDApICAgIHsNCiAgICAgICAgICAgICAgICBbU3lzdGVtLkNvbnNvbGVdOjpDdXJzb3JMZWZ0ID0gMA0KICAgICAgICAgICAgICAgIFtTeXN0ZW0uQ29uc29sZV06OldyaXRlKCJEb3dubG9hZGVkIHswfUsgb2YgezF9SyIsIFtTeXN0ZW0uTWF0aF06OkZsb29yKCRkb3dubG9hZGVkQnl0ZXMvMTAyNCksICR0b3RhbExlbmd0aCkNCiAgICAgICAgICAgICAgICAkdGFyZ2V0U3RyZWFtLldyaXRlKCRidWZmZXIsIDAsICRjb3VudCkNCiAgICAgICAgICAgICAgICAkY291bnQgPSAkcmVzcG9uc2VTdHJlYW0uUmVhZCgkYnVmZmVyLDAsJGJ1ZmZlci5sZW5ndGgpDQogICAgICAgICAgICAgICAgJGRvd25sb2FkZWRCeXRlcyA9ICRkb3dubG9hZGVkQnl0ZXMgKyAkY291bnQNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgICR0YXJnZXRTdHJlYW0uRmx1c2goKQ0KICAgICAgICAgICAgJHRhcmdldFN0cmVhbS5DbG9zZSgpDQogICAgICAgICAgICAkdGFyZ2V0U3RyZWFtLkRpc3Bvc2UoKQ0KICAgICAgICAgICAgJHJlc3BvbnNlU3RyZWFtLkRpc3Bvc2UoKQ0KICAgICAgICB9DQoNCiAgICAgICAgd2hpbGUgKCRqb2IuU3RhdGUgLWVxICdSdW5uaW5nJykgew0KICAgICAgICAgICAgJGluc3RhbGxQcm9ncmVzcy5WYWx1ZSA9ICgoKEdldC1JdGVtICIkZW52OnRlbXBcZXZyLmtleSIpLmxlbmd0aCAvIDUwMjY5MDM0MjMpICogMTAwKQ0KICAgICAgICAgICAgc3RhcnQtc2xlZXAgLU1pbGxpc2Vjb25kcyAxMA0KICAgICAgICB9DQoNCiAgICAgICAgUmVtb3ZlLUpvYiAtSm9iICRqb2INCg0KICAgICAgICBTdGFydC1TbGVlcCAtU2Vjb25kcyAzDQogICAgICAgICRkb3duZ3JhZGVCdXR0b24udGV4dCA9ICJEZWNyeXB0aW5nLi4uIg0KDQogICAgICAgIEFkZC1UeXBlIC1Bc3NlbWJseU5hbWUgU3lzdGVtLlNlY3VyaXR5DQogICAgICAgICRqb2IgPSBzdGFydC1qb2Igew0KICAgICAgICAgICAgJGlucHV0RmlsZVBhdGggPSAiJGVudjp0ZW1wXGV2ci5rZXkiDQogICAgICAgICAgICAkb3V0cHV0RmlsZVBhdGggPSAiJGVudjp0ZW1wXGV2ci56aXAiDQogICAgICAgICAgICAka2V5ID0gW1RleHQuRW5jb2RpbmddOjpVVEY4LkdldEJ5dGVzKCJlY2hvcmVwbGF5Z2FtZWZpIikNCiAgICAgICAgICAgICRpdiA9IFtUZXh0LkVuY29kaW5nXTo6VVRGOC5HZXRCeXRlcygiZWNob3JlcGxheWdhbWVmaSIpDQogICAgICAgICAgICAkcmlqQWxnID0gTmV3LU9iamVjdCBTeXN0ZW0uU2VjdXJpdHkuQ3J5cHRvZ3JhcGh5LlJpam5kYWVsTWFuYWdlZA0KICAgICAgICAgICAgJHJpakFsZy5LZXkgPSAka2V5DQogICAgICAgICAgICAkcmlqQWxnLklWID0gJGl2DQogICAgICAgICAgICAkZGVjcnlwdG9yID0gJHJpakFsZy5DcmVhdGVEZWNyeXB0b3IoJHJpakFsZy5LZXksICRyaWpBbGcuSVYpDQogICAgICAgICAgICAkaW5GaWxlU3RyZWFtID0gTmV3LU9iamVjdCBTeXN0ZW0uSU8uRmlsZVN0cmVhbSgkaW5wdXRGaWxlUGF0aCwgW0lPLkZpbGVNb2RlXTo6T3BlbiwgW0lPLkZpbGVBY2Nlc3NdOjpSZWFkKQ0KICAgICAgICAgICAgJG91dEZpbGVTdHJlYW0gPSBOZXctT2JqZWN0IFN5c3RlbS5JTy5GaWxlU3RyZWFtKCRvdXRwdXRGaWxlUGF0aCwgW0lPLkZpbGVNb2RlXTo6Q3JlYXRlLCBbSU8uRmlsZUFjY2Vzc106OldyaXRlKQ0KICAgICAgICAgICAgJGNyeXB0b1N0cmVhbSA9IE5ldy1PYmplY3QgU3lzdGVtLlNlY3VyaXR5LkNyeXB0b2dyYXBoeS5DcnlwdG9TdHJlYW0oJGluRmlsZVN0cmVhbSwgJGRlY3J5cHRvciwgW1NlY3VyaXR5LkNyeXB0b2dyYXBoeS5DcnlwdG9TdHJlYW1Nb2RlXTo6UmVhZCkNCiAgICAgICAgICAgICRidWZmZXIgPSBOZXctT2JqZWN0IGJ5dGVbXSg0MDk2KQ0KICAgICAgICAgICAgd2hpbGUgKCgkcmVhZCA9ICRjcnlwdG9TdHJlYW0uUmVhZCgkYnVmZmVyLCAwLCAkYnVmZmVyLkxlbmd0aCkpIC1ndCAwKSB7DQogICAgICAgICAgICAgICAgJG91dEZpbGVTdHJlYW0uV3JpdGUoJGJ1ZmZlciwgMCwgJHJlYWQpDQogICAgICAgICAgICB9DQogICAgICAgICAgICAkY3J5cHRvU3RyZWFtLkNsb3NlKCkNCiAgICAgICAgICAgICRvdXRGaWxlU3RyZWFtLkNsb3NlKCkNCiAgICAgICAgICAgICRpbkZpbGVTdHJlYW0uQ2xvc2UoKQ0KICAgICAgICAgICAgJGluRmlsZVN0cmVhbS5EaXNwb3NlKCkNCiAgICAgICAgICAgICRvdXRGaWxlU3RyZWFtLkRpc3Bvc2UoKQ0KICAgICAgICAgICAgJGNyeXB0b1N0cmVhbS5EaXNwb3NlKCkNCiAgICAgICAgfQ0KDQogICAgICAgIHdoaWxlICgkam9iLlN0YXRlIC1lcSAiUnVubmluZyIpIHsNCiAgICAgICAgICAgICRpbnN0YWxsUHJvZ3Jlc3MuVmFsdWUgPSAoKChHZXQtSXRlbSAiJGVudjp0ZW1wXGV2ci56aXAiKS5sZW5ndGggLyA1MDI2OTAzNDIzKSAqIDEwMCkNCiAgICAgICAgICAgIHN0YXJ0LXNsZWVwIC1NaWxsaXNlY29uZHMgMTANCiAgICAgICAgfQ0KDQogICAgICAgIHJlbW92ZS1qb2IgLWpvYiAkam9iDQoNCiAgICAgICAgJGRvd25ncmFkZUJ1dHRvbi50ZXh0ID0gIlZlcmlmeWluZy4uLiINCiAgICAgICAgc3RhcnQtc2xlZXAgLXMgMw0KICAgICAgICBpZiAoKEdldC1GaWxlSGFzaCAkZW52OnRlbXBcZXZyLnppcCAtYWxnb3JpdGhtIG1kNSkuSGFzaCAtbmUgIkFFNDVGQ0U0QzQ1RDM4QjBCMDNFRkU0NkI1RTdFQzg0Iikgew0KICAgICAgICAgICAgJGRvd25ncmFkZUJ1dHRvbi50ZXh0ID0gIlRyeSBhZ2FpbiINCiAgICAgICAgICAgICRpbnN0YWxsUHJvZ3Jlc3MuVmlzaWJsZSA9ICRmYWxzZQ0KICAgICAgICAgICAgJGRvd25ncmFkZUJ1dHRvbi5lbmFibGVkID0gJHRydWUNCiAgICAgICAgICAgIFtTeXN0ZW0uV2luZG93cy5Gb3Jtcy5NZXNzYWdlQm94XTo6c2hvdygiVGhlIGRvd25sb2FkIGZhaWxlZCwgcGxlYXNlIHRyeSBhZ2FpbiIsICJFY2hvIFJlbGF5IERvd25ncmFkZXIiLCBbc3lzdGVtLndpbmRvd3MuZm9ybXMubWVzc2FnZWJveGJ1dHRvbnNdOjpPSywgW3N5c3RlbS53aW5kb3dzLmZvcm1zLm1lc3NhZ2Vib3hpY29uXTo6V2FybmluZykNCiAgICAgICAgICAgIHJldHVybg0KICAgICAgICB9DQogICAgICAgICRkb3duZ3JhZGVCdXR0b24udGV4dCA9ICJFeHRyYWN0aW5nLi4uIg0KICAgICAgICAkaW5zdGFsbFByb2dyZXNzLnZpc2libGUgPSAkZmFsc2UNCiAgICAgICAgc3RhcnQtc2xlZXAgLXMgMw0KICAgICAgICAkam9iID0gc3RhcnQtam9iIHsNCiAgICAgICAgICAgIHBhcmFtKCRnbG9iYWw6Z2FtZVBhdGgpDQogICAgICAgICAgICBFeHBhbmQtQXJjaGl2ZSAtUGF0aCAkZW52OnRlbXBcZXZyLnppcCAtRGVzdGluYXRpb25QYXRoICRnbG9iYWw6Z2FtZVBhdGggLWZvcmNlDQogICAgICAgIH0gLUFyZ3VtZW50TGlzdCAkZ2xvYmFsOmdhbWVQYXRoDQoNCiAgICAgICAgd2hpbGUgKCRqb2IuU3RhdGUgLWVxICJSdW5uaW5nIikgew0KICAgICAgICAgICAgc3RhcnQtc2xlZXAgLXNlY29uZHMgMQ0KICAgICAgICB9DQoNCiAgICAgICAgcmVtb3ZlLWpvYiAtam9iICRqb2INCg0KICAgICAgICAkZG93bmdyYWRlQnV0dG9uLnRleHQgPSAiUGF0Y2hpbmcuLi4iDQogICAgICAgIEludm9rZS1XZWJSZXF1ZXN0IGh0dHBzOi8vZWNoby1mb3VuZGF0aW9uLnBhZ2VzLmRldi9maWxlcy9vZmZsaW5lX2VjaG8vcG5zb3ZyLmRsbCAtb3V0RmlsZSAkZ2xvYmFsOmdhbWVQYXRoXHJlYWR5LWF0LWRhd24tZWNoby1hcmVuYVxiaW5cd2luMTBccG5zb3ZyLmRsbA0KICAgICAgICBkZWwgJGVudjp0ZW1wXGV2ci56aXANCiAgICAgICAgZGVsICRlbnY6dGVtcFxldnIua2V5DQogICAgICAgICRnbG9iYWw6Z2FtZVBhdGggPSAiJGdsb2JhbDpnYW1lUGF0aFxyZWFkeS1hdC1kYXduLWVjaG8tYXJlbmEiDQogICAgICAgICRkb3duZ3JhZGVCdXR0b24udGV4dCA9ICJGaW5pc2hlZCEiDQogICAgICAgIHN0YXJ0LXNsZWVwIC1zIDMNCiAgICAgICAgJGRvd25ncmFkZU1lbnUuQ2xvc2UoKQ0KICAgIH0pDQogICAgJGRvd25ncmFkZU1lbnUuQ29udHJvbHMuQWRkKCRkb3duZ3JhZGVCdXR0b24pDQoNCiAgICAkZG93bmdyYWRlTWVudS5TaG93RGlhbG9nKCkNCiAgICAkbWVudS5TaG93KCkNCiAgICByZXR1cm4NCn0NCmZ1bmN0aW9uIGRvd25ncmFkZU9wdGlvbnMgew0KICAgICRkb3duZ3JhZGVPcHRpb25zID0gbmV3LW9iamVjdCBTeXN0ZW0uV2luZG93cy5Gb3Jtcy5Gb3JtDQogICAgJGRvd25ncmFkZU9wdGlvbnMudGV4dCA9ICJFY2hvIFJlbGF5IERvd25ncmFkZXIiDQogICAgJGRvd25ncmFkZU9wdGlvbnMuSWNvbiA9IFtTeXN0ZW0uRHJhd2luZy5JY29uXTo6RXh0cmFjdEFzc29jaWF0ZWRJY29uKCRmaWxlTG9jYXRpb24xKQ0KICAgICRkb3duZ3JhZGVPcHRpb25zLlNpemUgPSBOZXctT2JqZWN0IERyYXdpbmcuU2l6ZSBAKDQ2MCwgMTIwKQ0KICAgICRkb3duZ3JhZGVPcHRpb25zLlN0YXJ0UG9zaXRpb24gPSAiQ2VudGVyU2NyZWVuIg0KICAgICRkb3duZ3JhZGVPcHRpb25zLkZvcm1Cb3JkZXJTdHlsZSA9ICJGaXhlZERpYWxvZyINCiAgICAkZG93bmdyYWRlT3B0aW9ucy5NYXhpbWl6ZUJveCA9ICRmYWxzZQ0KICAgICRkb3duZ3JhZGVPcHRpb25zLlNob3dJblRhc2tiYXIgPSAkZmFsc2UNCg0KICAgICRkb3duZ3JhZGVMYWJlbCA9IE5ldy1PYmplY3QgU3lzdGVtLldpbmRvd3MuRm9ybXMuTGFiZWwNCiAgICAkZG93bmdyYWRlTGFiZWwuTG9jYXRpb24gPSBOZXctT2JqZWN0IFN5c3RlbS5EcmF3aW5nLlNpemUoODAsMTApDQogICAgJGRvd25ncmFkZUxhYmVsLlNpemUgPSBOZXctT2JqZWN0IFN5c3RlbS5EcmF3aW5nLlNpemUoMjAwMCwyMCkNCiAgICAkZG93bmdyYWRlTGFiZWwuVGV4dCA9ICJXaGF0IGRvd25ncmFkZSBtZXRob2Qgd291bGQgeW91IGxpa2UgdG8gdXNlPyINCiAgICAkZG93bmdyYWRlTGFiZWwuRm9udCA9ICJNaWNyb3NvZnQgU2FucyBTZXJpZiwxMCINCiAgICAkZG93bmdyYWRlT3B0aW9ucy5Db250cm9scy5BZGQoJGRvd25ncmFkZUxhYmVsKQ0KDQogICAgJE9jdWx1cyA9IE5ldy1PYmplY3QgU3lzdGVtLldpbmRvd3MuRm9ybXMuQnV0dG9uDQogICAgJE9jdWx1cy5Mb2NhdGlvbiA9IE5ldy1PYmplY3QgU3lzdGVtLkRyYXdpbmcuU2l6ZSgxMCwzMCkNCiAgICAkT2N1bHVzLlNpemUgPSBOZXctT2JqZWN0IFN5c3RlbS5EcmF3aW5nLlNpemUoMjAwLDMwKQ0KICAgICRPY3VsdXMuVGV4dCA9ICJPY3VsdXMgRG93bmdyYWRlciINCiAgICAkT2N1bHVzLkZvbnQgPSAiTWljcm9zb2Z0IFNhbnMgU2VyaWYsMTAiDQogICAgJE9jdWx1cy5BZGRfQ2xpY2soe2Rvd25ncmFkZX0pDQogICAgJGRvd25ncmFkZU9wdGlvbnMuQ29udHJvbHMuQWRkKCRPY3VsdXMpDQoNCiAgICAkZW50aXRsZW1lbnQgPSBuZXctb2JqZWN0IFN5c3RlbS5XaW5kb3dzLkZvcm1zLkJ1dHRvbg0KICAgICRlbnRpdGxlbWVudC5Mb2NhdGlvbiA9IE5ldy1PYmplY3QgU3lzdGVtLkRyYXdpbmcuU2l6ZSgyMzAsMzApDQogICAgJGVudGl0bGVtZW50LlNpemUgPSBOZXctT2JqZWN0IFN5c3RlbS5EcmF3aW5nLlNpemUoMjAwLDMwKQ0KICAgICRlbnRpdGxlbWVudC5UZXh0ID0gIkVudGl0bGVtZW50IEJ5cGFzcyINCiAgICAkZW50aXRsZW1lbnQuRm9udCA9ICJNaWNyb3NvZnQgU2FucyBTZXJpZiwxMCINCiAgICAkZW50aXRsZW1lbnQuQWRkX0NsaWNrKHtlbnRpdGxlbWVudH0pDQogICAgJGRvd25ncmFkZU9wdGlvbnMuQ29udHJvbHMuQWRkKCRlbnRpdGxlbWVudCkNCg0KICAgICRyZWNvbW1lbmRlZCA9IE5ldy1PYmplY3QgU3lzdGVtLldpbmRvd3MuRm9ybXMuTGFiZWwNCiAgICAkcmVjb21tZW5kZWQuTG9jYXRpb24gPSBOZXctT2JqZWN0IFN5c3RlbS5EcmF3aW5nLlNpemUoMjg1LDYwKQ0KICAgICRyZWNvbW1lbmRlZC5TaXplID0gTmV3LU9iamVjdCBTeXN0ZW0uRHJhd2luZy5TaXplKDIwMDAsMjApDQogICAgJHJlY29tbWVuZGVkLlRleHQgPSAiKHJlY29tbWVuZGVkKSINCiAgICAkcmVjb21tZW5kZWQuRm9udCA9ICJNaWNyb3NvZnQgU2FucyBTZXJpZiwxMCINCiAgICAkZG93bmdyYWRlT3B0aW9ucy5Db250cm9scy5BZGQoJHJlY29tbWVuZGVkKQ0KDQoNCiAgICAkZG93bmdyYWRlT3B0aW9ucy5TaG93RGlhbG9nKCkNCn0NCg0KZnVuY3Rpb24gaW5zdGFsbCB7DQogICAgJG5vVXNlcm5hbWVPclBhc3N3b3JkLlZpc2libGUgPSAkZmFsc2UNCiAgICBpZiAoJHVzZXJuYW1lQm94LnRleHQgLWVxICIiIC1vciAkcGFzc3dvcmRCb3gudGV4dCAtZXEgIiIpIHsNCiAgICAgICAgJG5vVXNlcm5hbWVPclBhc3N3b3JkLlRleHQgPSAiUGxlYXNlIGVudGVyIGEgdXNlcm5hbWUgYW5kIHBhc3N3b3JkIg0KICAgICAgICAkbm9Vc2VybmFtZU9yUGFzc3dvcmQuVmlzaWJsZSA9ICR0cnVlDQogICAgICAgIHJldHVybg0KICAgIH0NCiAgICBpZiAoJHBhc3N3b3JkQm94LlRleHQuTGVuZ3RoIC1sdCA4KSB7DQogICAgICAgICRub1VzZXJuYW1lT3JQYXNzd29yZC5UZXh0ID0gIlBhc3N3b3JkIG11c3QgYmUgYXQgbGVhc3QgOCBjaGFyYWN0ZXJzIg0KICAgICAgICAkbm9Vc2VybmFtZU9yUGFzc3dvcmQuVmlzaWJsZSA9ICR0cnVlDQogICAgICAgIHJldHVybg0KICAgIH0NCiAgICBpZiAoJHBhc3N3b3JkQm94LlRleHQgLW5vdG1hdGNoICJbYS16XSIpIHsNCiAgICAgICAgJG5vVXNlcm5hbWVPclBhc3N3b3JkLlRleHQgPSAiUGFzc3dvcmQgbXVzdCBjb250YWluIGF0IGxlYXN0IDEgbGV0dGVyIg0KICAgICAgICAkbm9Vc2VybmFtZU9yUGFzc3dvcmQuVmlzaWJsZSA9ICR0cnVlDQogICAgICAgIHJldHVybg0KICAgIH0NCiAgICBpZiAoJHBhc3N3b3JkQm94LlRleHQgLW5vdG1hdGNoICJbMC05XSIpIHsNCiAgICAgICAgJG5vVXNlcm5hbWVPclBhc3N3b3JkLlRleHQgPSAiUGFzc3dvcmQgbXVzdCBjb250YWluIGF0IGxlYXN0IDEgbnVtYmVyIg0KICAgICAgICAkbm9Vc2VybmFtZU9yUGFzc3dvcmQuVmlzaWJsZSA9ICR0cnVlDQogICAgICAgIHJldHVybg0KICAgIH0NCiAgICBpZiAoJHVzZXJuYW1lQm94LnRleHQgLW1hdGNoICIgIiAtb3IgJHBhc3N3b3JkQm94LnRleHQgLW1hdGNoICIgIikgew0KICAgICAgICAkbm9Vc2VybmFtZU9yUGFzc3dvcmQuVGV4dCA9ICJVc2VybmFtZSBhbmQgUGFzc3dvcmQgY2Fubm90IGNvbnRhaW4gc3BhY2VzIg0KICAgICAgICAkbm9Vc2VybmFtZU9yUGFzc3dvcmQuVmlzaWJsZSA9ICR0cnVlDQogICAgICAgIHJldHVybg0KICAgIH0NCiAgICBpZiAoISh0ZXN0LXBhdGggJGdsb2JhbDpnYW1lUGF0aFxiaW5cd2luMTBcZWNob3ZyLmV4ZSkpIHsNCiAgICAgICAgJGNob2ljZSA9IFtTeXN0ZW0uV2luZG93cy5Gb3Jtcy5NZXNzYWdlQm94XTo6c2hvdygiUGxlYXNlIHNlbGVjdCBhIHZhbGlkIGdhbWUgZm9sZGVyIG9yIGluc3RhbGwgdGhlIGdhbWUuYG5gbkRvbid0IGhhdmUgdGhlIGdhbWUgaW5zdGFsbGVkPyBDbGljayBZZXMgdG8gaW5zdGFsbCBpdC4iLCAiRWNobyBSZWxheSBJbnN0YWxsZXIiLCBbc3lzdGVtLndpbmRvd3MuZm9ybXMubWVzc2FnZWJveGJ1dHRvbnNdOjpZZXNObywgW3N5c3RlbS53aW5kb3dzLmZvcm1zLm1lc3NhZ2Vib3hpY29uXTo6V2FybmluZykNCiAgICAgICAgaWYgKCRjaG9pY2UgLWVxICJZZXMiKSB7DQogICAgICAgICAgICBkb3duZ3JhZGVPcHRpb25zDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICByZXR1cm4NCiAgICAgICAgfQ0KICAgICAgICBpZiAoISh0ZXN0LXBhdGggJGdsb2JhbDpnYW1lUGF0aFxiaW5cd2luMTBcZWNob3ZyLmV4ZSkpIHsNCiAgICAgICAgICAgIFtTeXN0ZW0uV2luZG93cy5Gb3Jtcy5NZXNzYWdlQm94XTo6U2hvdygiVGhlIGdhbWUgd2FzIG5vdCBpbnN0YWxsZWQiLCAiRWNobyBSZWxheSBJbnN0YWxsZXIiLCBbc3lzdGVtLndpbmRvd3MuZm9ybXMubWVzc2FnZWJveGJ1dHRvbnNdOjpPSywgW3N5c3RlbS53aW5kb3dzLmZvcm1zLm1lc3NhZ2Vib3hpY29uXTo6RXJyb3IpDQogICAgICAgIH0NCiAgICB9DQogICAgaWYgKCRpbmZvQ2hlY2tCb3guQ2hlY2tlZCAtZXEgJGZhbHNlKSB7DQogICAgICAgICRpbmZvTGFiZWwuRm9yZUNvbG9yID0gIlJlZCINCiAgICAgICAgc3RhcnQtc2xlZXAgLU1pbGxpc2Vjb25kcyAxNTANCiAgICAgICAgJGluZm9MYWJlbC5Gb3JlQ29sb3IgPSAiQmxhY2siDQogICAgICAgIHN0YXJ0LXNsZWVwIC1NaWxsaXNlY29uZHMgMTUwDQogICAgICAgICRpbmZvTGFiZWwuRm9yZUNvbG9yID0gIlJlZCINCiAgICAgICAgc3RhcnQtc2xlZXAgLU1pbGxpc2Vjb25kcyAxNTANCiAgICAgICAgJGluZm9MYWJlbC5Gb3JlQ29sb3IgPSAiQmxhY2siDQogICAgICAgIHN0YXJ0LXNsZWVwIC1NaWxsaXNlY29uZHMgMTUwDQogICAgICAgICRpbmZvTGFiZWwuRm9yZUNvbG9yID0gIlJlZCINCiAgICAgICAgc3RhcnQtc2xlZXAgLU1pbGxpc2Vjb25kcyAxNTANCiAgICAgICAgJGluZm9MYWJlbC5Gb3JlQ29sb3IgPSAiQmxhY2siDQogICAgICAgIHJldHVybg0KICAgIH0NCiAgICBpZiAoIShUZXN0LVBhdGggJGVudjpsb2NhbGFwcGRhdGFccmFkLWJhY2t1cCkpIHsNCiAgICAgICAgQ29weS1JdGVtICIkZW52OmxvY2FsYXBwZGF0YVxyYWQiICIkZW52OmxvY2FsYXBwZGF0YVxyYWQtYmFja3VwIiAtUmVjdXJzZQ0KICAgIH0NCiAgICBpZiAoKEdldC1GaWxlSGFzaCAtUGF0aCAkZ2xvYmFsOmdhbWVQYXRoXGJpblx3aW4xMFxlY2hvdnIuZXhlKS5oYXNoIC1uZSAiQjZEMDgyNzdFNTg0NjkwMEM4MTAwNEI2NEIyOThERjZBQ0JBODM0QjY5NzAwQTY0MEI3NThCREE5NEE1MjA0MyIpIHsNCiAgICAgICAgJG5vVXNlcm5hbWVPclBhc3N3b3JkLlRleHQgPSAiWW91IGFyZSBvbiB0aGUgd3JvbmcgdmVyc2lvbiBvZiBFY2hvVlIiDQogICAgICAgICRub1VzZXJuYW1lT3JQYXNzd29yZC5WaXNpYmxlID0gJHRydWUNCiAgICAgICAgJGNob2ljZSA9IFtTeXN0ZW0ud2luZG93cy5mb3Jtcy5tZXNzYWdlYm94XTo6c2hvdygiWW91IGFyZSBvbiB0aGUgd3JvbmcgdmVyc2lvbiBvZiBFY2hvVlIsIHdvdWxkIHlvdSBsaWtlIHRvIGRvd25ncmFkZT8iICwgIkVjaG8gUmVsYXkgSW5zdGFsbGVyIiwgW3N5c3RlbS53aW5kb3dzLmZvcm1zLm1lc3NhZ2Vib3hidXR0b25zXTo6WWVzTm8sIFtzeXN0ZW0ud2luZG93cy5mb3Jtcy5tZXNzYWdlYm94aWNvbl06Oldhcm5pbmcpDQogICAgICAgIGlmICgkY2hvaWNlIC1lcSAiWWVzIikgew0KICAgICAgICAgICAgZG93bmdyYWRlT3B0aW9ucw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgcmV0dXJuDQogICAgICAgIH0NCiAgICB9DQogICAgaWYgKChHZXQtRmlsZUhhc2ggLVBhdGggJGdsb2JhbDpnYW1lUGF0aFxiaW5cd2luMTBcZWNob3ZyLmV4ZSkuaGFzaCAtbmUgIkI2RDA4Mjc3RTU4NDY5MDBDODEwMDRCNjRCMjk4REY2QUNCQTgzNEI2OTcwMEE2NDBCNzU4QkRBOTRBNTIwNDMiKSB7DQogICAgICAgIFtzeXN0ZW0ud2luZG93cy5mb3Jtcy5tZXNzYWdlYm94XTo6U2hvdygiVGhlIGdhbWUgd2FzIG5vdCBkb3duZ3JhZGVkLCBwbGVhc2UgdHJ5IGFnYWluLiIsICJFY2hvIFJlbGF5IEluc3RhbGxlciIsIFtzeXN0ZW0ud2luZG93cy5mb3Jtcy5tZXNzYWdlYm94YnV0dG9uc106Ok9LLCBbc3lzdGVtLndpbmRvd3MuZm9ybXMubWVzc2FnZWJveGljb25dOjpJbmZvcm1hdGlvbikNCiAgICAgICAgcmV0dXJuDQogICAgfQ0KICAgIG1rZGlyICIkZW52OmFwcGRhdGFcRWNobyBSZWxheSBTZXJ2ZXIgQnJvd3NlclwiDQogICAgJGNvbmZpZyA9IEB7fQ0KICAgICRjb25maWcgfCBBZGQtTWVtYmVyIC1OYW1lICd1c2VybmFtZScgLVR5cGUgTm90ZVByb3BlcnR5IC1WYWx1ZSAiJCgkdXNlcm5hbWVCb3gudGV4dCkiDQogICAgJGNvbmZpZyB8IEFkZC1NZW1iZXIgLU5hbWUgJ3Bhc3N3b3JkJyAtVHlwZSBOb3RlUHJvcGVydHkgLVZhbHVlICIkKCRwYXNzd29yZEJveC50ZXh0KSINCiAgICAkY29uZmlnIHwgQWRkLU1lbWJlciAtTmFtZSAnZ2FtZVBhdGgnIC1UeXBlIE5vdGVQcm9wZXJ0eSAtVmFsdWUgIiQoJGdsb2JhbDpnYW1lUGF0aCkiDQogICAgJGNvbmZpZyB8IGNvbnZlcnR0by1qc29uIHwgc2V0LWNvbnRlbnQgIiRlbnY6YXBwZGF0YVxFY2hvIFJlbGF5IFNlcnZlciBCcm93c2VyXGNvbmZpZy5qc29uIg0KICAgIEludm9rZS1XZWJSZXF1ZXN0ICJodHRwczovL2FsZGluMTAxLmdpdGh1Yi5pby9lY2hvLXJlbGF5LXNlcnZlci1icm93c2VyL0VjaG8lMjBSZWxheSUyMFNlcnZlciUyMEJyb3dzZXIuZXhlIiAtT3V0RmlsZSAiJGdsb2JhbDpnYW1lUGF0aFxiaW5cd2luMTBcRWNobyBSZWxheSBTZXJ2ZXIgQnJvd3Nlci5leGUiDQogICAgJFdzaFNoZWxsID0gTmV3LU9iamVjdCAtY29tT2JqZWN0IFdTY3JpcHQuU2hlbGwNCiAgICAkU2hvcnRjdXQgPSAkV3NoU2hlbGwuQ3JlYXRlU2hvcnRjdXQoIiRlbnY6VVNFUlBST0ZJTEVcRGVza3RvcFxFY2hvIFJlbGF5IFNlcnZlciBCcm93c2VyLmxuayIpDQogICAgJFNob3J0Y3V0LlRhcmdldFBhdGggPSAiJGdsb2JhbDpnYW1lUGF0aFxiaW5cd2luMTBcRWNobyBSZWxheSBTZXJ2ZXIgQnJvd3Nlci5leGUiDQogICAgJFNob3J0Y3V0LlNhdmUoKQ0KICAgICRTaG9ydGN1dCA9ICRXc2hTaGVsbC5DcmVhdGVTaG9ydGN1dCgiJGVudjpVU0VSUFJPRklMRVxEZXNrdG9wXEVjaG8gVlIubG5rIikNCiAgICAkU2hvcnRjdXQuVGFyZ2V0UGF0aCA9ICIkZ2xvYmFsOmdhbWVQYXRoXGJpblx3aW4xMFxFY2hvVlIuZXhlIg0KICAgICRTaG9ydGN1dC5TYXZlKCkNCiAgICBbc3lzdGVtLndpbmRvd3MuZm9ybXMubWVzc2FnZWJveF06OlNob3coIkVjaG8gUmVsYXkgU3VjY2Vzc2Z1bGx5IEluc3RhbGxlZCIsICJFY2hvIFJlbGF5IEluc3RhbGxlciIsIFtzeXN0ZW0ud2luZG93cy5mb3Jtcy5tZXNzYWdlYm94YnV0dG9uc106Ok9LLCBbc3lzdGVtLndpbmRvd3MuZm9ybXMubWVzc2FnZWJveGljb25dOjpJbmZvcm1hdGlvbikNCiAgICBzdGFydC1wcm9jZXNzICIkZ2xvYmFsOmdhbWVQYXRoXGJpblx3aW4xMFxFY2hvIFJlbGF5IFNlcnZlciBCcm93c2VyLmV4ZSINCiAgICAkbWVudS5DbG9zZSgpDQp9DQoNCg0KDQoNCltyZWZsZWN0aW9uLmFzc2VtYmx5XTo6TG9hZFdpdGhQYXJ0aWFsTmFtZSggIlN5c3RlbS5XaW5kb3dzLkZvcm1zIikNCltTeXN0ZW0uV2luZG93cy5Gb3Jtcy5BcHBsaWNhdGlvbl06OkVuYWJsZVZpc3VhbFN0eWxlcygpDQokbWVudSA9IG5ldy1vYmplY3QgU3lzdGVtLldpbmRvd3MuRm9ybXMuRm9ybQ0KDQokbWVudS50ZXh0ID0gIkVjaG8gUmVsYXkgSW5zdGFsbGVyIg0KJGZpbGVMb2NhdGlvbiA9IEdldC1DaW1JbnN0YW5jZSBXaW4zMl9Qcm9jZXNzIC1GaWx0ZXIgIm5hbWUgPSAnRWNobyBSZWxheSBJbnN0YWxsZXIuZXhlJyIgLUVycm9yQWN0aW9uIFNpbGVudGx5Q29udGludWUNCiRmaWxlTG9jYXRpb24xID0gJGZpbGVMb2NhdGlvbi5Db21tYW5kTGluZSAtcmVwbGFjZSAnIicsICIiDQokbWVudS5JY29uID0gW1N5c3RlbS5EcmF3aW5nLkljb25dOjpFeHRyYWN0QXNzb2NpYXRlZEljb24oJGZpbGVMb2NhdGlvbjEpDQokbWVudS5TaXplID0gTmV3LU9iamVjdCBEcmF3aW5nLlNpemUgQCg2MDAsIDQwMCkNCiRtZW51LlN0YXJ0UG9zaXRpb24gPSAiQ2VudGVyU2NyZWVuIg0KJG1lbnUuRm9ybUJvcmRlclN0eWxlID0gIkZpeGVkRGlhbG9nIg0KJG1lbnUuTWF4aW1pemVCb3ggPSAkZmFsc2UNCg0KJGxhYmVsID0gTmV3LU9iamVjdCBTeXN0ZW0uV2luZG93cy5Gb3Jtcy5MYWJlbA0KJGxhYmVsLkxvY2F0aW9uID0gTmV3LU9iamVjdCBTeXN0ZW0uRHJhd2luZy5TaXplKDEwLDEwKQ0KJGxhYmVsLlNpemUgPSBOZXctT2JqZWN0IFN5c3RlbS5EcmF3aW5nLlNpemUoMjAwLDIwKQ0KJGxhYmVsLlRleHQgPSAiRWNobyBSZWxheSBJbnN0YWxsZXIiDQokbGFiZWwuRm9udCA9ICJNaWNyb3NvZnQgU2FucyBTZXJpZiwxMCINCiRtZW51LkNvbnRyb2xzLkFkZCgkbGFiZWwpDQoNCiR1c2VybmFtZSA9IE5ldy1PYmplY3QgU3lzdGVtLldpbmRvd3MuRm9ybXMuTGFiZWwNCiR1c2VybmFtZS5Mb2NhdGlvbiA9IE5ldy1PYmplY3QgU3lzdGVtLkRyYXdpbmcuU2l6ZSgxMCw0MCkNCiR1c2VybmFtZS5TaXplID0gTmV3LU9iamVjdCBTeXN0ZW0uRHJhd2luZy5TaXplKDIwMCwyMCkNCiR1c2VybmFtZS5UZXh0ID0gIlVzZXJuYW1lIg0KJHVzZXJuYW1lLkZvbnQgPSAiTWljcm9zb2Z0IFNhbnMgU2VyaWYsMTAiDQokbWVudS5Db250cm9scy5BZGQoJHVzZXJuYW1lKQ0KDQokdXNlcm5hbWVCb3ggPSBOZXctT2JqZWN0IFN5c3RlbS5XaW5kb3dzLkZvcm1zLlRleHRCb3gNCiR1c2VybmFtZUJveC5Mb2NhdGlvbiA9IE5ldy1PYmplY3QgU3lzdGVtLkRyYXdpbmcuU2l6ZSgxMCw2MCkNCiR1c2VybmFtZUJveC5TaXplID0gTmV3LU9iamVjdCBTeXN0ZW0uRHJhd2luZy5TaXplKDIwMCwyMCkNCiR1c2VybmFtZUJveC5Gb250ID0gIk1pY3Jvc29mdCBTYW5zIFNlcmlmLDEwIg0KJG1lbnUuQ29udHJvbHMuQWRkKCR1c2VybmFtZUJveCkNCg0KJHBhc3N3b3JkID0gTmV3LU9iamVjdCBTeXN0ZW0uV2luZG93cy5Gb3Jtcy5MYWJlbA0KJHBhc3N3b3JkLkxvY2F0aW9uID0gTmV3LU9iamVjdCBTeXN0ZW0uRHJhd2luZy5TaXplKDEwLDkwKQ0KJHBhc3N3b3JkLlNpemUgPSBOZXctT2JqZWN0IFN5c3RlbS5EcmF3aW5nLlNpemUoMjAwLDIwKQ0KJHBhc3N3b3JkLlRleHQgPSAiUGFzc3dvcmQiDQokcGFzc3dvcmQuRm9udCA9ICJNaWNyb3NvZnQgU2FucyBTZXJpZiwxMCINCiRtZW51LkNvbnRyb2xzLkFkZCgkcGFzc3dvcmQpDQoNCiRwYXNzd29yZEJveCA9IE5ldy1PYmplY3QgU3lzdGVtLldpbmRvd3MuRm9ybXMuVGV4dEJveA0KJHBhc3N3b3JkQm94LkxvY2F0aW9uID0gTmV3LU9iamVjdCBTeXN0ZW0uRHJhd2luZy5TaXplKDEwLDExMCkNCiRwYXNzd29yZEJveC5TaXplID0gTmV3LU9iamVjdCBTeXN0ZW0uRHJhd2luZy5TaXplKDIwMCwyMCkNCiRwYXNzd29yZEJveC5Gb250ID0gIk1pY3Jvc29mdCBTYW5zIFNlcmlmLDEwIg0KJHBhc3N3b3JkQm94LlBhc3N3b3JkQ2hhciA9ICIqIg0KJG1lbnUuQ29udHJvbHMuQWRkKCRwYXNzd29yZEJveCkNCg0KJHNob3dQYXNzd29yZCA9IE5ldy1PYmplY3QgU3lzdGVtLldpbmRvd3MuRm9ybXMuUGljdHVyZUJveA0KJHNob3dQYXNzd29yZC5Mb2NhdGlvbiA9IE5ldy1PYmplY3QgU3lzdGVtLkRyYXdpbmcuU2l6ZSgxODgsIDExMSkNCiRzaG93UGFzc3dvcmQuU2l6ZSA9IE5ldy1PYmplY3QgU3lzdGVtLkRyYXdpbmcuU2l6ZSgyMSwgMjEpDQokc2hvd1Bhc3N3b3JkLlNpemVNb2RlID0gW1N5c3RlbS5XaW5kb3dzLkZvcm1zLlBpY3R1cmVCb3hTaXplTW9kZV06OlN0cmV0Y2hJbWFnZQ0KJHNob3dQYXNzd29yZC5JbWFnZUxvY2F0aW9uID0gImh0dHBzOi8vYWxkaW4xMDEuZ2l0aHViLmlvL0VjaG8tUmVsYXktSW5zdGFsbGVyL2V5ZS5wbmciDQokc2hvd1Bhc3N3b3JkLkJhY2tDb2xvciA9IFtTeXN0ZW0uRHJhd2luZy5Db2xvcl06OldoaXRlDQokc2hvd1Bhc3N3b3JkLkFkZF9DbGljayh7DQogICAgaWYgKCRwYXNzd29yZEJveC5QYXNzd29yZENoYXIgLWVxICIqIikgew0KICAgICAgICAkcGFzc3dvcmRCb3guUGFzc3dvcmRDaGFyID0gJG51bGwNCiAgICAgICAgJHNob3dQYXNzd29yZC5CYWNrQ29sb3IgPSBbU3lzdGVtLkRyYXdpbmcuQ29sb3JdOjpMaWdodEJsdWUNCiAgICAgICAgJHRvb2xUaXAuU2V0VG9vbFRpcCgkc2hvd1Bhc3N3b3JkLCAiSGlkZSBQYXNzd29yZCIpDQogICAgfSBlbHNlIHsNCiAgICAgICAgJHBhc3N3b3JkQm94LlBhc3N3b3JkQ2hhciA9ICIqIg0KICAgICAgICAkc2hvd1Bhc3N3b3JkLkJhY2tDb2xvciA9IFtTeXN0ZW0uRHJhd2luZy5Db2xvcl06OldoaXRlDQogICAgICAgICR0b29sVGlwLlNldFRvb2xUaXAoJHNob3dQYXNzd29yZCwgIlNob3cgUGFzc3dvcmQiKQ0KICAgIH0NCn0pDQokc2hvd1Bhc3N3b3JkLkFkZF9Nb3VzZUVudGVyKHsNCiAgICAkc2hvd1Bhc3N3b3JkLkJvcmRlclN0eWxlID0gW1N5c3RlbS5XaW5kb3dzLkZvcm1zLkJvcmRlclN0eWxlXTo6Rml4ZWRTaW5nbGUNCn0pDQokc2hvd1Bhc3N3b3JkLkFkZF9Nb3VzZUxlYXZlKHsNCiAgICAkc2hvd1Bhc3N3b3JkLkJvcmRlclN0eWxlID0gW1N5c3RlbS5XaW5kb3dzLkZvcm1zLkJvcmRlclN0eWxlXTo6Tm9uZQ0KfSkNCiRtZW51LkNvbnRyb2xzLkFkZCgkc2hvd1Bhc3N3b3JkKQ0KDQokc2hvd1Bhc3N3b3JkLkJyaW5nVG9Gcm9udCgpDQoNCiR0b29sVGlwID0gTmV3LU9iamVjdCBTeXN0ZW0uV2luZG93cy5Gb3Jtcy5Ub29sVGlwDQokdG9vbFRpcC5BdXRvbWF0aWNEZWxheSA9IDUwMA0KJHRvb2xUaXAuU2V0VG9vbFRpcCgkc2hvd1Bhc3N3b3JkLCAiU2hvdyBQYXNzd29yZCIpDQoNCiRub1VzZXJuYW1lT3JQYXNzd29yZCA9IE5ldy1PYmplY3QgU3lzdGVtLldpbmRvd3MuRm9ybXMuTGFiZWwNCiRub1VzZXJuYW1lT3JQYXNzd29yZC5Mb2NhdGlvbiA9IE5ldy1PYmplY3QgU3lzdGVtLkRyYXdpbmcuU2l6ZSgxMCwxNzApDQokbm9Vc2VybmFtZU9yUGFzc3dvcmQuU2l6ZSA9IE5ldy1PYmplY3QgU3lzdGVtLkRyYXdpbmcuU2l6ZSgyMTAsMjApDQokbm9Vc2VybmFtZU9yUGFzc3dvcmQuRm9udCA9ICJNaWNyb3NvZnQgU2FucyBTZXJpZiw4Ig0KJG5vVXNlcm5hbWVPclBhc3N3b3JkLkZvcmVDb2xvciA9ICJSZWQiDQokbm9Vc2VybmFtZU9yUGFzc3dvcmQuVmlzaWJsZSA9ICRmYWxzZQ0KJG1lbnUuQ29udHJvbHMuQWRkKCRub1VzZXJuYW1lT3JQYXNzd29yZCkNCg0KJGluZm9MYWJlbCA9IE5ldy1PYmplY3QgU3lzdGVtLldpbmRvd3MuRm9ybXMuTGFiZWwNCiRpbmZvTGFiZWwuTG9jYXRpb24gPSBOZXctT2JqZWN0IFN5c3RlbS5EcmF3aW5nLlNpemUoMjIwLDEwKQ0KJGluZm9MYWJlbC5TaXplID0gTmV3LU9iamVjdCBTeXN0ZW0uRHJhd2luZy5TaXplKDIwMDAsMjMwKQ0KJGluZm9MYWJlbC5UZXh0ID0gIlRoaXMgaW5mb3JtYXRpb24gaXMgbm90IHlvdXIgTWV0YSBsb2cgaW4sIGl0IGlzIHlvdXIgYWNjb3VudGBub24gRWNobyBSZWxheSBzZXJ2ZXJzLiBCdXQgeW91ciBhY2NvdW50IGluZm8gaXMgc3RpbGwgdGllZCB0b2BueW91ciBNZXRhIGFjY291bnQgYW5kIGNhbm5vdCBiZSBjaGFuZ2VkIGxhdGVyLmBuSWYgeW91IGZvcmdldCB5b3VyIGFjY291bnQgaW5mb3JtYXRpb24gZm9yIGEgc2VydmVyIHBsZWFzZWBuY29udGFjdCB0aGUgc2VydmVyIGhvc3QuYG5gblRoZXJlIGlzIG5vIGNoZWNrIGZvciBpZiB5b3VyIHVzZXJuYW1lIGhhcyBhbHJlYWR5IGJlZW5gbmNsYWltZWQgYXQgdGhpcyB0aW1lLiBJZiB5b3UgcmVjZWl2ZSBsb2dpbiBlcnJvcnMgcGxlYXNlYG50cnkgYSBkaWZmZXJlbnQgdXNlcm5hbWUuYG5gbkRPIE5PVCB1c2UgdGhlIHNhbWUgcGFzc3dvcmQgZm9yIHlvdSBNZXRhIGFjY291bnQgb3JgbmFueSBvdGhlciBvbmxpbmUgc2VydmljZS4gV2hpbGUgdXNpbmcgdW5pcXVlIHBhc3N3b3JkcyBmb3JgbmFsbCBvbmxpbmUgc2VydmljZXMgaXMgYWx3YXlzIHJlY29tbWVuZGVkLCBpdCBpcyBlc3BlY2lhbGx5YG5pbXBvcnRhbnQgZm9yIEVjaG8gUmVsYXkgYmVjYXVzZSB5b3VyIGFjY291bnQgaW5mb3JtYXRpb25gbmlzIG5vdCBzZWN1cmVkLiINCiRpbmZvTGFiZWwuRm9udCA9ICJNaWNyb3NvZnQgU2FucyBTZXJpZiwxMCINCiRtZW51LkNvbnRyb2xzLkFkZCgkaW5mb0xhYmVsKQ0KDQokaW5mb0NoZWNrQm94ID0gTmV3LU9iamVjdCBTeXN0ZW0uV2luZG93cy5Gb3Jtcy5DaGVja0JveA0KJGluZm9DaGVja0JveC5Mb2NhdGlvbiA9IE5ldy1PYmplY3QgU3lzdGVtLkRyYXdpbmcuU2l6ZSgyMjAsMjQwKQ0KJGluZm9DaGVja0JveC5TaXplID0gTmV3LU9iamVjdCBTeXN0ZW0uRHJhd2luZy5TaXplKDIwMDAsMjApDQokaW5mb0NoZWNrQm94LlRleHQgPSAiSSBoYXZlIHJlYWQgYW5kIHVuZGVyc3RhbmQgdGhlIGFib3ZlIG5vdGljZSINCiRpbmZvQ2hlY2tCb3guRm9udCA9ICJNaWNyb3NvZnQgU2FucyBTZXJpZiwxMCINCg0KJGluZm9DaGVja0JveC5BZGRfS2V5RG93bih7DQogICAgaWYgKCRfLktleUNvZGUgLWVxICJFbnRlciIpIHsNCiAgICAgICAgJGluZm9DaGVja0JveC5DaGVja2VkID0gISRpbmZvQ2hlY2tCb3guQ2hlY2tlZA0KICAgIH0NCn0pDQoNCiRtZW51LkNvbnRyb2xzLmFkZCgkaW5mb0NoZWNrQm94KQ0KDQoNCiRpbnN0YWxsID0gTmV3LU9iamVjdCBTeXN0ZW0uV2luZG93cy5Gb3Jtcy5CdXR0b24NCiRpbnN0YWxsLkxvY2F0aW9uID0gTmV3LU9iamVjdCBTeXN0ZW0uRHJhd2luZy5TaXplKDEwLDE0MCkNCiRpbnN0YWxsLlNpemUgPSBOZXctT2JqZWN0IFN5c3RlbS5EcmF3aW5nLlNpemUoMjAwLDMwKQ0KJGluc3RhbGwuVGV4dCA9ICJJbnN0YWxsIg0KJGluc3RhbGwuRm9udCA9ICJNaWNyb3NvZnQgU2FucyBTZXJpZiwxMCINCiRpbnN0YWxsLkFkZF9DbGljayh7aW5zdGFsbH0pDQokbWVudS5Db250cm9scy5BZGQoJGluc3RhbGwpDQoNCiRjcmVkaXRzID0gTmV3LU9iamVjdCBTeXN0ZW0uV2luZG93cy5Gb3Jtcy5MYWJlbA0KJGNyZWRpdHMuTG9jYXRpb24gPSBOZXctT2JqZWN0IFN5c3RlbS5EcmF3aW5nLlNpemUoNSwzMjUpDQokY3JlZGl0cy5TaXplID0gTmV3LU9iamVjdCBTeXN0ZW0uRHJhd2luZy5TaXplKDIwMDAsMjAwKQ0KJGNyZWRpdHMuVGV4dCA9ICJFY2hvIFJlbGF5IENyZWF0ZWQgYnk6IFhlbm9tZWdhYG5JbnN0YWxsZXIgQ3JlYXRlZCBieTpBbGRpbjEwMSINCiRjcmVkaXRzLkZvbnQgPSAiTWljcm9zb2Z0IFNhbnMgU2VyaWYsMTAiDQokbWVudS5Db250cm9scy5BZGQoJGNyZWRpdHMpDQoNCiRjdXJyZW50UGF0aCA9IE5ldy1PYmplY3QgU3lzdGVtLldpbmRvd3MuRm9ybXMuTGFiZWwNCmlmICghKHRlc3QtcGF0aCAiQzpcUHJvZ3JhbSBGaWxlc1xPY3VsdXNcU29mdHdhcmVcU29mdHdhcmVccmVhZHktYXQtZGF3bi1lY2hvLWFyZW5hXGJpblx3aW4xMFxlY2hvdnIuZXhlIikpIHsNCiAgICAkY3VycmVudFBhdGguVGV4dCA9ICJDdXJyZW50IEdhbWUgRm9sZGVyOmBuUGxlYXNlIFNlbGVjdCBHYW1lIEZvbGRlciINCiAgICAkc2VsZWN0R2FtZUZvbGRlciA9IE5ldy1PYmplY3QgU3lzdGVtLldpbmRvd3MuRm9ybXMuQnV0dG9uDQogICAgJHNlbGVjdEdhbWVGb2xkZXIuTG9jYXRpb24gPSBOZXctT2JqZWN0IFN5c3RlbS5EcmF3aW5nLlNpemUoMTAsMjIwKQ0KICAgICRzZWxlY3RHYW1lRm9sZGVyLlNpemUgPSBOZXctT2JqZWN0IFN5c3RlbS5EcmF3aW5nLlNpemUoMjAwLDMwKQ0KICAgICRzZWxlY3RHYW1lRm9sZGVyLlRleHQgPSAiU2VsZWN0IEdhbWUgRm9sZGVyIg0KICAgICRzZWxlY3RHYW1lRm9sZGVyLkZvbnQgPSAiTWljcm9zb2Z0IFNhbnMgU2VyaWYsMTAiDQogICAgJHNlbGVjdEdhbWVGb2xkZXIuQWRkX0NsaWNrKHsNCiAgICAgICAgJGxvY2F0aW9ucyA9IEdldC1DaGlsZEl0ZW0gIkhLQ1U6XFNPRlRXQVJFXE9jdWx1cyBWUiwgTExDXE9jdWx1c1xMaWJyYXJpZXNcKiINCiAgICAgICAgJGxvY2F0aW9uTGlzdCA9IFtTeXN0ZW0uQ29sbGVjdGlvbnMuQXJyYXlMaXN0XUAoKQ0KICAgICAgICBmb3JlYWNoICgkbG9jYXRpb24gaW4gJGxvY2F0aW9ucykgew0KICAgICAgICAgICAgJGxvY2F0aW9uTGlzdC5BZGQoJChHZXQtSXRlbVByb3BlcnR5ICJIS0NVOlxTT0ZUV0FSRVxPY3VsdXMgVlIsIExMQ1xPY3VsdXNcTGlicmFyaWVzXCQoJGxvY2F0aW9uLlBTQ2hpbGROYW1lKSIgLU5hbWUgT3JpZ2luYWxQYXRoIHwgc2VsZWN0IC1FeHBhbmRQcm9wZXJ0eSBPcmlnaW5hbFBhdGgpKQ0KICAgICAgICB9DQogICAgICAgICRsb2NhdGlvbnMgPSBbc3lzdGVtLkNvbGxlY3Rpb25zLkFycmF5TGlzdF1AKCkNCiAgICAgICAgZm9yZWFjaCAoJGxvY2F0aW9uIGluICRsb2NhdGlvbkxpc3QpIHsNCiAgICAgICAgICAgIGlmICh0ZXN0LXBhdGggIiRsb2NhdGlvblxTb2Z0d2FyZVxyZWFkeS1hdC1kYXduLWVjaG8tYXJlbmFcYmluXHdpbjEwXGVjaG92ci5leGUiKSB7DQogICAgICAgICAgICAgICAgJGxvY2F0aW9ucy5BZGQoJGxvY2F0aW9uKQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgICRwaWNrTWVudSA9IG5ldy1vYmplY3QgU3lzdGVtLldpbmRvd3MuRm9ybXMuRm9ybQ0KICAgICAgICAkcGlja01lbnUudGV4dCA9ICJFY2hvIFJlbGF5IEluc3RhbGxlciINCiAgICAgICAgJHBpY2tNZW51Lkljb24gPSBbU3lzdGVtLkRyYXdpbmcuSWNvbl06OkV4dHJhY3RBc3NvY2lhdGVkSWNvbigkZmlsZUxvY2F0aW9uMSkNCiAgICAgICAgJHBpY2tNZW51LlNpemUgPSBOZXctT2JqZWN0IERyYXdpbmcuU2l6ZSBAKDMyMCwgMjcwKQ0KICAgICAgICAkcGlja01lbnUuU3RhcnRQb3NpdGlvbiA9ICJDZW50ZXJTY3JlZW4iDQogICAgICAgICRwaWNrTWVudS5Gb3JtQm9yZGVyU3R5bGUgPSAiRml4ZWREaWFsb2ciDQogICAgICAgICRwaWNrTWVudS5NYXhpbWl6ZUJveCA9ICRmYWxzZQ0KICAgICAgICAkcGlja01lbnUuU2hvd0luVGFza2JhciA9ICRmYWxzZQ0KDQogICAgICAgICRwaWNrTGFiZWwgPSBOZXctT2JqZWN0IFN5c3RlbS5XaW5kb3dzLkZvcm1zLkxhYmVsDQogICAgICAgICRwaWNrTGFiZWwuTG9jYXRpb24gPSBOZXctT2JqZWN0IFN5c3RlbS5EcmF3aW5nLlNpemUoMTAsMTApDQogICAgICAgICRwaWNrTGFiZWwuU2l6ZSA9IE5ldy1PYmplY3QgU3lzdGVtLkRyYXdpbmcuU2l6ZSgyODAsMjApDQogICAgICAgICRwaWNrTGFiZWwuVGV4dCA9ICJTZWxlY3QgZm9sZGVyIEVjaG8gVlIgaXMgbG9jYXRlZCBpbiINCiAgICAgICAgJHBpY2tMYWJlbC5UZXh0QWxpZ24gPSAiTWlkZGxlQ2VudGVyIg0KICAgICAgICAkcGlja0xhYmVsLkZvbnQgPSAiTWljcm9zb2Z0IFNhbnMgU2VyaWYsMTAiDQogICAgICAgICRwaWNrTWVudS5Db250cm9scy5BZGQoJHBpY2tMYWJlbCkNCg0KICAgICAgICAkcGlja0xpc3QgPSBOZXctT2JqZWN0IFN5c3RlbS5XaW5kb3dzLkZvcm1zLkxpc3RCb3gNCiAgICAgICAgJHBpY2tMaXN0LkxvY2F0aW9uID0gTmV3LU9iamVjdCBTeXN0ZW0uRHJhd2luZy5TaXplKDEwLDMwKQ0KICAgICAgICAkcGlja0xpc3QuU2l6ZSA9IE5ldy1PYmplY3QgU3lzdGVtLkRyYXdpbmcuU2l6ZSgyODAsMTAwKQ0KICAgICAgICAkcGlja0xpc3QuRm9udCA9ICJNaWNyb3NvZnQgU2FucyBTZXJpZiwxMCINCiAgICAgICAgJHBpY2tMaXN0LkRhdGFTb3VyY2UgPSAkbG9jYXRpb25MaXN0DQogICAgICAgICRwaWNrTGlzdC5TZWxlY3RlZEluZGV4ID0gJGkNCiAgICAgICAgJHBpY2tNZW51LkNvbnRyb2xzLkFkZCgkcGlja0xpc3QpDQoNCiAgICAgICAgJGN1c3RvbVBhdGggPSBOZXctT2JqZWN0IFN5c3RlbS5XaW5kb3dzLkZvcm1zLkJ1dHRvbg0KICAgICAgICAkY3VzdG9tUGF0aC5Mb2NhdGlvbiA9IE5ldy1PYmplY3QgU3lzdGVtLkRyYXdpbmcuU2l6ZSgxMCwxNDApDQogICAgICAgICRjdXN0b21QYXRoLlNpemUgPSBOZXctT2JqZWN0IFN5c3RlbS5EcmF3aW5nLlNpemUoMjgwLDMwKQ0KICAgICAgICAkY3VzdG9tUGF0aC5UZXh0ID0gIkN1c3RvbSBQYXRoIg0KICAgICAgICAkY3VzdG9tUGF0aC5Gb250ID0gIk1pY3Jvc29mdCBTYW5zIFNlcmlmLDEwIg0KICAgICAgICAkY3VzdG9tUGF0aC5BZGRfQ2xpY2soew0KICAgICAgICAgICAgJGNob2ljZSA9IFtTeXN0ZW0uV2luZG93cy5Gb3Jtcy5NZXNzYWdlQm94XTo6U2hvdygiSXQgaXMgcmVjb21tZW5kZWQgdGhhdCB5b3UgdXNlIHRoZSBwcmUtc2VsZWN0ZWQgZm9sZGVyIHNvIHRoYXQgdGhlIE9jdWx1cyBhcHAgbGF1bmNoZXMgdGhlIGNvcnJlY3QgdmVyc2lvbiBvZiB0aGUgZ2FtZS5gbmBuYFdoaWxlIHlvdSBjYW4gdXNlIGEgY3VzdG9tIHBhdGggaXQgaXMgbm90IHJlY29tbWVuZGVkLiBXb3VsZCB5b3Ugc3RpbGwgbGlrZSB0byB1c2UgYSBjdXN0b20gcGF0aD8iLCAiRWNobyBSZWxheSBEb3duZ3JhZGVyIiwgW3N5c3RlbS53aW5kb3dzLmZvcm1zLm1lc3NhZ2Vib3hidXR0b25zXTo6WWVzTm8sIFtzeXN0ZW0ud2luZG93cy5mb3Jtcy5tZXNzYWdlYm94aWNvbl06Oldhcm5pbmcpDQogICAgICAgICAgICBpZiAoJGNob2ljZSAtZXEgIk5vIikgew0KICAgICAgICAgICAgICAgIHJldHVybg0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgJGdsb2JhbDpnYW1lUGF0aCA9IFJlYWQtRm9sZGVyQnJvd3NlckRpYWxvZyAtTWVzc2FnZSAiU2VsZWN0IHRoZSBmb2xkZXIgRWNobyBWUiBpcyBpbnN0YWxsZWQgaW4iDQogICAgICAgICAgICBpZiAoISh0ZXN0LXBhdGggIiRnbG9iYWw6Z2FtZVBhdGhcYmluXHdpbjEwXGVjaG92ci5leGUiKSkgew0KICAgICAgICAgICAgICAgIFtTeXN0ZW0uV2luZG93cy5Gb3Jtcy5NZXNzYWdlQm94XTo6c2hvdygiUGxlYXNlIHNlbGVjdCBhIHZhbGlkIGdhbWUgZm9sZGVyIiwgIkVjaG8gUmVsYXkgRG93bmdyYWRlciIsIFtzeXN0ZW0ud2luZG93cy5mb3Jtcy5tZXNzYWdlYm94YnV0dG9uc106Ok9LLCBbc3lzdGVtLndpbmRvd3MuZm9ybXMubWVzc2FnZWJveGljb25dOjpXYXJuaW5nKQ0KICAgICAgICAgICAgICAgIHJldHVybg0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgJHBpY2tNZW51LkNsb3NlKCkNCiAgICAgICAgfSkNCiAgICAgICAgJHBpY2tNZW51LkNvbnRyb2xzLkFkZCgkY3VzdG9tUGF0aCkNCg0KICAgICAgICAkcGlja0J1dHRvbiA9IE5ldy1PYmplY3QgU3lzdGVtLldpbmRvd3MuRm9ybXMuQnV0dG9uDQogICAgICAgICRwaWNrQnV0dG9uLkxvY2F0aW9uID0gTmV3LU9iamVjdCBTeXN0ZW0uRHJhd2luZy5TaXplKDEwLDE4MCkNCiAgICAgICAgJHBpY2tCdXR0b24uU2l6ZSA9IE5ldy1PYmplY3QgU3lzdGVtLkRyYXdpbmcuU2l6ZSgyODAsMzApDQogICAgICAgICRwaWNrQnV0dG9uLlRleHQgPSAiU2VsZWN0Ig0KICAgICAgICAkcGlja0J1dHRvbi5Gb250ID0gIk1pY3Jvc29mdCBTYW5zIFNlcmlmLDEwIg0KICAgICAgICAkcGlja0J1dHRvbi5BZGRfQ2xpY2soew0KICAgICAgICAgICAgaWYgKCEodGVzdC1wYXRoICIkKCRsb2NhdGlvbnNbJHBpY2tsaXN0LlNlbGVjdGVkSW5kZXhdKVxTb2Z0d2FyZVxyZWFkeS1hdC1kYXduLWVjaG8tYXJlbmFcYmluXHdpbjEwXGVjaG92ci5leGUiKSkgew0KICAgICAgICAgICAgICAgIFtTeXN0ZW0uV2luZG93cy5Gb3Jtcy5NZXNzYWdlQm94XTo6c2hvdygiUGxlYXNlIHNlbGVjdCBhIHZhbGlkIGdhbWUgZm9sZGVyIiwgIkVjaG8gUmVsYXkgRG93bmdyYWRlciIsIFtzeXN0ZW0ud2luZG93cy5mb3Jtcy5tZXNzYWdlYm94YnV0dG9uc106Ok9LLCBbc3lzdGVtLndpbmRvd3MuZm9ybXMubWVzc2FnZWJveGljb25dOjpXYXJuaW5nKQ0KICAgICAgICAgICAgICAgIHJldHVybg0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgJGdsb2JhbDpnYW1lUGF0aCA9ICIkKCRwaWNrTGlzdC5TZWxlY3RlZEl0ZW0pXFNvZnR3YXJlXHJlYWR5LWF0LWRhd24tZWNoby1hcmVuYSINCiAgICAgICAgICAgICRwaWNrTWVudS5DbG9zZSgpDQogICAgICAgIH0pDQogICAgICAgICRwaWNrTWVudS5Db250cm9scy5BZGQoJHBpY2tCdXR0b24pDQoNCiAgICAgICAgJHBpY2tNZW51LlNob3dEaWFsb2coKQ0KICAgIH0pDQogICAgJG1lbnUuQ29udHJvbHMuQWRkKCRzZWxlY3RHYW1lRm9sZGVyKQ0KfSBlbHNlIHsNCiAgICAkZ2xvYmFsOmdhbWVQYXRoID0gIkM6XFByb2dyYW0gRmlsZXNcT2N1bHVzXFNvZnR3YXJlXFNvZnR3YXJlXHJlYWR5LWF0LWRhd24tZWNoby1hcmVuYSINCiAgICAkc2VsZWN0R2FtZUZvbGRlciA9IE5ldy1PYmplY3QgU3lzdGVtLldpbmRvd3MuRm9ybXMuQnV0dG9uDQogICAgJHNlbGVjdEdhbWVGb2xkZXIuTG9jYXRpb24gPSBOZXctT2JqZWN0IFN5c3RlbS5EcmF3aW5nLlNpemUoMTAsMjIwKQ0KICAgICRzZWxlY3RHYW1lRm9sZGVyLlNpemUgPSBOZXctT2JqZWN0IFN5c3RlbS5EcmF3aW5nLlNpemUoMjAwLDMwKQ0KICAgICRzZWxlY3RHYW1lRm9sZGVyLlRleHQgPSAiU2VsZWN0IEdhbWUgRm9sZGVyIg0KICAgICRzZWxlY3RHYW1lRm9sZGVyLkZvbnQgPSAiTWljcm9zb2Z0IFNhbnMgU2VyaWYsMTAiDQogICAgJHNlbGVjdEdhbWVGb2xkZXIuQWRkX0NsaWNrKHsNCiAgICAgICAgJGxvY2F0aW9ucyA9IEdldC1DaGlsZEl0ZW0gIkhLQ1U6XFNPRlRXQVJFXE9jdWx1cyBWUiwgTExDXE9jdWx1c1xMaWJyYXJpZXNcKiINCiAgICAgICAgJGxvY2F0aW9uTGlzdCA9IFtTeXN0ZW0uQ29sbGVjdGlvbnMuQXJyYXlMaXN0XUAoKQ0KICAgICAgICBmb3JlYWNoICgkbG9jYXRpb24gaW4gJGxvY2F0aW9ucykgew0KICAgICAgICAgICAgJGxvY2F0aW9uTGlzdC5BZGQoJChHZXQtSXRlbVByb3BlcnR5ICJIS0NVOlxTT0ZUV0FSRVxPY3VsdXMgVlIsIExMQ1xPY3VsdXNcTGlicmFyaWVzXCQoJGxvY2F0aW9uLlBTQ2hpbGROYW1lKSIgLU5hbWUgT3JpZ2luYWxQYXRoIHwgc2VsZWN0IC1FeHBhbmRQcm9wZXJ0eSBPcmlnaW5hbFBhdGgpKQ0KICAgICAgICB9DQogICAgICAgICRsb2NhdGlvbnMgPSBbc3lzdGVtLkNvbGxlY3Rpb25zLkFycmF5TGlzdF1AKCkNCiAgICAgICAgZm9yZWFjaCAoJGxvY2F0aW9uIGluICRsb2NhdGlvbkxpc3QpIHsNCiAgICAgICAgICAgIGlmICh0ZXN0LXBhdGggIiRsb2NhdGlvblxTb2Z0d2FyZVxyZWFkeS1hdC1kYXduLWVjaG8tYXJlbmFcYmluXHdpbjEwXGVjaG92ci5leGUiKSB7DQogICAgICAgICAgICAgICAgJGxvY2F0aW9ucy5BZGQoJGxvY2F0aW9uKQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgICRwaWNrTWVudSA9IG5ldy1vYmplY3QgU3lzdGVtLldpbmRvd3MuRm9ybXMuRm9ybQ0KICAgICAgICAkcGlja01lbnUudGV4dCA9ICJFY2hvIFJlbGF5IEluc3RhbGxlciINCiAgICAgICAgJHBpY2tNZW51Lkljb24gPSBbU3lzdGVtLkRyYXdpbmcuSWNvbl06OkV4dHJhY3RBc3NvY2lhdGVkSWNvbigkZmlsZUxvY2F0aW9uMSkNCiAgICAgICAgJHBpY2tNZW51LlNpemUgPSBOZXctT2JqZWN0IERyYXdpbmcuU2l6ZSBAKDMyMCwgMjcwKQ0KICAgICAgICAkcGlja01lbnUuU3RhcnRQb3NpdGlvbiA9ICJDZW50ZXJTY3JlZW4iDQogICAgICAgICRwaWNrTWVudS5Gb3JtQm9yZGVyU3R5bGUgPSAiRml4ZWREaWFsb2ciDQogICAgICAgICRwaWNrTWVudS5NYXhpbWl6ZUJveCA9ICRmYWxzZQ0KICAgICAgICAkcGlja01lbnUuU2hvd0luVGFza2JhciA9ICRmYWxzZQ0KDQogICAgICAgICRwaWNrTGFiZWwgPSBOZXctT2JqZWN0IFN5c3RlbS5XaW5kb3dzLkZvcm1zLkxhYmVsDQogICAgICAgICRwaWNrTGFiZWwuTG9jYXRpb24gPSBOZXctT2JqZWN0IFN5c3RlbS5EcmF3aW5nLlNpemUoMTAsMTApDQogICAgICAgICRwaWNrTGFiZWwuU2l6ZSA9IE5ldy1PYmplY3QgU3lzdGVtLkRyYXdpbmcuU2l6ZSgyODAsMjApDQogICAgICAgICRwaWNrTGFiZWwuVGV4dCA9ICJTZWxlY3QgZm9sZGVyIEVjaG8gVlIgaXMgbG9jYXRlZCBpbiINCiAgICAgICAgJHBpY2tMYWJlbC5UZXh0QWxpZ24gPSAiTWlkZGxlQ2VudGVyIg0KICAgICAgICAkcGlja0xhYmVsLkZvbnQgPSAiTWljcm9zb2Z0IFNhbnMgU2VyaWYsMTAiDQogICAgICAgICRwaWNrTWVudS5Db250cm9scy5BZGQoJHBpY2tMYWJlbCkNCg0KICAgICAgICAkcGlja0xpc3QgPSBOZXctT2JqZWN0IFN5c3RlbS5XaW5kb3dzLkZvcm1zLkxpc3RCb3gNCiAgICAgICAgJHBpY2tMaXN0LkxvY2F0aW9uID0gTmV3LU9iamVjdCBTeXN0ZW0uRHJhd2luZy5TaXplKDEwLDMwKQ0KICAgICAgICAkcGlja0xpc3QuU2l6ZSA9IE5ldy1PYmplY3QgU3lzdGVtLkRyYXdpbmcuU2l6ZSgyODAsMTAwKQ0KICAgICAgICAkcGlja0xpc3QuRm9udCA9ICJNaWNyb3NvZnQgU2FucyBTZXJpZiwxMCINCiAgICAgICAgJHBpY2tMaXN0LkRhdGFTb3VyY2UgPSAkbG9jYXRpb25MaXN0DQogICAgICAgICRwaWNrTGlzdC5TZWxlY3RlZEluZGV4ID0gJGkNCiAgICAgICAgJHBpY2tNZW51LkNvbnRyb2xzLkFkZCgkcGlja0xpc3QpDQoNCiAgICAgICAgJGN1c3RvbVBhdGggPSBOZXctT2JqZWN0IFN5c3RlbS5XaW5kb3dzLkZvcm1zLkJ1dHRvbg0KICAgICAgICAkY3VzdG9tUGF0aC5Mb2NhdGlvbiA9IE5ldy1PYmplY3QgU3lzdGVtLkRyYXdpbmcuU2l6ZSgxMCwxNDApDQogICAgICAgICRjdXN0b21QYXRoLlNpemUgPSBOZXctT2JqZWN0IFN5c3RlbS5EcmF3aW5nLlNpemUoMjgwLDMwKQ0KICAgICAgICAkY3VzdG9tUGF0aC5UZXh0ID0gIkN1c3RvbSBQYXRoIg0KICAgICAgICAkY3VzdG9tUGF0aC5Gb250ID0gIk1pY3Jvc29mdCBTYW5zIFNlcmlmLDEwIg0KICAgICAgICAkY3VzdG9tUGF0aC5BZGRfQ2xpY2soew0KICAgICAgICAgICAgJGNob2ljZSA9IFtTeXN0ZW0uV2luZG93cy5Gb3Jtcy5NZXNzYWdlQm94XTo6U2hvdygiSXQgaXMgcmVjb21tZW5kZWQgdGhhdCB5b3UgdXNlIHRoZSBwcmUtc2VsZWN0ZWQgZm9sZGVyIHNvIHRoYXQgdGhlIE9jdWx1cyBhcHAgbGF1bmNoZXMgdGhlIGNvcnJlY3QgdmVyc2lvbiBvZiB0aGUgZ2FtZS5gbmBuYFdoaWxlIHlvdSBjYW4gdXNlIGEgY3VzdG9tIHBhdGggaXQgaXMgbm90IHJlY29tbWVuZGVkLiBXb3VsZCB5b3Ugc3RpbGwgbGlrZSB0byB1c2UgYSBjdXN0b20gcGF0aD8iLCAiRWNobyBSZWxheSBEb3duZ3JhZGVyIiwgW3N5c3RlbS53aW5kb3dzLmZvcm1zLm1lc3NhZ2Vib3hidXR0b25zXTo6WWVzTm8sIFtzeXN0ZW0ud2luZG93cy5mb3Jtcy5tZXNzYWdlYm94aWNvbl06Oldhcm5pbmcpDQogICAgICAgICAgICBpZiAoJGNob2ljZSAtZXEgIk5vIikgew0KICAgICAgICAgICAgICAgIHJldHVybg0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgJGdsb2JhbDpnYW1lUGF0aCA9IFJlYWQtRm9sZGVyQnJvd3NlckRpYWxvZyAtTWVzc2FnZSAiU2VsZWN0IHRoZSBmb2xkZXIgRWNobyBWUiBpcyBpbnN0YWxsZWQgaW4iDQogICAgICAgICAgICBpZiAoISh0ZXN0LXBhdGggIiRnbG9iYWw6Z2FtZVBhdGhcYmluXHdpbjEwXGVjaG92ci5leGUiKSkgew0KICAgICAgICAgICAgICAgIFtTeXN0ZW0uV2luZG93cy5Gb3Jtcy5NZXNzYWdlQm94XTo6c2hvdygiUGxlYXNlIHNlbGVjdCBhIHZhbGlkIGdhbWUgZm9sZGVyIiwgIkVjaG8gUmVsYXkgRG93bmdyYWRlciIsIFtzeXN0ZW0ud2luZG93cy5mb3Jtcy5tZXNzYWdlYm94YnV0dG9uc106Ok9LLCBbc3lzdGVtLndpbmRvd3MuZm9ybXMubWVzc2FnZWJveGljb25dOjpXYXJuaW5nKQ0KICAgICAgICAgICAgICAgIHJldHVybg0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgJHBpY2tNZW51LkNsb3NlKCkNCiAgICAgICAgfSkNCiAgICAgICAgJHBpY2tNZW51LkNvbnRyb2xzLkFkZCgkY3VzdG9tUGF0aCkNCg0KICAgICAgICAkcGlja0J1dHRvbiA9IE5ldy1PYmplY3QgU3lzdGVtLldpbmRvd3MuRm9ybXMuQnV0dG9uDQogICAgICAgICRwaWNrQnV0dG9uLkxvY2F0aW9uID0gTmV3LU9iamVjdCBTeXN0ZW0uRHJhd2luZy5TaXplKDEwLDE4MCkNCiAgICAgICAgJHBpY2tCdXR0b24uU2l6ZSA9IE5ldy1PYmplY3QgU3lzdGVtLkRyYXdpbmcuU2l6ZSgyODAsMzApDQogICAgICAgICRwaWNrQnV0dG9uLlRleHQgPSAiU2VsZWN0Ig0KICAgICAgICAkcGlja0J1dHRvbi5Gb250ID0gIk1pY3Jvc29mdCBTYW5zIFNlcmlmLDEwIg0KICAgICAgICAkcGlja0J1dHRvbi5BZGRfQ2xpY2soew0KICAgICAgICAgICAgaWYgKCEodGVzdC1wYXRoICIkKCRsb2NhdGlvbnNbJHBpY2tsaXN0LlNlbGVjdGVkSW5kZXhdKVxTb2Z0d2FyZVxyZWFkeS1hdC1kYXduLWVjaG8tYXJlbmFcYmluXHdpbjEwXGVjaG92ci5leGUiKSkgew0KICAgICAgICAgICAgICAgIFtTeXN0ZW0uV2luZG93cy5Gb3Jtcy5NZXNzYWdlQm94XTo6c2hvdygiUGxlYXNlIHNlbGVjdCBhIHZhbGlkIGdhbWUgZm9sZGVyIiwgIkVjaG8gUmVsYXkgRG93bmdyYWRlciIsIFtzeXN0ZW0ud2luZG93cy5mb3Jtcy5tZXNzYWdlYm94YnV0dG9uc106Ok9LLCBbc3lzdGVtLndpbmRvd3MuZm9ybXMubWVzc2FnZWJveGljb25dOjpXYXJuaW5nKQ0KICAgICAgICAgICAgICAgIHJldHVybg0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgJGdsb2JhbDpnYW1lUGF0aCA9ICIkKCRwaWNrTGlzdC5TZWxlY3RlZEl0ZW0pXFNvZnR3YXJlXHJlYWR5LWF0LWRhd24tZWNoby1hcmVuYSINCiAgICAgICAgICAgICRwaWNrTWVudS5DbG9zZSgpDQogICAgICAgIH0pDQogICAgICAgICRwaWNrTWVudS5Db250cm9scy5BZGQoJHBpY2tCdXR0b24pDQoNCiAgICAgICAgJHBpY2tNZW51LlNob3dEaWFsb2coKQ0KICAgIH0pDQogICAgJGN1cnJlbnRQYXRoLlRleHQgPSAiQ3VycmVudCBHYW1lIEZvbGRlcjpgbiRnbG9iYWw6Z2FtZVBhdGgiDQogICAgJG1lbnUuQ29udHJvbHMuQWRkKCRzZWxlY3RHYW1lRm9sZGVyKQ0KfQ0KJGN1cnJlbnRQYXRoLkxvY2F0aW9uID0gTmV3LU9iamVjdCBTeXN0ZW0uRHJhd2luZy5TaXplKDEwLDI1MCkNCiRjdXJyZW50UGF0aC5TaXplID0gTmV3LU9iamVjdCBTeXN0ZW0uRHJhd2luZy5TaXplKDIwMDAsMjAwKQ0KJGN1cnJlbnRQYXRoLkZvbnQgPSAiTWljcm9zb2Z0IFNhbnMgU2VyaWYsMTAiDQokbWVudS5Db250cm9scy5BZGQoJGN1cnJlbnRQYXRoKQ0KDQokbWVudS5TaG93RGlhbG9nKCkNCg0K"
}
