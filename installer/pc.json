{
  "Script": "JFByb2dyZXNzUHJlZmVyZW5jZSA9ICdTaWxlbnRseUNvbnRpbnVlJw0KJGZpbGUgPSBJbnZva2UtV2ViUmVxdWVzdCBodHRwczovL2FsZGluMTAxLmdpdGh1Yi5pby9FY2hvLVJlbGF5LUluc3RhbGxlci9ob3N0Lmpzb24gLVVzZUJhc2ljUGFyc2luZw0KJGdsb2JhbDpkYXRhYmFzZSA9ICRmaWxlLkNvbnRlbnQgfCBDb252ZXJ0RnJvbS1Kc29uDQpmdW5jdGlvbiBEZWNvbXByZXNzLVpsaWJGaWxlIHsNCiAgICBwYXJhbSgNCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnk9JHRydWUpXQ0KICAgICAgICBbc3RyaW5nXSRJbnB1dFBhdGgsDQogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5PSR0cnVlKV0NCiAgICAgICAgW3N0cmluZ10kT3V0cHV0UGF0aA0KICAgICkNCg0KICAgIEFkZC1UeXBlIC1Bc3NlbWJseU5hbWUgU3lzdGVtLklPLkNvbXByZXNzaW9uDQoNCiAgICAkaW5wdXQgPSBOZXctT2JqZWN0IFN5c3RlbS5JTy5GaWxlU3RyZWFtKCRJbnB1dFBhdGgsIFtTeXN0ZW0uSU8uRmlsZU1vZGVdOjpPcGVuLCBbU3lzdGVtLklPLkZpbGVBY2Nlc3NdOjpSZWFkKQ0KICAgICRvdXRwdXQgPSBOZXctT2JqZWN0IFN5c3RlbS5JTy5GaWxlU3RyZWFtKCRPdXRwdXRQYXRoLCBbU3lzdGVtLklPLkZpbGVNb2RlXTo6Q3JlYXRlLCBbU3lzdGVtLklPLkZpbGVBY2Nlc3NdOjpXcml0ZSkNCg0KICAgICRpbnB1dC5SZWFkQnl0ZSgpIHwgT3V0LU51bGwNCiAgICAkaW5wdXQuUmVhZEJ5dGUoKSB8IE91dC1OdWxsDQoNCiAgICAkZGVmbGF0ZVN0cmVhbSA9IE5ldy1PYmplY3QgU3lzdGVtLklPLkNvbXByZXNzaW9uLkRlZmxhdGVTdHJlYW0oJGlucHV0LCBbU3lzdGVtLklPLkNvbXByZXNzaW9uLkNvbXByZXNzaW9uTW9kZV06OkRlY29tcHJlc3MpDQoNCiAgICAkYnVmZmVyID0gTmV3LU9iamVjdCBieXRlW10oMTAyNCkNCiAgICB3aGlsZSAoKCRyZWFkID0gJGRlZmxhdGVTdHJlYW0uUmVhZCgkYnVmZmVyLCAwLCAkYnVmZmVyLkxlbmd0aCkpIC1ndCAwKSB7DQogICAgICAgICRvdXRwdXQuV3JpdGUoJGJ1ZmZlciwgMCwgJHJlYWQpDQogICAgfQ0KDQogICAgJGRlZmxhdGVTdHJlYW0uQ2xvc2UoKQ0KICAgICRvdXRwdXQuQ2xvc2UoKQ0KICAgICRpbnB1dC5DbG9zZSgpDQp9DQoNCmZ1bmN0aW9uIFJlYWQtRm9sZGVyQnJvd3NlckRpYWxvZyhbc3RyaW5nXSRNZXNzYWdlLCBbc3RyaW5nXSRJbml0aWFsRGlyZWN0b3J5KSB7DQogICAgJGFwcCA9IE5ldy1PYmplY3QgLUNvbU9iamVjdCBTaGVsbC5BcHBsaWNhdGlvbg0KICAgICRmb2xkZXIgPSAkYXBwLkJyb3dzZUZvckZvbGRlcigwLCAkTWVzc2FnZSwgMCwgJEluaXRpYWxEaXJlY3RvcnkpDQogICAgaWYgKCRmb2xkZXIpIHsgcmV0dXJuICRmb2xkZXIuU2VsZi5QYXRoIH0gZWxzZSB7IHJldHVybiAnQzpcUHJvZ3JhbSBGaWxlc1xPY3VsdXNcU29mdHdhcmUnIH0NCn0NCg0KZnVuY3Rpb24gZG93bmdyYWRlIHsNCg0KICAgICRkb3duZ3JhZGVNZW51ID0gbmV3LW9iamVjdCBTeXN0ZW0uV2luZG93cy5Gb3Jtcy5Gb3JtDQogICAgJGRvd25ncmFkZU1lbnUudGV4dCA9ICJEb3duZ3JhZGVyIg0KICAgICRkb3duZ3JhZGVNZW51Lkljb24gPSBbU3lzdGVtLkRyYXdpbmcuSWNvbl06OkV4dHJhY3RBc3NvY2lhdGVkSWNvbigkZmlsZUxvY2F0aW9uMSkNCiAgICAkZG93bmdyYWRlTWVudS5TaXplID0gTmV3LU9iamVjdCBEcmF3aW5nLlNpemUgQCgyNDAsIDIwMCkNCiAgICAkZG93bmdyYWRlTWVudS5TdGFydFBvc2l0aW9uID0gIkNlbnRlclNjcmVlbiINCiAgICAkZG93bmdyYWRlTWVudS5Gb3JtQm9yZGVyU3R5bGUgPSAiRml4ZWREaWFsb2ciDQogICAgJGRvd25ncmFkZU1lbnUuc2hvd0luVGFza2JhciA9ICRmYWxzZQ0KICAgICRkb3duZ3JhZGVNZW51Lk1heGltaXplQm94ID0gJGZhbHNlDQoNCiAgICAkZG93bmdyYWRlTGFiZWwgPSBOZXctT2JqZWN0IFN5c3RlbS5XaW5kb3dzLkZvcm1zLkxhYmVsDQogICAgJGRvd25ncmFkZUxhYmVsLkxvY2F0aW9uID0gTmV3LU9iamVjdCBTeXN0ZW0uRHJhd2luZy5TaXplKDEwLDEwKQ0KICAgICRkb3duZ3JhZGVMYWJlbC5TaXplID0gTmV3LU9iamVjdCBTeXN0ZW0uRHJhd2luZy5TaXplKDIwMCwyMCkNCiAgICAkZG93bmdyYWRlTGFiZWwuVGV4dCA9ICJFY2hvIFJlbGF5IERvd25ncmFkZXIiDQogICAgJGRvd25ncmFkZUxhYmVsLkZvbnQgPSAiTWljcm9zb2Z0IFNhbnMgU2VyaWYsMTIiDQogICAgJGRvd25ncmFkZUxhYmVsLlRleHRBbGlnbiA9ICJNaWRkbGVDZW50ZXIiDQogICAgJGRvd25ncmFkZU1lbnUuQ29udHJvbHMuQWRkKCRkb3duZ3JhZGVMYWJlbCkNCg0KICAgICRzZWdtZW50TGFiZWwgPSBOZXctT2JqZWN0IFN5c3RlbS5XaW5kb3dzLkZvcm1zLkxhYmVsDQogICAgJHNlZ21lbnRMYWJlbC5Mb2NhdGlvbiA9IE5ldy1PYmplY3QgU3lzdGVtLkRyYXdpbmcuU2l6ZSgxMCw3MCkNCiAgICAkc2VnbWVudExhYmVsLlNpemUgPSBOZXctT2JqZWN0IFN5c3RlbS5EcmF3aW5nLlNpemUoMjAwLDIwKQ0KICAgICRzZWdtZW50TGFiZWwuVGV4dCA9ICJEb3dubG9hZGVkIFNlZ21lbnRzIg0KICAgICRzZWdtZW50TGFiZWwuRm9udCA9ICJNaWNyb3NvZnQgU2FucyBTZXJpZiwxMCINCiAgICAkc2VnbWVudExhYmVsLlZpc2libGUgPSAkZmFsc2UNCiAgICAkZG93bmdyYWRlTWVudS5Db250cm9scy5BZGQoJHNlZ21lbnRMYWJlbCkNCg0KICAgICRzZWdtZW50UHJvZ3Jlc3MgPSBOZXctT2JqZWN0IFN5c3RlbS5XaW5kb3dzLkZvcm1zLlByb2dyZXNzQmFyDQogICAgJHNlZ21lbnRQcm9ncmVzcy5Mb2NhdGlvbiA9IE5ldy1PYmplY3QgU3lzdGVtLkRyYXdpbmcuU2l6ZSgxMCw5MCkNCiAgICAkc2VnbWVudFByb2dyZXNzLlNpemUgPSBOZXctT2JqZWN0IFN5c3RlbS5EcmF3aW5nLlNpemUoMjAwLDE1KQ0KICAgICRzZWdtZW50UHJvZ3Jlc3MuU3R5bGUgPSAiQ29udGludW91cyINCiAgICAkc2VnbWVudFByb2dyZXNzLk1heGltdW0gPSAxMDANCiAgICAkc2VnbWVudFByb2dyZXNzLlZhbHVlID0gMA0KICAgICRzZWdtZW50UHJvZ3Jlc3MuVmlzaWJsZSA9ICRmYWxzZQ0KICAgICRkb3duZ3JhZGVNZW51LkNvbnRyb2xzLkFkZCgkc2VnbWVudFByb2dyZXNzKQ0KDQogICAgJHNpemVMYWJlbCA9IE5ldy1PYmplY3QgU3lzdGVtLldpbmRvd3MuRm9ybXMuTGFiZWwNCiAgICAkc2l6ZUxhYmVsLkxvY2F0aW9uID0gTmV3LU9iamVjdCBTeXN0ZW0uRHJhd2luZy5TaXplKDEwLDExMCkNCiAgICAkc2l6ZUxhYmVsLlNpemUgPSBOZXctT2JqZWN0IFN5c3RlbS5EcmF3aW5nLlNpemUoMjAwLDIwKQ0KICAgICRzaXplTGFiZWwuVGV4dCA9ICJEb3dubG9hZGVkIFNpemUiDQogICAgJHNpemVMYWJlbC5Gb250ID0gIk1pY3Jvc29mdCBTYW5zIFNlcmlmLDEwIg0KICAgICRzaXplTGFiZWwuVmlzaWJsZSA9ICRmYWxzZQ0KICAgICRkb3duZ3JhZGVNZW51LkNvbnRyb2xzLkFkZCgkc2l6ZUxhYmVsKQ0KDQogICAgJHNpemVQcm9ncmVzcyA9IE5ldy1PYmplY3QgU3lzdGVtLldpbmRvd3MuRm9ybXMuUHJvZ3Jlc3NCYXINCiAgICAkc2l6ZVByb2dyZXNzLkxvY2F0aW9uID0gTmV3LU9iamVjdCBTeXN0ZW0uRHJhd2luZy5TaXplKDEwLDEzMCkNCiAgICAkc2l6ZVByb2dyZXNzLlNpemUgPSBOZXctT2JqZWN0IFN5c3RlbS5EcmF3aW5nLlNpemUoMjAwLDE1KQ0KICAgICRzaXplUHJvZ3Jlc3MuU3R5bGUgPSAiQ29udGludW91cyINCiAgICAkc2l6ZVByb2dyZXNzLk1heGltdW0gPSAxMDANCiAgICAkc2l6ZVByb2dyZXNzLlZhbHVlID0gMA0KICAgICRzaXplUHJvZ3Jlc3MuVmlzaWJsZSA9ICRmYWxzZQ0KICAgICRkb3duZ3JhZGVNZW51LkNvbnRyb2xzLkFkZCgkc2l6ZVByb2dyZXNzKQ0KDQoNCiAgICAkZG93bmdyYWRlQnV0dG9uID0gTmV3LU9iamVjdCBTeXN0ZW0uV2luZG93cy5Gb3Jtcy5CdXR0b24NCiAgICAkZG93bmdyYWRlQnV0dG9uLkxvY2F0aW9uID0gTmV3LU9iamVjdCBTeXN0ZW0uRHJhd2luZy5TaXplKDEwLDQwKQ0KICAgICRkb3duZ3JhZGVCdXR0b24uU2l6ZSA9IE5ldy1PYmplY3QgU3lzdGVtLkRyYXdpbmcuU2l6ZSgyMDAsMzApDQogICAgJGRvd25ncmFkZUJ1dHRvbi5UZXh0ID0gIkRvd25ncmFkZSINCiAgICAkZG93bmdyYWRlQnV0dG9uLkZvbnQgPSAiTWljcm9zb2Z0IFNhbnMgU2VyaWYsMTAiDQogICAgJGRvd25ncmFkZUJ1dHRvbi5BZGRfQ2xpY2soew0KICAgICAgICAkZG93bmdyYWRlQnV0dG9uLmVuYWJsZWQgPSAkZmFsc2UNCiAgICAgICAgJGZvbGRlclBpY2tlci5lbmFibGVkID0gJGZhbHNlDQogICAgICAgICRkb3duZ3JhZGVCdXR0b24udGV4dCA9ICJQcmVwYXJpbmcgV2ViRHJpdmVyLi4uIg0KICAgICAgICAkZG93bmdyYWRlQnV0dG9uLlJlZnJlc2goKQ0KICAgICAgICBpbnN0YWxsLXBhY2thZ2Vwcm92aWRlciBudWdldCAtc2NvcGUgQ3VycmVudFVzZXIgLWZvcmNlDQogICAgICAgIEluc3RhbGwtTW9kdWxlIC1OYW1lIFNlbGVuaXVtIC1TY29wZSBDdXJyZW50VXNlciAtQ29uZmlybTokZmFsc2UgLUZvcmNlDQogICAgICAgIHRyeSB7DQogICAgICAgICAgICAkZmlyZWZveCA9IFN0YXJ0LVNlRmlyZWZveA0KICAgICAgICB9IGNhdGNoIHsNCiAgICAgICAgICAgICRkb3duZ3JhZGVCdXR0b24udGV4dCA9ICJEb3dubG9hZGluZyBmaXJlZm94Li4uIg0KICAgICAgICAgICAgJGRvd25ncmFkZUJ1dHRvbi5SZWZyZXNoKCkNCg0KICAgICAgICAgICAgSW52b2tlLVdlYlJlcXVlc3QgLXVyaSAiaHR0cHM6Ly9kb3dubG9hZC5tb3ppbGxhLm9yZy8/cHJvZHVjdD1maXJlZm94LWxhdGVzdC1zc2wmb3M9d2luNjQmbGFuZz1lbi1VUyIgLU91dEZpbGUgIiRlbnY6dGVtcFxmaXJlZm94LmV4ZSINCiAgICAgICAgICAgIHdoaWxlICgxKSB7DQogICAgICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICAgICAgc3RhcnQtcHJvY2VzcyAiJGVudjp0ZW1wXGZpcmVmb3guZXhlIiAtQXJndW1lbnRMaXN0ICIvUyIgLXZlcmIgUnVuQXMgLVdhaXQNCiAgICAgICAgICAgICAgICAgICAgJGZpcmVmb3ggPSBTdGFydC1TZUZpcmVmb3gNCiAgICAgICAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgICAgICB9IGNhdGNoIHsNCiAgICAgICAgICAgICAgICAgICAgJGNob2ljZSA9IFtTeXN0ZW0uV2luZG93cy5Gb3Jtcy5NZXNzYWdlQm94XTo6c2hvdygiUGxlYXNlIGFjY2VwdCB0aGUgYWRtaW4gcHJvbXB0IHRvIGluc3RhbGwgRmlyZWZveC5gbmBuTm8gcHJvbXB0PyBUcnkgaW5zdGFsbGluZyBtYW51YWxseS4iLCAiRWNobyBSZWxheSBEb3duZ3JhZGVyIiwiUmV0cnlDYW5jZWwiLCAiRXJyb3IiKQ0KICAgICAgICAgICAgICAgICAgICBpZiAoJGNob2ljZSAtZXEgIkNhbmNlbCIpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICRkb3duZ3JhZGVCdXR0b24udGV4dCA9ICJUcnkgYWdhaW4iDQogICAgICAgICAgICAgICAgICAgICAgICAkZG93bmdyYWRlQnV0dG9uLmVuYWJsZWQgPSAkdHJ1ZQ0KICAgICAgICAgICAgICAgICAgICAgICAgJGZvbGRlclBpY2tlci5lbmFibGVkID0gJHRydWUNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybg0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgICRmaXJlZm94Lk5hdmlnYXRlKCkuR29Ub1VybCgiaHR0cHM6Ly9hdXRoLm9jdWx1cy5jb20vbG9naW4vP3JlZGlyZWN0X3VyaT1odHRwcyUzQSUyRiUyRmRldmVsb3Blci5vY3VsdXMuY29tJTJGbWFuYWdlJTJGIikNCiAgICAgICAgd2hpbGUgKCRmaXJlZm94LnVybCAtbm90bGlrZSAiaHR0cHM6Ly9kZXZlbG9wZXIub2N1bHVzLmNvbS9tYW5hZ2UvKiIpIHsNCiAgICAgICAgICAgIGlmICgkZmlyZWZveC51cmwgLWVxICRudWxsKSB7DQogICAgICAgICAgICAgICAgJGZpcmVmb3guUXVpdCgpDQogICAgICAgICAgICAgICAgW1N5c3RlbS5XaW5kb3dzLkZvcm1zLk1lc3NhZ2VCb3hdOjpzaG93KCJZb3UgY2xvc2VkIHRoZSBicm93c2VyIHdpbmRvdyB3aXRob3V0IGxvZ2dpbmcgaW4uIFBsZWFzZSB0cnkgYWdhaW4uYG5gblRoZSBhY2NvdW50IGluZm9ybWF0aW9uIGVudGVyZWQgaXMgb25seSBldmVyIHVzZWQgdG8gZG93bmxvYWQgdGhlIGdhbWUuIElmIHlvdSB3aXNoIG5vdCB0byBlbnRlciB5b3VyIGFjY291bnQgaW5mb3JtYXRpb24geW91IHdpbGwgbmVlZCB0byB1c2UgYW50aGVyIG1ldGhvZCB0byBnZXQgRWNobyBSZWxheS4iLCAiRWNobyBSZWxheSBEb3duZ3JhZGVyIiwiT0siLCAiRXJyb3IiKQ0KICAgICAgICAgICAgICAgICRkb3duZ3JhZGVCdXR0b24udGV4dCA9ICJUcnkgYWdhaW4iDQogICAgICAgICAgICAgICAgJGRvd25ncmFkZUJ1dHRvbi5lbmFibGVkID0gJHRydWUNCiAgICAgICAgICAgICAgICByZXR1cm4NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIFN0YXJ0LVNsZWVwIC1TZWNvbmRzIDENCiAgICAgICAgfQ0KICAgICAgICAkdG9rZW4gPSAkZmlyZWZveC5NYW5hZ2UoKS5Db29raWVzLkdldENvb2tpZU5hbWVkKCJvY193d3dfYXQiKS5WYWx1ZQ0KICAgICAgICAkZmlyZWZveC5RdWl0KCkNCiAgICAgICAgJGRvd25ncmFkZUJ1dHRvbi50ZXh0ID0gIkRvd25sb2FkaW5nLi4uIg0KICAgICAgICAkZG93bmdyYWRlQnV0dG9uLlJlZnJlc2goKQ0KICAgICAgICAkZm9sZGVyUGlja2VyLlZpc2libGUgPSAkZmFsc2UNCiAgICAgICAgJHNlZ21lbnRMYWJlbC5WaXNpYmxlID0gJHRydWUNCiAgICAgICAgJHNlZ21lbnRQcm9ncmVzcy5WaXNpYmxlID0gJHRydWUNCiAgICAgICAgJHNpemVMYWJlbC5WaXNpYmxlID0gJHRydWUNCiAgICAgICAgJHNpemVQcm9ncmVzcy5WaXNpYmxlID0gJHRydWUNCiAgICAgICAgJHNlZ21lbnRQcm9ncmVzcy5WYWx1ZSA9IDANCiAgICAgICAgJHNlZ21lbnRQcm9ncmVzcy5SZWZyZXNoKCkNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIEludm9rZS1XZWJSZXF1ZXN0IC11cmkgImh0dHBzOi8vc2VjdXJlY2RuLm9jdWx1cy5jb20vYmluYXJpZXMvZG93bmxvYWQvP2lkPTYzMjM5ODMyMDEwNDk1NDAmYWNjZXNzX3Rva2VuPSR0b2tlbiZnZXRfbWFuaWZlc3Q9MSIgLU91dEZpbGUgIiRlbnY6dGVtcFxtYW5pZmVzdC56aXAiDQogICAgICAgIH0gY2F0Y2ggew0KICAgICAgICAgICAgW1N5c3RlbS5XaW5kb3dzLkZvcm1zLk1lc3NhZ2VCb3hdOjpzaG93KCJGYWlsZWQgdG8gc3RhcnQgZG93bmxvYWQuIFRoaXMgaXMgdXN1YWxseSBjYXVzZWQgYnkgeW91IG5vdCBvd25pbmcgRWNobyBWUiBvbiB0aGUgYWNjb3VudCB0byBsb2dnZWQgaW4gd2l0aCwgb3IgaGF2aW5nIG5vIGludGVybmV0LiIsICJFY2hvIFJlbGF5IFNlcnZlciBCcm93c2VyIiwiT0siLCAiRXJyb3IiKQ0KICAgICAgICAgICAgJGRvd25ncmFkZUJ1dHRvbi50ZXh0ID0gIlRyeSBhZ2FpbiINCiAgICAgICAgICAgICRkb3duZ3JhZGVCdXR0b24uZW5hYmxlZCA9ICR0cnVlDQogICAgICAgICAgICByZXR1cm4NCiAgICAgICAgfQ0KICAgICAgICBFeHBhbmQtQXJjaGl2ZSAtUGF0aCAiJGVudjp0ZW1wXG1hbmlmZXN0LnppcCIgLURlc3RpbmF0aW9uUGF0aCAiJGVudjp0ZW1wXG1hbmlmZXN0IiAtZm9yY2UNCiAgICAgICAgJG1hbmlmZXN0ID0gZ2V0LWNvbnRlbnQgIiRlbnY6dGVtcFxtYW5pZmVzdFxtYW5pZmVzdC5qc29uIiB8IGNvbnZlcnRmcm9tLWpzb24NCiAgICAgICAgcmVtb3ZlLWl0ZW0gIiRlbnY6dGVtcFxtYW5pZmVzdC56aXAiDQogICAgICAgIHJlbW92ZS1pdGVtICIkZW52OnRlbXBcbWFuaWZlc3QiIC1yZWN1cnNlIC1mb3JjZQ0KICAgICAgICAkc2VnbWVudENvdW50ID0gMA0KICAgICAgICBmb3IgKCRpPTA7ICRpIC1sdCAkKCRtYW5pZmVzdC5maWxlcyB8IGdldC1tZW1iZXIpLm5hbWUuY291bnQ7ICRpKyspIHsNCiAgICAgICAgICAgICRzZWdtZW50Q291bnQgPSAkc2VnbWVudENvdW50ICsgJG1hbmlmZXN0LmZpbGVzLiQoJCgkbWFuaWZlc3QuZmlsZXMgfCBnZXQtbWVtYmVyKS5uYW1lWyRpXSkuc2VnbWVudHMuY291bnQNCiAgICAgICAgICAgICR0b3RhbFNpemUgPSAkdG90YWxTaXplICsgJG1hbmlmZXN0LmZpbGVzLiQoJCgkbWFuaWZlc3QuZmlsZXMgfCBnZXQtbWVtYmVyKS5uYW1lWyRpXSkuc2l6ZQ0KICAgICAgICB9DQogICAgICAgICRzZWdtZW50c0Rvd25sb2FkZWQgPSAwDQogICAgICAgIGZvciAoJGk9MDsgJGkgLWx0ICQoJG1hbmlmZXN0LmZpbGVzIHwgZ2V0LW1lbWJlcikubmFtZS5jb3VudDsgJGkrKykgew0KICAgICAgICAgICAgJGZvbGRlck5hbWUgPSAkKCQoJG1hbmlmZXN0LmZpbGVzIHwgZ2V0LW1lbWJlcikubmFtZVskaV0pDQogICAgICAgICAgICAkZm9sZGVyTmFtZSA9ICRmb2xkZXJOYW1lIC1zcGxpdCAiXFwiDQogICAgICAgICAgICAkZm9sZGVyTmFtZSA9ICRmb2xkZXJOYW1lWzAuLigkZm9sZGVyTmFtZS5MZW5ndGggLSAyKV0NCiAgICAgICAgICAgICRmb2xkZXJOYW1lID0gJGZvbGRlck5hbWUgLWpvaW4gIlwiDQogICAgICAgICAgICBta2RpciAiJGdsb2JhbDpnYW1lcGF0aFwuLlxldnIuZG93bmxvYWRpbmdcJGZvbGRlck5hbWVcIiAtRXJyb3JBY3Rpb24gU2lsZW50bHlDb250aW51ZQ0KICAgICAgICAgICAgJGZpbGVTdHJlYW0gPSBOZXctT2JqZWN0IFN5c3RlbS5JTy5GaWxlU3RyZWFtKCIkZ2xvYmFsOmdhbWVwYXRoXC4uXGV2ci5kb3dubG9hZGluZ1wkKCQoJG1hbmlmZXN0LmZpbGVzIHwgZ2V0LW1lbWJlcikubmFtZVskaV0pIiwgW1N5c3RlbS5JTy5GaWxlTW9kZV06OkNyZWF0ZSwgW1N5c3RlbS5JTy5GaWxlQWNjZXNzXTo6V3JpdGUpDQogICAgICAgICAgICAkYnVmZmVyU2l6ZSA9IDEwS0INCiAgICAgICAgICAgIGZvcmVhY2ggKCRzZWdtZW50IGluICRtYW5pZmVzdC5maWxlcy4kKCQoJG1hbmlmZXN0LmZpbGVzIHwgZ2V0LW1lbWJlcikubmFtZVskaV0pLnNlZ21lbnRzKSB7DQogICAgICAgICAgICAgICAgJHRhcmdldFN0cmVhbSA9IE5ldy1PYmplY3QgLVR5cGVOYW1lIFN5c3RlbS5JTy5NZW1vcnlTdHJlYW0NCiAgICAgICAgICAgICAgICAkdXJpID0gTmV3LU9iamVjdCAiU3lzdGVtLlVyaSIgImh0dHBzOi8vc2VjdXJlY2RuLm9jdWx1cy5jb20vYmluYXJpZXMvc2VnbWVudC8/YWNjZXNzX3Rva2VuPSR0b2tlbiZiaW5hcnlfaWQ9NjMyMzk4MzIwMTA0OTU0MCZzZWdtZW50X3NoYTI1Nj0kKCRzZWdtZW50WzFdKSINCiAgICAgICAgICAgICAgICAkcmVxdWVzdCA9IFtTeXN0ZW0uTmV0Lkh0dHBXZWJSZXF1ZXN0XTo6Q3JlYXRlKCR1cmkpDQogICAgICAgICAgICAgICAgJHJlcXVlc3Quc2V0X1RpbWVvdXQoMTUwMDApDQogICAgICAgICAgICAgICAgJHJlc3BvbnNlID0gJHJlcXVlc3QuR2V0UmVzcG9uc2UoKQ0KICAgICAgICAgICAgICAgICRyZXNwb25zZVN0cmVhbSA9ICRyZXNwb25zZS5HZXRSZXNwb25zZVN0cmVhbSgpDQogICAgICAgICAgICAgICAgJHJlc3BvbnNlU3RyZWFtLkNvcHlUbygkdGFyZ2V0U3RyZWFtLCAkYnVmZmVyU2l6ZSkNCiAgICAgICAgICAgICAgICAkdGFyZ2V0U3RyZWFtLlBvc2l0aW9uID0gMA0KICAgICAgICAgICAgICAgICR0YXJnZXRTdHJlYW0uU2V0TGVuZ3RoKCR0YXJnZXRTdHJlYW0uTGVuZ3RoIC0gNCkNCiAgICAgICAgICAgICAgICAkdGFyZ2V0U3RyZWFtLlBvc2l0aW9uID0gMg0KICAgICAgICAgICAgICAgICRkZWZsYXRlU3RyZWFtID0gTmV3LU9iamVjdCBTeXN0ZW0uSU8uQ29tcHJlc3Npb24uRGVmbGF0ZVN0cmVhbSgkdGFyZ2V0U3RyZWFtLCBbU3lzdGVtLklPLkNvbXByZXNzaW9uLkNvbXByZXNzaW9uTW9kZV06OkRlY29tcHJlc3MpDQogICAgICAgICAgICAgICAgJGRlZmxhdGVTdHJlYW0uQ29weVRvKCRmaWxlU3RyZWFtLCAkYnVmZmVyU2l6ZSkNCiAgICAgICAgICAgICAgICAkZGVmbGF0ZVN0cmVhbS5DbG9zZSgpDQogICAgICAgICAgICAgICAgJHRhcmdldFN0cmVhbS5DbG9zZSgpDQogICAgICAgICAgICAgICAgJHJlc3BvbnNlU3RyZWFtLkNsb3NlKCkNCiAgICAgICAgICAgICAgICAkc2VnbWVudHNEb3dubG9hZGVkKysNCiAgICAgICAgICAgICAgICAkc2VnbWVudFByb2dyZXNzLnZhbHVlID0gKCRzZWdtZW50c0Rvd25sb2FkZWQgLyAkc2VnbWVudENvdW50KSAqIDEwMA0KICAgICAgICAgICAgICAgICRzZWdtZW50UHJvZ3Jlc3MuUmVmcmVzaCgpDQogICAgICAgICAgICAgICAgJHNpemVQcm9ncmVzcy52YWx1ZSA9ICgoKEdldC1DaGlsZEl0ZW0gIiRnbG9iYWw6Z2FtZXBhdGhcLi5cZXZyLmRvd25sb2FkaW5nIiAtUmVjdXJzZSB8IE1lYXN1cmUtT2JqZWN0IC1Qcm9wZXJ0eSBMZW5ndGggLVN1bSAtRXJyb3JBY3Rpb24gU2lsZW50bHlDb250aW51ZSkuU3VtICsgJGZpbGVTdHJlYW0uTGVuZ3RoKS8gJHRvdGFsU2l6ZSkgKiAxMDANCiAgICAgICAgICAgICAgICAkc2l6ZVByb2dyZXNzLlJlZnJlc2goKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgJGZpbGVTdHJlYW0uQ2xvc2UoKQ0KICAgICAgICB9DQogICAgICAgICRzZWdtZW50TGFiZWwuVmlzaWJsZSA9ICRmYWxzZQ0KICAgICAgICAkc2l6ZUxhYmVsLlZpc2libGUgPSAkZmFsc2UNCiAgICAgICAgJHNpemVQcm9ncmVzcy5WaXNpYmxlID0gJGZhbHNlDQogICAgICAgICRkb3duZ3JhZGVCdXR0b24udGV4dCA9ICJWZXJpZnlpbmcuLi4iDQogICAgICAgICRkb3duZ3JhZGVCdXR0b24uUmVmcmVzaCgpDQoNCiAgICAgICAgZm9yICgkaT0wOyAkaSAtbHQgJCgkbWFuaWZlc3QuZmlsZXMgfCBnZXQtbWVtYmVyKS5uYW1lLmNvdW50OyAkaSsrKSB7DQogICAgICAgICAgICAkaGFzaCA9IChHZXQtRmlsZUhhc2ggLVBhdGggIiRnbG9iYWw6Z2FtZXBhdGhcLi5cZXZyLmRvd25sb2FkaW5nXCQoJCgkbWFuaWZlc3QuZmlsZXMgfCBnZXQtbWVtYmVyKS5uYW1lWyRpXSkiIC1BbGdvcml0aG0gU0hBMjU2KS5oYXNoDQogICAgICAgICAgICBpZiAoJGhhc2ggLW5lICRtYW5pZmVzdC5maWxlcy4kKCQoJG1hbmlmZXN0LmZpbGVzIHwgZ2V0LW1lbWJlcikubmFtZVskaV0pLnNoYTI1Nikgew0KICAgICAgICAgICAgICAgICRkb3duZ3JhZGVCdXR0b24udGV4dCA9ICJEb3dubG9hZGluZy4uLiINCiAgICAgICAgICAgICAgICAkZmlsZVN0cmVhbSA9IE5ldy1PYmplY3QgU3lzdGVtLklPLkZpbGVTdHJlYW0oIiRnbG9iYWw6Z2FtZXBhdGhcLi5cZXZyLmRvd25sb2FkaW5nXCQoJCgkbWFuaWZlc3QuZmlsZXMgfCBnZXQtbWVtYmVyKS5uYW1lWyRpXSkiLCBbU3lzdGVtLklPLkZpbGVNb2RlXTo6Q3JlYXRlLCBbU3lzdGVtLklPLkZpbGVBY2Nlc3NdOjpXcml0ZSkNCiAgICAgICAgICAgICAgICAkYnVmZmVyU2l6ZSA9IDEwS0INCiAgICAgICAgICAgICAgICAkc2VnbWVudHNEb3dubG9hZGVkID0gMA0KICAgICAgICAgICAgICAgIGZvcmVhY2ggKCRzZWdtZW50IGluICRtYW5pZmVzdC5maWxlcy4kKCQoJG1hbmlmZXN0LmZpbGVzIHwgZ2V0LW1lbWJlcikubmFtZVskaV0pLnNlZ21lbnRzKSB7DQogICAgICAgICAgICAgICAgICAgICR0YXJnZXRTdHJlYW0gPSBOZXctT2JqZWN0IC1UeXBlTmFtZSBTeXN0ZW0uSU8uTWVtb3J5U3RyZWFtDQogICAgICAgICAgICAgICAgICAgICR1cmkgPSBOZXctT2JqZWN0ICJTeXN0ZW0uVXJpIiAiaHR0cHM6Ly9zZWN1cmVjZG4ub2N1bHVzLmNvbS9iaW5hcmllcy9zZWdtZW50Lz9hY2Nlc3NfdG9rZW49JHRva2VuJmJpbmFyeV9pZD02MzIzOTgzMjAxMDQ5NTQwJnNlZ21lbnRfc2hhMjU2PSQoJHNlZ21lbnRbMV0pIg0KICAgICAgICAgICAgICAgICAgICAkcmVxdWVzdCA9IFtTeXN0ZW0uTmV0Lkh0dHBXZWJSZXF1ZXN0XTo6Q3JlYXRlKCR1cmkpDQogICAgICAgICAgICAgICAgICAgICRyZXF1ZXN0LnNldF9UaW1lb3V0KDE1MDAwKQ0KICAgICAgICAgICAgICAgICAgICAkcmVzcG9uc2UgPSAkcmVxdWVzdC5HZXRSZXNwb25zZSgpDQogICAgICAgICAgICAgICAgICAgICRyZXNwb25zZVN0cmVhbSA9ICRyZXNwb25zZS5HZXRSZXNwb25zZVN0cmVhbSgpDQogICAgICAgICAgICAgICAgICAgICRyZXNwb25zZVN0cmVhbS5Db3B5VG8oJHRhcmdldFN0cmVhbSwgJGJ1ZmZlclNpemUpDQogICAgICAgICAgICAgICAgICAgICR0YXJnZXRTdHJlYW0uUG9zaXRpb24gPSAwDQogICAgICAgICAgICAgICAgICAgICR0YXJnZXRTdHJlYW0uU2V0TGVuZ3RoKCR0YXJnZXRTdHJlYW0uTGVuZ3RoIC0gNCkNCiAgICAgICAgICAgICAgICAgICAgJHRhcmdldFN0cmVhbS5Qb3NpdGlvbiA9IDINCiAgICAgICAgICAgICAgICAgICAgJGRlZmxhdGVTdHJlYW0gPSBOZXctT2JqZWN0IFN5c3RlbS5JTy5Db21wcmVzc2lvbi5EZWZsYXRlU3RyZWFtKCR0YXJnZXRTdHJlYW0sIFtTeXN0ZW0uSU8uQ29tcHJlc3Npb24uQ29tcHJlc3Npb25Nb2RlXTo6RGVjb21wcmVzcykNCiAgICAgICAgICAgICAgICAgICAgJGRlZmxhdGVTdHJlYW0uQ29weVRvKCRmaWxlU3RyZWFtLCAkYnVmZmVyU2l6ZSkNCiAgICAgICAgICAgICAgICAgICAgJGRlZmxhdGVTdHJlYW0uQ2xvc2UoKQ0KICAgICAgICAgICAgICAgICAgICAkdGFyZ2V0U3RyZWFtLkNsb3NlKCkNCiAgICAgICAgICAgICAgICAgICAgJHJlc3BvbnNlU3RyZWFtLkNsb3NlKCkNCiAgICAgICAgICAgICAgICAgICAgJHNlZ21lbnRzRG93bmxvYWRlZCsrDQogICAgICAgICAgICAgICAgICAgICRzZWdtZW50UHJvZ3Jlc3MudmFsdWUgPSAoJHNlZ21lbnRzRG93bmxvYWRlZCAvICRtYW5pZmVzdC5maWxlcy4kKCQoJG1hbmlmZXN0LmZpbGVzIHwgZ2V0LW1lbWJlcikubmFtZVskaV0pLnNlZ21lbnRzLmNvdW50KSAqIDEwMA0KICAgICAgICAgICAgICAgICAgICAkc2VnbWVudFByb2dyZXNzLlJlZnJlc2goKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAkZmlsZVN0cmVhbS5DbG9zZSgpDQogICAgICAgICAgICAgICAgJGhhc2ggPSAoR2V0LUZpbGVIYXNoIC1QYXRoICIkZ2xvYmFsOmdhbWVwYXRoXC4uXGV2ci5kb3dubG9hZGluZ1wkKCQoJG1hbmlmZXN0LmZpbGVzIHwgZ2V0LW1lbWJlcikubmFtZVskaV0pIiAtQWxnb3JpdGhtIFNIQTI1NikuaGFzaA0KICAgICAgICAgICAgICAgIGlmICgkaGFzaCAtbmUgJG1hbmlmZXN0LmZpbGVzLiQoJCgkbWFuaWZlc3QuZmlsZXMgfCBnZXQtbWVtYmVyKS5uYW1lWyRpXSkuc2hhMjU2KSB7DQogICAgICAgICAgICAgICAgICAgIFtTeXN0ZW0uV2luZG93cy5Gb3Jtcy5NZXNzYWdlQm94XTo6c2hvdygiVGhlIGRvd25sb2FkIHdhcyBjb3JydXB0IGV2ZW4gYWZ0ZXIgYSBzZWNvbmQgZG93bmxvYWQgYXR0ZW1wdC4gUGxlYXNlIHRyeSBhZ2Fpbi4iLCAiRWNobyBSZWxheSBEb3duZ3JhZGVyIiwiT0siLCAiRXJyb3IiKQ0KICAgICAgICAgICAgICAgICAgICAkZG93bmdyYWRlQnV0dG9uLnRleHQgPSAiVHJ5IGFnYWluIg0KICAgICAgICAgICAgICAgICAgICAkZG93bmdyYWRlQnV0dG9uLmVuYWJsZWQgPSAkdHJ1ZQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm4NCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAkZG93bmdyYWRlQnV0dG9uLnRleHQgPSAiVmVyaWZ5aW5nLi4uIg0KICAgICAgICAgICAgICAgICAgICAkZG93bmdyYWRlQnV0dG9uLlJlZnJlc2goKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgICRzZWdtZW50UHJvZ3Jlc3MudmFsdWUgPSAoJGkgLyAkKCRtYW5pZmVzdC5maWxlcyB8IGdldC1tZW1iZXIpLm5hbWUuY291bnQpICogMTAwDQogICAgICAgICAgICAkc2VnbWVudFByb2dyZXNzLlJlZnJlc2goKQ0KICAgICAgICB9DQogICAgICAgICRzZWdtZW50UHJvZ3Jlc3MuVmlzaWJsZSA9ICRmYWxzZQ0KICAgICAgICAkZm9sZGVyUGlja2VyLlZpc2libGUgPSAkdHJ1ZQ0KICAgICAgICAkdG9rZW4gPSAkbnVsbA0KDQogICAgICAgIHJtZGlyICIkZ2xvYmFsOmdhbWVwYXRoXC4uXGV2ci5kb3dubG9hZGluZ1xFcXVhbHMiIC1yZWN1cnNlIC1mb3JjZQ0KICAgICAgICBybWRpciAiJGdsb2JhbDpnYW1lcGF0aFwuLlxldnIuZG93bmxvYWRpbmdcR2V0SGFzaENvZGUiIC1yZWN1cnNlIC1mb3JjZQ0KICAgICAgICBybWRpciAiJGdsb2JhbDpnYW1lcGF0aFwuLlxldnIuZG93bmxvYWRpbmdcR2V0VHlwZSIgLXJlY3Vyc2UgLWZvcmNlDQogICAgICAgIHJtZGlyICIkZ2xvYmFsOmdhbWVwYXRoXC4uXGV2ci5kb3dubG9hZGluZ1xUb1N0cmluZyIgLXJlY3Vyc2UgLWZvcmNlDQogICAgICAgICRkb3duZ3JhZGVCdXR0b24udGV4dCA9ICJGaW5pc2hlZCEiDQogICAgICAgICRkb3duZ3JhZGVCdXR0b24uUmVmcmVzaCgpDQogICAgICAgICRjaG9pY2UgPSBbU3lzdGVtLldpbmRvd3MuRm9ybXMuTWVzc2FnZUJveF06OnNob3coIldvdWxkIHlvdSBsaWtlIHRvIGRlbGV0ZSB5b3VyIG9sZCBpbnN0YWxsPyIsICJFY2hvIFJlbGF5IERvd25ncmFkZXIiLCBbc3lzdGVtLndpbmRvd3MuZm9ybXMubWVzc2FnZWJveGJ1dHRvbnNdOjpZZXNObywgW3N5c3RlbS53aW5kb3dzLmZvcm1zLm1lc3NhZ2Vib3hpY29uXTo6UXVlc3Rpb24pDQogICAgICAgIGlmICgkY2hvaWNlIC1lcSAiWWVzIikgew0KICAgICAgICAgICAgcmVtb3ZlLWl0ZW0gJGdsb2JhbDpnYW1lUGF0aCAtcmVjdXJzZSAtZm9yY2UNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHJlbmFtZS1pdGVtICRnbG9iYWw6Z2FtZVBhdGggIiRnbG9iYWw6Z2FtZVBhdGgub2xkIg0KICAgICAgICB9DQogICAgICAgIHJlbmFtZS1pdGVtICIkZ2xvYmFsOmdhbWVwYXRoXC4uXGV2ci5kb3dubG9hZGluZ1wiICJyZWFkeS1hdC1kYXduLWVjaG8tYXJlbmEiIC1mb3JjZQ0KICAgICAgICBzdGFydC1zbGVlcCAtcyAyDQogICAgICAgICRkb3duZ3JhZGVNZW51LkNsb3NlKCkNCiAgICB9KQ0KICAgICRkb3duZ3JhZGVNZW51LkNvbnRyb2xzLkFkZCgkZG93bmdyYWRlQnV0dG9uKQ0KDQogICAgJGZvbGRlclBpY2tlciA9IE5ldy1PYmplY3QgU3lzdGVtLldpbmRvd3MuRm9ybXMuQnV0dG9uDQogICAgJGZvbGRlclBpY2tlci5Mb2NhdGlvbiA9IE5ldy1PYmplY3QgU3lzdGVtLkRyYXdpbmcuU2l6ZSgxMCw4MCkNCiAgICAkZm9sZGVyUGlja2VyLlNpemUgPSBOZXctT2JqZWN0IFN5c3RlbS5EcmF3aW5nLlNpemUoMjAwLDMwKQ0KICAgICRmb2xkZXJQaWNrZXIuVGV4dCA9ICJUYXJnZXQgZm9sZGVyIg0KICAgICRmb2xkZXJQaWNrZXIuRm9udCA9ICJNaWNyb3NvZnQgU2FucyBTZXJpZiwxMCINCiAgICAkZm9sZGVyUGlja2VyLkFkZF9DbGljayh7DQogICAgICAgICRsb2NhdGlvbnMgPSBHZXQtQ2hpbGRJdGVtICJIS0NVOlxTT0ZUV0FSRVxPY3VsdXMgVlIsIExMQ1xPY3VsdXNcTGlicmFyaWVzXCoiDQogICAgICAgICRsb2NhdGlvbkxpc3QgPSBbU3lzdGVtLkNvbGxlY3Rpb25zLkFycmF5TGlzdF1AKCkNCiAgICAgICAgZm9yZWFjaCAoJGxvY2F0aW9uIGluICRsb2NhdGlvbnMpIHsNCiAgICAgICAgICAgICRsb2NhdGlvbkxpc3QuQWRkKCQoR2V0LUl0ZW1Qcm9wZXJ0eSAiSEtDVTpcU09GVFdBUkVcT2N1bHVzIFZSLCBMTENcT2N1bHVzXExpYnJhcmllc1wkKCRsb2NhdGlvbi5QU0NoaWxkTmFtZSkiIC1OYW1lIE9yaWdpbmFsUGF0aCB8IHNlbGVjdCAtRXhwYW5kUHJvcGVydHkgT3JpZ2luYWxQYXRoKSkNCiAgICAgICAgfQ0KICAgICAgICAkaT0wDQogICAgICAgIGZvcmVhY2ggKCRsb2NhdGlvbiBpbiAkbG9jYXRpb25MaXN0KSB7DQogICAgICAgICAgICBpZiAodGVzdC1wYXRoICIkbG9jYXRpb25cU29mdHdhcmVccmVhZHktYXQtZGF3bi1lY2hvLWFyZW5hXGJpblx3aW4xMFxlY2hvdnIuZXhlIikgew0KICAgICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICB9DQogICAgICAgICAgICAkaSsrDQogICAgICAgIH0NCiAgICAgICAgJHBpY2tNZW51ID0gbmV3LW9iamVjdCBTeXN0ZW0uV2luZG93cy5Gb3Jtcy5Gb3JtDQogICAgICAgICRwaWNrTWVudS50ZXh0ID0gIkVjaG8gUmVsYXkgRG93bmdyYWRlciINCiAgICAgICAgJHBpY2tNZW51Lkljb24gPSBbU3lzdGVtLkRyYXdpbmcuSWNvbl06OkV4dHJhY3RBc3NvY2lhdGVkSWNvbigkZmlsZUxvY2F0aW9uMSkNCiAgICAgICAgJHBpY2tNZW51LlNpemUgPSBOZXctT2JqZWN0IERyYXdpbmcuU2l6ZSBAKDMyMCwgMjcwKQ0KICAgICAgICAkcGlja01lbnUuU3RhcnRQb3NpdGlvbiA9ICJDZW50ZXJTY3JlZW4iDQogICAgICAgICRwaWNrTWVudS5Gb3JtQm9yZGVyU3R5bGUgPSAiRml4ZWREaWFsb2ciDQogICAgICAgICRwaWNrTWVudS5NYXhpbWl6ZUJveCA9ICRmYWxzZQ0KICAgICAgICAkcGlja01lbnUuU2hvd0luVGFza2JhciA9ICRmYWxzZQ0KDQogICAgICAgICRwaWNrTGFiZWwgPSBOZXctT2JqZWN0IFN5c3RlbS5XaW5kb3dzLkZvcm1zLkxhYmVsDQogICAgICAgICRwaWNrTGFiZWwuTG9jYXRpb24gPSBOZXctT2JqZWN0IFN5c3RlbS5EcmF3aW5nLlNpemUoMTAsMTApDQogICAgICAgICRwaWNrTGFiZWwuU2l6ZSA9IE5ldy1PYmplY3QgU3lzdGVtLkRyYXdpbmcuU2l6ZSgyODAsMjApDQogICAgICAgICRwaWNrTGFiZWwuVGV4dCA9ICJTZWxlY3QgZm9sZGVyIHRvIGRvd25sb2FkIEVjaG8gVlIgaW50byINCiAgICAgICAgJHBpY2tMYWJlbC5UZXh0QWxpZ24gPSAiTWlkZGxlQ2VudGVyIg0KICAgICAgICAkcGlja0xhYmVsLkZvbnQgPSAiTWljcm9zb2Z0IFNhbnMgU2VyaWYsMTAiDQogICAgICAgICRwaWNrTWVudS5Db250cm9scy5BZGQoJHBpY2tMYWJlbCkNCg0KICAgICAgICAkcGlja0xpc3QgPSBOZXctT2JqZWN0IFN5c3RlbS5XaW5kb3dzLkZvcm1zLkxpc3RCb3gNCiAgICAgICAgJHBpY2tMaXN0LkxvY2F0aW9uID0gTmV3LU9iamVjdCBTeXN0ZW0uRHJhd2luZy5TaXplKDEwLDMwKQ0KICAgICAgICAkcGlja0xpc3QuU2l6ZSA9IE5ldy1PYmplY3QgU3lzdGVtLkRyYXdpbmcuU2l6ZSgyODAsMTAwKQ0KICAgICAgICAkcGlja0xpc3QuRm9udCA9ICJNaWNyb3NvZnQgU2FucyBTZXJpZiwxMCINCiAgICAgICAgJHBpY2tMaXN0LkRhdGFTb3VyY2UgPSAkbG9jYXRpb25MaXN0DQogICAgICAgICRwaWNrTGlzdC5TZWxlY3RlZEluZGV4ID0gJGkNCiAgICAgICAgJHBpY2tNZW51LkNvbnRyb2xzLkFkZCgkcGlja0xpc3QpDQoNCiAgICAgICAgJGN1c3RvbVBhdGggPSBOZXctT2JqZWN0IFN5c3RlbS5XaW5kb3dzLkZvcm1zLkJ1dHRvbg0KICAgICAgICAkY3VzdG9tUGF0aC5Mb2NhdGlvbiA9IE5ldy1PYmplY3QgU3lzdGVtLkRyYXdpbmcuU2l6ZSgxMCwxNDApDQogICAgICAgICRjdXN0b21QYXRoLlNpemUgPSBOZXctT2JqZWN0IFN5c3RlbS5EcmF3aW5nLlNpemUoMjgwLDMwKQ0KICAgICAgICAkY3VzdG9tUGF0aC5UZXh0ID0gIkN1c3RvbSBQYXRoIg0KICAgICAgICAkY3VzdG9tUGF0aC5Gb250ID0gIk1pY3Jvc29mdCBTYW5zIFNlcmlmLDEwIg0KICAgICAgICAkY3VzdG9tUGF0aC5BZGRfQ2xpY2soew0KICAgICAgICAgICAgJGNob2ljZSA9IFtTeXN0ZW0uV2luZG93cy5Gb3Jtcy5NZXNzYWdlQm94XTo6U2hvdygiSXQgaXMgcmVjb21tZW5kZWQgdGhhdCB5b3UgdXNlIHRoZSBwcmUtc2VsZWN0ZWQgZm9sZGVyIHNvIHRoYXQgdGhlIE9jdWx1cyBhcHAgbGF1bmNoZXMgdGhlIGRvd25ncmFkZWQgdmVyc2lvbiBvZiB0aGUgZ2FtZS5gbmBuYFdoaWxlIHlvdSBjYW4gdXNlIGEgY3VzdG9tIHBhdGggaXQgaXMgbm90IHJlY29tbWVuZGVkLiBXb3VsZCB5b3Ugc3RpbGwgbGlrZSB0byB1c2UgYSBjdXN0b20gcGF0aD8iLCAiRWNobyBSZWxheSBEb3duZ3JhZGVyIiwgW3N5c3RlbS53aW5kb3dzLmZvcm1zLm1lc3NhZ2Vib3hidXR0b25zXTo6WWVzTm8sIFtzeXN0ZW0ud2luZG93cy5mb3Jtcy5tZXNzYWdlYm94aWNvbl06Oldhcm5pbmcpDQogICAgICAgICAgICBpZiAoJGNob2ljZSAtZXEgIk5vIikgew0KICAgICAgICAgICAgICAgIHJldHVybg0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgJGdsb2JhbDpnYW1lUGF0aCA9IFJlYWQtRm9sZGVyQnJvd3NlckRpYWxvZyAtTWVzc2FnZSAiU2VsZWN0IHRoZSBmb2xkZXIgeW91IHdhbnQgdG8gaW5zdGFsbCBFY2hvIFZSIGludG8iDQogICAgICAgICAgICAkcGlja01lbnUuQ2xvc2UoKQ0KICAgICAgICB9KQ0KICAgICAgICAkcGlja01lbnUuQ29udHJvbHMuQWRkKCRjdXN0b21QYXRoKQ0KDQogICAgICAgICRwaWNrQnV0dG9uID0gTmV3LU9iamVjdCBTeXN0ZW0uV2luZG93cy5Gb3Jtcy5CdXR0b24NCiAgICAgICAgJHBpY2tCdXR0b24uTG9jYXRpb24gPSBOZXctT2JqZWN0IFN5c3RlbS5EcmF3aW5nLlNpemUoMTAsMTgwKQ0KICAgICAgICAkcGlja0J1dHRvbi5TaXplID0gTmV3LU9iamVjdCBTeXN0ZW0uRHJhd2luZy5TaXplKDI4MCwzMCkNCiAgICAgICAgJHBpY2tCdXR0b24uVGV4dCA9ICJTZWxlY3QiDQogICAgICAgICRwaWNrQnV0dG9uLkZvbnQgPSAiTWljcm9zb2Z0IFNhbnMgU2VyaWYsMTAiDQogICAgICAgICRwaWNrQnV0dG9uLkFkZF9DbGljayh7DQogICAgICAgICAgICBpZiAoJHBpY2tsaXN0LlNlbGVjdGVkSW5kZXggLW5lICRpKSB7DQogICAgICAgICAgICAgICAgJGNob2ljZSA9IFtTeXN0ZW0uV2luZG93cy5Gb3Jtcy5NZXNzYWdlQm94XTo6c2hvdygiSXQgaXMgcmVjb21tZW5kZWQgdGhhdCB5b3UgdXNlIHRoZSBwcmUtc2VsZWN0ZWQgZm9sZGVyIHNvIHRoYXQgdGhlIE9jdWx1cyBhcHAgbGF1bmNoZXMgdGhlIGRvd25ncmFkZWQgdmVyc2lvbiBvZiB0aGUgZ2FtZS5gbmBuYFdoaWxlIHlvdSBjYW4gc3RpbGwgcGljayB0aGlzIGZvbGRlciBpdCBpcyBub3QgcmVjb21tZW5kZWQuIFdvdWxkIHlvdSBzdGlsbCBsaWtlIHRvIHVzZSB0aGUgc2VsZWN0ZWQgZm9sZGVyPyIsICJFY2hvIFJlbGF5IERvd25ncmFkZXIiLCBbc3lzdGVtLndpbmRvd3MuZm9ybXMubWVzc2FnZWJveGJ1dHRvbnNdOjpZZXNObywgW3N5c3RlbS53aW5kb3dzLmZvcm1zLm1lc3NhZ2Vib3hpY29uXTo6V2FybmluZykNCiAgICAgICAgICAgICAgICBpZiAoJGNob2ljZSAtZXEgIk5vIikgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICAkZ2xvYmFsOmdhbWVQYXRoID0gIiQoJHBpY2tMaXN0LlNlbGVjdGVkSXRlbSlcU29mdHdhcmVccmVhZHktYXQtZGF3bi1lY2hvLWFyZW5hIg0KICAgICAgICAgICAgJHBpY2tNZW51LkNsb3NlKCkNCiAgICAgICAgfSkNCiAgICAgICAgJHBpY2tNZW51LkNvbnRyb2xzLkFkZCgkcGlja0J1dHRvbikNCg0KICAgICAgICAkcGlja01lbnUuU2hvd0RpYWxvZygpDQogICAgfSkNCiAgICAkZG93bmdyYWRlTWVudS5Db250cm9scy5BZGQoJGZvbGRlclBpY2tlcikNCg0KICAgICRkb3duZ3JhZGVNZW51LlNob3dEaWFsb2coKQ0KICAgICRtZW51LlNob3coKQ0KfQ0KDQoNCmZ1bmN0aW9uIGluc3RhbGwgew0KICAgICRub1VzZXJuYW1lT3JQYXNzd29yZC5WaXNpYmxlID0gJGZhbHNlDQogICAgaWYgKCR1c2VybmFtZUJveC50ZXh0IC1lcSAiIiAtb3IgJHBhc3N3b3JkQm94LnRleHQgLWVxICIiKSB7DQogICAgICAgICRub1VzZXJuYW1lT3JQYXNzd29yZC5UZXh0ID0gIlBsZWFzZSBlbnRlciBhIHVzZXJuYW1lIGFuZCBwYXNzd29yZCINCiAgICAgICAgJG5vVXNlcm5hbWVPclBhc3N3b3JkLlZpc2libGUgPSAkdHJ1ZQ0KICAgICAgICByZXR1cm4NCiAgICB9DQogICAgaWYgKCRwYXNzd29yZEJveC5UZXh0Lkxlbmd0aCAtbHQgOCkgew0KICAgICAgICAkbm9Vc2VybmFtZU9yUGFzc3dvcmQuVGV4dCA9ICJQYXNzd29yZCBtdXN0IGJlIGF0IGxlYXN0IDggY2hhcmFjdGVycyINCiAgICAgICAgJG5vVXNlcm5hbWVPclBhc3N3b3JkLlZpc2libGUgPSAkdHJ1ZQ0KICAgICAgICByZXR1cm4NCiAgICB9DQogICAgaWYgKCRwYXNzd29yZEJveC5UZXh0IC1ub3RtYXRjaCAiW2Etel0iKSB7DQogICAgICAgICRub1VzZXJuYW1lT3JQYXNzd29yZC5UZXh0ID0gIlBhc3N3b3JkIG11c3QgY29udGFpbiBhdCBsZWFzdCAxIGxldHRlciINCiAgICAgICAgJG5vVXNlcm5hbWVPclBhc3N3b3JkLlZpc2libGUgPSAkdHJ1ZQ0KICAgICAgICByZXR1cm4NCiAgICB9DQogICAgaWYgKCRwYXNzd29yZEJveC5UZXh0IC1ub3RtYXRjaCAiWzAtOV0iKSB7DQogICAgICAgICRub1VzZXJuYW1lT3JQYXNzd29yZC5UZXh0ID0gIlBhc3N3b3JkIG11c3QgY29udGFpbiBhdCBsZWFzdCAxIG51bWJlciINCiAgICAgICAgJG5vVXNlcm5hbWVPclBhc3N3b3JkLlZpc2libGUgPSAkdHJ1ZQ0KICAgICAgICByZXR1cm4NCiAgICB9DQogICAgaWYgKCR1c2VybmFtZUJveC50ZXh0IC1tYXRjaCAiICIgLW9yICRwYXNzd29yZEJveC50ZXh0IC1tYXRjaCAiICIpIHsNCiAgICAgICAgJG5vVXNlcm5hbWVPclBhc3N3b3JkLlRleHQgPSAiVXNlcm5hbWUgYW5kIFBhc3N3b3JkIGNhbm5vdCBjb250YWluIHNwYWNlcyINCiAgICAgICAgJG5vVXNlcm5hbWVPclBhc3N3b3JkLlZpc2libGUgPSAkdHJ1ZQ0KICAgICAgICByZXR1cm4NCiAgICB9DQogICAgaWYgKCEodGVzdC1wYXRoICRnbG9iYWw6Z2FtZVBhdGhcYmluXHdpbjEwXGVjaG92ci5leGUpKSB7DQogICAgICAgICRjaG9pY2UgPSBbU3lzdGVtLldpbmRvd3MuRm9ybXMuTWVzc2FnZUJveF06OnNob3coIlBsZWFzZSBzZWxlY3QgYSB2YWxpZCBnYW1lIGZvbGRlciBvciBpbnN0YWxsIHRoZSBnYW1lLmBuYG5Eb24ndCBoYXZlIHRoZSBnYW1lIGluc3RhbGxlZD8gQ2xpY2sgWWVzIHRvIGluc3RhbGwgaXQuIiwgIkVjaG8gUmVsYXkgSW5zdGFsbGVyIiwgW3N5c3RlbS53aW5kb3dzLmZvcm1zLm1lc3NhZ2Vib3hidXR0b25zXTo6WWVzTm8sIFtzeXN0ZW0ud2luZG93cy5mb3Jtcy5tZXNzYWdlYm94aWNvbl06Oldhcm5pbmcpDQogICAgICAgIGlmICgkY2hvaWNlIC1lcSAiWWVzIikgew0KICAgICAgICAgICAgZG93bmdyYWRlDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICByZXR1cm4NCiAgICAgICAgfQ0KICAgICAgICBpZiAoISh0ZXN0LXBhdGggJGdsb2JhbDpnYW1lUGF0aFxiaW5cd2luMTBcZWNob3ZyLmV4ZSkpIHsNCiAgICAgICAgICAgIFtTeXN0ZW0uV2luZG93cy5Gb3Jtcy5NZXNzYWdlQm94XTo6U2hvdygiVGhlIGdhbWUgd2FzIG5vdCBpbnN0YWxsZWQiLCAiRWNobyBSZWxheSBJbnN0YWxsZXIiLCBbc3lzdGVtLndpbmRvd3MuZm9ybXMubWVzc2FnZWJveGJ1dHRvbnNdOjpPSywgW3N5c3RlbS53aW5kb3dzLmZvcm1zLm1lc3NhZ2Vib3hpY29uXTo6RXJyb3IpDQogICAgICAgIH0NCiAgICB9DQogICAgaWYgKCRpbmZvQ2hlY2tCb3guQ2hlY2tlZCAtZXEgJGZhbHNlKSB7DQogICAgICAgICRpbmZvTGFiZWwuRm9yZUNvbG9yID0gIlJlZCINCiAgICAgICAgc3RhcnQtc2xlZXAgLU1pbGxpc2Vjb25kcyAxNTANCiAgICAgICAgJGluZm9MYWJlbC5Gb3JlQ29sb3IgPSAiQmxhY2siDQogICAgICAgIHN0YXJ0LXNsZWVwIC1NaWxsaXNlY29uZHMgMTUwDQogICAgICAgICRpbmZvTGFiZWwuRm9yZUNvbG9yID0gIlJlZCINCiAgICAgICAgc3RhcnQtc2xlZXAgLU1pbGxpc2Vjb25kcyAxNTANCiAgICAgICAgJGluZm9MYWJlbC5Gb3JlQ29sb3IgPSAiQmxhY2siDQogICAgICAgIHN0YXJ0LXNsZWVwIC1NaWxsaXNlY29uZHMgMTUwDQogICAgICAgICRpbmZvTGFiZWwuRm9yZUNvbG9yID0gIlJlZCINCiAgICAgICAgc3RhcnQtc2xlZXAgLU1pbGxpc2Vjb25kcyAxNTANCiAgICAgICAgJGluZm9MYWJlbC5Gb3JlQ29sb3IgPSAiQmxhY2siDQogICAgICAgIHJldHVybg0KICAgIH0NCiAgICBpZiAoIShUZXN0LVBhdGggJGVudjpsb2NhbGFwcGRhdGFccmFkLWJhY2t1cCkpIHsNCiAgICAgICAgQ29weS1JdGVtICIkZW52OmxvY2FsYXBwZGF0YVxyYWQiICIkZW52OmxvY2FsYXBwZGF0YVxyYWQtYmFja3VwIiAtUmVjdXJzZQ0KICAgIH0NCiAgICBpZiAoKEdldC1GaWxlSGFzaCAtUGF0aCAkZ2xvYmFsOmdhbWVQYXRoXGJpblx3aW4xMFxlY2hvdnIuZXhlKS5oYXNoIC1uZSAiQjZEMDgyNzdFNTg0NjkwMEM4MTAwNEI2NEIyOThERjZBQ0JBODM0QjY5NzAwQTY0MEI3NThCREE5NEE1MjA0MyIpIHsNCiAgICAgICAgJG5vVXNlcm5hbWVPclBhc3N3b3JkLlRleHQgPSAiWW91IGFyZSBvbiB0aGUgd3JvbmcgdmVyc2lvbiBvZiBFY2hvVlIiDQogICAgICAgICRub1VzZXJuYW1lT3JQYXNzd29yZC5WaXNpYmxlID0gJHRydWUNCiAgICAgICAgJGNob2ljZSA9IFtTeXN0ZW0ud2luZG93cy5mb3Jtcy5tZXNzYWdlYm94XTo6c2hvdygiWW91IGFyZSBvbiB0aGUgd3JvbmcgdmVyc2lvbiBvZiBFY2hvVlIsIHdvdWxkIHlvdSBsaWtlIHRvIGRvd25ncmFkZT8iICwgIkVjaG8gUmVsYXkgSW5zdGFsbGVyIiwgW3N5c3RlbS53aW5kb3dzLmZvcm1zLm1lc3NhZ2Vib3hidXR0b25zXTo6WWVzTm8sIFtzeXN0ZW0ud2luZG93cy5mb3Jtcy5tZXNzYWdlYm94aWNvbl06Oldhcm5pbmcpDQogICAgICAgIGlmICgkY2hvaWNlIC1lcSAiWWVzIikgew0KICAgICAgICAgICAgZG93bmdyYWRlDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICByZXR1cm4NCiAgICAgICAgfQ0KICAgIH0NCiAgICBpZiAoKEdldC1GaWxlSGFzaCAtUGF0aCAkZ2xvYmFsOmdhbWVQYXRoXGJpblx3aW4xMFxlY2hvdnIuZXhlKS5oYXNoIC1uZSAiQjZEMDgyNzdFNTg0NjkwMEM4MTAwNEI2NEIyOThERjZBQ0JBODM0QjY5NzAwQTY0MEI3NThCREE5NEE1MjA0MyIpIHsNCiAgICAgICAgW3N5c3RlbS53aW5kb3dzLmZvcm1zLm1lc3NhZ2Vib3hdOjpTaG93KCJUaGUgZ2FtZSB3YXMgbm90IGRvd25ncmFkZWQsIHBsZWFzZSB0cnkgYWdhaW4uIiwgIkVjaG8gUmVsYXkgSW5zdGFsbGVyIiwgW3N5c3RlbS53aW5kb3dzLmZvcm1zLm1lc3NhZ2Vib3hidXR0b25zXTo6T0ssIFtzeXN0ZW0ud2luZG93cy5mb3Jtcy5tZXNzYWdlYm94aWNvbl06Oldhcm5pbmcpDQogICAgICAgIHJldHVybg0KICAgIH0NCiAgICBta2RpciAiJGVudjphcHBkYXRhXEVjaG8gUmVsYXkgU2VydmVyIEJyb3dzZXJcIg0KICAgICRjb25maWcgPSBAe30NCiAgICAkY29uZmlnIHwgQWRkLU1lbWJlciAtTmFtZSAndXNlcm5hbWUnIC1UeXBlIE5vdGVQcm9wZXJ0eSAtVmFsdWUgIiQoJHVzZXJuYW1lQm94LnRleHQpIg0KICAgICRjb25maWcgfCBBZGQtTWVtYmVyIC1OYW1lICdwYXNzd29yZCcgLVR5cGUgTm90ZVByb3BlcnR5IC1WYWx1ZSAiJCgkcGFzc3dvcmRCb3gudGV4dCkiDQogICAgJGNvbmZpZyB8IEFkZC1NZW1iZXIgLU5hbWUgJ2dhbWVQYXRoJyAtVHlwZSBOb3RlUHJvcGVydHkgLVZhbHVlICIkKCRnbG9iYWw6Z2FtZVBhdGgpIg0KICAgICRjb25maWcgfCBjb252ZXJ0dG8tanNvbiB8IHNldC1jb250ZW50ICIkZW52OmFwcGRhdGFcRWNobyBSZWxheSBTZXJ2ZXIgQnJvd3Nlclxjb25maWcuanNvbiINCiAgICBJbnZva2UtV2ViUmVxdWVzdCAiaHR0cHM6Ly9hbGRpbjEwMS5naXRodWIuaW8vZWNoby1yZWxheS1zZXJ2ZXItYnJvd3Nlci9FY2hvJTIwUmVsYXklMjBTZXJ2ZXIlMjBCcm93c2VyLmV4ZSIgLU91dEZpbGUgIiRnbG9iYWw6Z2FtZVBhdGhcYmluXHdpbjEwXEVjaG8gUmVsYXkgU2VydmVyIEJyb3dzZXIuZXhlIg0KICAgICRXc2hTaGVsbCA9IE5ldy1PYmplY3QgLWNvbU9iamVjdCBXU2NyaXB0LlNoZWxsDQogICAgJFNob3J0Y3V0ID0gJFdzaFNoZWxsLkNyZWF0ZVNob3J0Y3V0KCIkZW52OlVTRVJQUk9GSUxFXERlc2t0b3BcRWNobyBSZWxheSBTZXJ2ZXIgQnJvd3Nlci5sbmsiKQ0KICAgICRTaG9ydGN1dC5UYXJnZXRQYXRoID0gIiRnbG9iYWw6Z2FtZVBhdGhcYmluXHdpbjEwXEVjaG8gUmVsYXkgU2VydmVyIEJyb3dzZXIuZXhlIg0KICAgICRTaG9ydGN1dC5TYXZlKCkNCiAgICAkU2hvcnRjdXQgPSAkV3NoU2hlbGwuQ3JlYXRlU2hvcnRjdXQoIiRlbnY6VVNFUlBST0ZJTEVcRGVza3RvcFxFY2hvIFZSLmxuayIpDQogICAgJFNob3J0Y3V0LlRhcmdldFBhdGggPSAiJGdsb2JhbDpnYW1lUGF0aFxiaW5cd2luMTBcRWNob1ZSLmV4ZSINCiAgICAkU2hvcnRjdXQuU2F2ZSgpDQogICAgW3N5c3RlbS53aW5kb3dzLmZvcm1zLm1lc3NhZ2Vib3hdOjpTaG93KCJFY2hvIFJlbGF5IFNlcnZlciBCcm93c2VyIGluc3RhbGxlZCFgbmBuU2VsZWN0IGEgc2VydmVyIGluIHRoZSBzZXJ2ZXIgYnJvd3NlciB0byBnZXQgc3RhcnRlZCEiLCAiRWNobyBSZWxheSBJbnN0YWxsZXIiLCBbc3lzdGVtLndpbmRvd3MuZm9ybXMubWVzc2FnZWJveGJ1dHRvbnNdOjpPSywgW3N5c3RlbS53aW5kb3dzLmZvcm1zLm1lc3NhZ2Vib3hpY29uXTo6SW5mb3JtYXRpb24pDQogICAgc3RhcnQtcHJvY2VzcyAiJGdsb2JhbDpnYW1lUGF0aFxiaW5cd2luMTBcRWNobyBSZWxheSBTZXJ2ZXIgQnJvd3Nlci5leGUiDQogICAgJG1lbnUuQ2xvc2UoKQ0KfQ0KDQoNCg0KDQpbcmVmbGVjdGlvbi5hc3NlbWJseV06OkxvYWRXaXRoUGFydGlhbE5hbWUoICJTeXN0ZW0uV2luZG93cy5Gb3JtcyIpDQpbU3lzdGVtLldpbmRvd3MuRm9ybXMuQXBwbGljYXRpb25dOjpFbmFibGVWaXN1YWxTdHlsZXMoKQ0KJG1lbnUgPSBuZXctb2JqZWN0IFN5c3RlbS5XaW5kb3dzLkZvcm1zLkZvcm0NCg0KJG1lbnUudGV4dCA9ICJFY2hvIFJlbGF5IEluc3RhbGxlciINCiRmaWxlTG9jYXRpb24gPSBHZXQtQ2ltSW5zdGFuY2UgV2luMzJfUHJvY2VzcyAtRmlsdGVyICJuYW1lID0gJ0VjaG8gUmVsYXkgSW5zdGFsbGVyLmV4ZSciIC1FcnJvckFjdGlvbiBTaWxlbnRseUNvbnRpbnVlDQokZmlsZUxvY2F0aW9uMSA9ICRmaWxlTG9jYXRpb24uQ29tbWFuZExpbmUgLXJlcGxhY2UgJyInLCAiIg0KJG1lbnUuSWNvbiA9IFtTeXN0ZW0uRHJhd2luZy5JY29uXTo6RXh0cmFjdEFzc29jaWF0ZWRJY29uKCRmaWxlTG9jYXRpb24xKQ0KJG1lbnUuU2l6ZSA9IE5ldy1PYmplY3QgRHJhd2luZy5TaXplIEAoNjAwLCA0MDApDQokbWVudS5TdGFydFBvc2l0aW9uID0gIkNlbnRlclNjcmVlbiINCiRtZW51LkZvcm1Cb3JkZXJTdHlsZSA9ICJGaXhlZERpYWxvZyINCiRtZW51Lk1heGltaXplQm94ID0gJGZhbHNlDQoNCiRsYWJlbCA9IE5ldy1PYmplY3QgU3lzdGVtLldpbmRvd3MuRm9ybXMuTGFiZWwNCiRsYWJlbC5Mb2NhdGlvbiA9IE5ldy1PYmplY3QgU3lzdGVtLkRyYXdpbmcuU2l6ZSgxMCw4KQ0KJGxhYmVsLlNpemUgPSBOZXctT2JqZWN0IFN5c3RlbS5EcmF3aW5nLlNpemUoMjAwLDI1KQ0KJGxhYmVsLlRleHQgPSAiRWNobyBSZWxheSBJbnN0YWxsZXIiDQokbGFiZWwuRm9udCA9ICJNaWNyb3NvZnQgU2FucyBTZXJpZiwxNSINCiRtZW51LkNvbnRyb2xzLkFkZCgkbGFiZWwpDQoNCiR1c2VybmFtZSA9IE5ldy1PYmplY3QgU3lzdGVtLldpbmRvd3MuRm9ybXMuTGFiZWwNCiR1c2VybmFtZS5Mb2NhdGlvbiA9IE5ldy1PYmplY3QgU3lzdGVtLkRyYXdpbmcuU2l6ZSgxMCw0MCkNCiR1c2VybmFtZS5TaXplID0gTmV3LU9iamVjdCBTeXN0ZW0uRHJhd2luZy5TaXplKDIwMCwyMCkNCiR1c2VybmFtZS5UZXh0ID0gIlVzZXJuYW1lIg0KJHVzZXJuYW1lLkZvbnQgPSAiTWljcm9zb2Z0IFNhbnMgU2VyaWYsMTAiDQokbWVudS5Db250cm9scy5BZGQoJHVzZXJuYW1lKQ0KDQokdXNlcm5hbWVCb3ggPSBOZXctT2JqZWN0IFN5c3RlbS5XaW5kb3dzLkZvcm1zLlRleHRCb3gNCiR1c2VybmFtZUJveC5Mb2NhdGlvbiA9IE5ldy1PYmplY3QgU3lzdGVtLkRyYXdpbmcuU2l6ZSgxMCw2MCkNCiR1c2VybmFtZUJveC5TaXplID0gTmV3LU9iamVjdCBTeXN0ZW0uRHJhd2luZy5TaXplKDIwMCwyMCkNCiR1c2VybmFtZUJveC5Gb250ID0gIk1pY3Jvc29mdCBTYW5zIFNlcmlmLDEwIg0KJG1lbnUuQ29udHJvbHMuQWRkKCR1c2VybmFtZUJveCkNCg0KJHBhc3N3b3JkID0gTmV3LU9iamVjdCBTeXN0ZW0uV2luZG93cy5Gb3Jtcy5MYWJlbA0KJHBhc3N3b3JkLkxvY2F0aW9uID0gTmV3LU9iamVjdCBTeXN0ZW0uRHJhd2luZy5TaXplKDEwLDkwKQ0KJHBhc3N3b3JkLlNpemUgPSBOZXctT2JqZWN0IFN5c3RlbS5EcmF3aW5nLlNpemUoMjAwLDIwKQ0KJHBhc3N3b3JkLlRleHQgPSAiUGFzc3dvcmQiDQokcGFzc3dvcmQuRm9udCA9ICJNaWNyb3NvZnQgU2FucyBTZXJpZiwxMCINCiRtZW51LkNvbnRyb2xzLkFkZCgkcGFzc3dvcmQpDQoNCiRwYXNzd29yZEJveCA9IE5ldy1PYmplY3QgU3lzdGVtLldpbmRvd3MuRm9ybXMuVGV4dEJveA0KJHBhc3N3b3JkQm94LkxvY2F0aW9uID0gTmV3LU9iamVjdCBTeXN0ZW0uRHJhd2luZy5TaXplKDEwLDExMCkNCiRwYXNzd29yZEJveC5TaXplID0gTmV3LU9iamVjdCBTeXN0ZW0uRHJhd2luZy5TaXplKDIwMCwyMCkNCiRwYXNzd29yZEJveC5Gb250ID0gIk1pY3Jvc29mdCBTYW5zIFNlcmlmLDEwIg0KJHBhc3N3b3JkQm94LlBhc3N3b3JkQ2hhciA9ICIqIg0KJG1lbnUuQ29udHJvbHMuQWRkKCRwYXNzd29yZEJveCkNCg0KJHNob3dQYXNzd29yZCA9IE5ldy1PYmplY3QgU3lzdGVtLldpbmRvd3MuRm9ybXMuUGljdHVyZUJveA0KJHNob3dQYXNzd29yZC5Mb2NhdGlvbiA9IE5ldy1PYmplY3QgU3lzdGVtLkRyYXdpbmcuU2l6ZSgxODgsIDExMSkNCiRzaG93UGFzc3dvcmQuU2l6ZSA9IE5ldy1PYmplY3QgU3lzdGVtLkRyYXdpbmcuU2l6ZSgyMSwgMjEpDQokc2hvd1Bhc3N3b3JkLlNpemVNb2RlID0gW1N5c3RlbS5XaW5kb3dzLkZvcm1zLlBpY3R1cmVCb3hTaXplTW9kZV06OlN0cmV0Y2hJbWFnZQ0KJHNob3dQYXNzd29yZC5JbWFnZUxvY2F0aW9uID0gImh0dHBzOi8vYWxkaW4xMDEuZ2l0aHViLmlvL0VjaG8tUmVsYXktSW5zdGFsbGVyL2V5ZS5wbmciDQokc2hvd1Bhc3N3b3JkLkJhY2tDb2xvciA9IFtTeXN0ZW0uRHJhd2luZy5Db2xvcl06OldoaXRlDQokc2hvd1Bhc3N3b3JkLkFkZF9DbGljayh7DQogICAgaWYgKCRwYXNzd29yZEJveC5QYXNzd29yZENoYXIgLWVxICIqIikgew0KICAgICAgICAkcGFzc3dvcmRCb3guUGFzc3dvcmRDaGFyID0gJG51bGwNCiAgICAgICAgJHNob3dQYXNzd29yZC5CYWNrQ29sb3IgPSBbU3lzdGVtLkRyYXdpbmcuQ29sb3JdOjpMaWdodEJsdWUNCiAgICAgICAgJHRvb2xUaXAuU2V0VG9vbFRpcCgkc2hvd1Bhc3N3b3JkLCAiSGlkZSBQYXNzd29yZCIpDQogICAgfSBlbHNlIHsNCiAgICAgICAgJHBhc3N3b3JkQm94LlBhc3N3b3JkQ2hhciA9ICIqIg0KICAgICAgICAkc2hvd1Bhc3N3b3JkLkJhY2tDb2xvciA9IFtTeXN0ZW0uRHJhd2luZy5Db2xvcl06OldoaXRlDQogICAgICAgICR0b29sVGlwLlNldFRvb2xUaXAoJHNob3dQYXNzd29yZCwgIlNob3cgUGFzc3dvcmQiKQ0KICAgIH0NCn0pDQokc2hvd1Bhc3N3b3JkLkFkZF9Nb3VzZUVudGVyKHsNCiAgICAkc2hvd1Bhc3N3b3JkLkJvcmRlclN0eWxlID0gW1N5c3RlbS5XaW5kb3dzLkZvcm1zLkJvcmRlclN0eWxlXTo6Rml4ZWRTaW5nbGUNCn0pDQokc2hvd1Bhc3N3b3JkLkFkZF9Nb3VzZUxlYXZlKHsNCiAgICAkc2hvd1Bhc3N3b3JkLkJvcmRlclN0eWxlID0gW1N5c3RlbS5XaW5kb3dzLkZvcm1zLkJvcmRlclN0eWxlXTo6Tm9uZQ0KfSkNCiRtZW51LkNvbnRyb2xzLkFkZCgkc2hvd1Bhc3N3b3JkKQ0KDQokc2hvd1Bhc3N3b3JkLkJyaW5nVG9Gcm9udCgpDQoNCiR0b29sVGlwID0gTmV3LU9iamVjdCBTeXN0ZW0uV2luZG93cy5Gb3Jtcy5Ub29sVGlwDQokdG9vbFRpcC5BdXRvbWF0aWNEZWxheSA9IDUwMA0KJHRvb2xUaXAuU2V0VG9vbFRpcCgkc2hvd1Bhc3N3b3JkLCAiU2hvdyBQYXNzd29yZCIpDQoNCiRub1VzZXJuYW1lT3JQYXNzd29yZCA9IE5ldy1PYmplY3QgU3lzdGVtLldpbmRvd3MuRm9ybXMuTGFiZWwNCiRub1VzZXJuYW1lT3JQYXNzd29yZC5Mb2NhdGlvbiA9IE5ldy1PYmplY3QgU3lzdGVtLkRyYXdpbmcuU2l6ZSgxMCwxNzApDQokbm9Vc2VybmFtZU9yUGFzc3dvcmQuU2l6ZSA9IE5ldy1PYmplY3QgU3lzdGVtLkRyYXdpbmcuU2l6ZSgyMTAsMjApDQokbm9Vc2VybmFtZU9yUGFzc3dvcmQuRm9udCA9ICJNaWNyb3NvZnQgU2FucyBTZXJpZiw4Ig0KJG5vVXNlcm5hbWVPclBhc3N3b3JkLkZvcmVDb2xvciA9ICJSZWQiDQokbm9Vc2VybmFtZU9yUGFzc3dvcmQuVmlzaWJsZSA9ICRmYWxzZQ0KJG1lbnUuQ29udHJvbHMuQWRkKCRub1VzZXJuYW1lT3JQYXNzd29yZCkNCg0KJGluZm9MYWJlbCA9IE5ldy1PYmplY3QgU3lzdGVtLldpbmRvd3MuRm9ybXMuTGFiZWwNCiRpbmZvTGFiZWwuTG9jYXRpb24gPSBOZXctT2JqZWN0IFN5c3RlbS5EcmF3aW5nLlNpemUoMjIwLDEwKQ0KJGluZm9MYWJlbC5TaXplID0gTmV3LU9iamVjdCBTeXN0ZW0uRHJhd2luZy5TaXplKDIwMDAsMjMwKQ0KJGluZm9MYWJlbC5UZXh0ID0gIlRoaXMgaW5mb3JtYXRpb24gaXMgbm90IHlvdXIgTWV0YSBsb2cgaW4sIGl0IGlzIHlvdXIgYWNjb3VudGBub24gRWNobyBSZWxheSBzZXJ2ZXJzLiBCdXQgeW91ciBhY2NvdW50IGluZm8gaXMgc3RpbGwgdGllZCB0b2BueW91ciBNZXRhIGFjY291bnQgYW5kIGNhbm5vdCBiZSBjaGFuZ2VkIGxhdGVyLmBuSWYgeW91IGZvcmdldCB5b3VyIGFjY291bnQgaW5mb3JtYXRpb24gZm9yIGEgc2VydmVyIHBsZWFzZWBuY29udGFjdCB0aGUgc2VydmVyIGhvc3QuYG5gblRoZXJlIGlzIG5vIGNoZWNrIGZvciBpZiB5b3VyIHVzZXJuYW1lIGhhcyBhbHJlYWR5IGJlZW5gbmNsYWltZWQgYXQgdGhpcyB0aW1lLiBJZiB5b3UgcmVjZWl2ZSBsb2dpbiBlcnJvcnMgcGxlYXNlYG50cnkgYSBkaWZmZXJlbnQgdXNlcm5hbWUuYG5gbkRPIE5PVCB1c2UgdGhlIHNhbWUgcGFzc3dvcmQgZm9yIHlvdSBNZXRhIGFjY291bnQgb3JgbmFueSBvdGhlciBvbmxpbmUgc2VydmljZS4gV2hpbGUgdXNpbmcgdW5pcXVlIHBhc3N3b3JkcyBmb3JgbmFsbCBvbmxpbmUgc2VydmljZXMgaXMgYWx3YXlzIHJlY29tbWVuZGVkLCBpdCBpcyBlc3BlY2lhbGx5YG5pbXBvcnRhbnQgZm9yIEVjaG8gUmVsYXkgYmVjYXVzZSB5b3VyIGFjY291bnQgaW5mb3JtYXRpb25gbmlzIG5vdCBzZWN1cmVkLiINCiRpbmZvTGFiZWwuRm9udCA9ICJNaWNyb3NvZnQgU2FucyBTZXJpZiwxMCINCiRtZW51LkNvbnRyb2xzLkFkZCgkaW5mb0xhYmVsKQ0KDQokaW5mb0NoZWNrQm94ID0gTmV3LU9iamVjdCBTeXN0ZW0uV2luZG93cy5Gb3Jtcy5DaGVja0JveA0KJGluZm9DaGVja0JveC5Mb2NhdGlvbiA9IE5ldy1PYmplY3QgU3lzdGVtLkRyYXdpbmcuU2l6ZSgyMjAsMjQwKQ0KJGluZm9DaGVja0JveC5TaXplID0gTmV3LU9iamVjdCBTeXN0ZW0uRHJhd2luZy5TaXplKDIwMDAsMjApDQokaW5mb0NoZWNrQm94LlRleHQgPSAiSSBoYXZlIHJlYWQgYW5kIHVuZGVyc3RhbmQgdGhlIGFib3ZlIG5vdGljZSINCiRpbmZvQ2hlY2tCb3guRm9udCA9ICJNaWNyb3NvZnQgU2FucyBTZXJpZiwxMCINCg0KJGluZm9DaGVja0JveC5BZGRfS2V5RG93bih7DQogICAgaWYgKCRfLktleUNvZGUgLWVxICJFbnRlciIpIHsNCiAgICAgICAgJGluZm9DaGVja0JveC5DaGVja2VkID0gISRpbmZvQ2hlY2tCb3guQ2hlY2tlZA0KICAgIH0NCn0pDQoNCiRtZW51LkNvbnRyb2xzLmFkZCgkaW5mb0NoZWNrQm94KQ0KDQoNCiRpbnN0YWxsID0gTmV3LU9iamVjdCBTeXN0ZW0uV2luZG93cy5Gb3Jtcy5CdXR0b24NCiRpbnN0YWxsLkxvY2F0aW9uID0gTmV3LU9iamVjdCBTeXN0ZW0uRHJhd2luZy5TaXplKDEwLDE0MCkNCiRpbnN0YWxsLlNpemUgPSBOZXctT2JqZWN0IFN5c3RlbS5EcmF3aW5nLlNpemUoMjAwLDMwKQ0KJGluc3RhbGwuVGV4dCA9ICJJbnN0YWxsIg0KJGluc3RhbGwuRm9udCA9ICJNaWNyb3NvZnQgU2FucyBTZXJpZiwxMCINCiRpbnN0YWxsLkFkZF9DbGljayh7aW5zdGFsbH0pDQokbWVudS5Db250cm9scy5BZGQoJGluc3RhbGwpDQoNCiRjcmVkaXRzID0gTmV3LU9iamVjdCBTeXN0ZW0uV2luZG93cy5Gb3Jtcy5MYWJlbA0KJGNyZWRpdHMuTG9jYXRpb24gPSBOZXctT2JqZWN0IFN5c3RlbS5EcmF3aW5nLlNpemUoNSwzMjUpDQokY3JlZGl0cy5TaXplID0gTmV3LU9iamVjdCBTeXN0ZW0uRHJhd2luZy5TaXplKDIwMDAsMjAwKQ0KJGNyZWRpdHMuVGV4dCA9ICJFY2hvIFJlbGF5IENyZWF0ZWQgYnk6IFhlbm9tZWdhYG5JbnN0YWxsZXIgYW5kIENyZWF0ZWQgYnk6QWxkaW4xMDEiDQokY3JlZGl0cy5Gb250ID0gIk1pY3Jvc29mdCBTYW5zIFNlcmlmLDEwIg0KJG1lbnUuQ29udHJvbHMuQWRkKCRjcmVkaXRzKQ0KDQokY3VycmVudFBhdGggPSBOZXctT2JqZWN0IFN5c3RlbS5XaW5kb3dzLkZvcm1zLkxhYmVsDQppZiAoISh0ZXN0LXBhdGggIkM6XFByb2dyYW0gRmlsZXNcT2N1bHVzXFNvZnR3YXJlXFNvZnR3YXJlXHJlYWR5LWF0LWRhd24tZWNoby1hcmVuYVxiaW5cd2luMTBcZWNob3ZyLmV4ZSIpKSB7DQogICAgJGN1cnJlbnRQYXRoLlRleHQgPSAiQ3VycmVudCBHYW1lIEZvbGRlcjpgblBsZWFzZSBTZWxlY3QgR2FtZSBGb2xkZXIiDQogICAgJHNlbGVjdEdhbWVGb2xkZXIgPSBOZXctT2JqZWN0IFN5c3RlbS5XaW5kb3dzLkZvcm1zLkJ1dHRvbg0KICAgICRzZWxlY3RHYW1lRm9sZGVyLkxvY2F0aW9uID0gTmV3LU9iamVjdCBTeXN0ZW0uRHJhd2luZy5TaXplKDEwLDIyMCkNCiAgICAkc2VsZWN0R2FtZUZvbGRlci5TaXplID0gTmV3LU9iamVjdCBTeXN0ZW0uRHJhd2luZy5TaXplKDIwMCwzMCkNCiAgICAkc2VsZWN0R2FtZUZvbGRlci5UZXh0ID0gIlNlbGVjdCBHYW1lIEZvbGRlciINCiAgICAkc2VsZWN0R2FtZUZvbGRlci5Gb250ID0gIk1pY3Jvc29mdCBTYW5zIFNlcmlmLDEwIg0KICAgICRzZWxlY3RHYW1lRm9sZGVyLkFkZF9DbGljayh7DQogICAgICAgICRsb2NhdGlvbnMgPSBHZXQtQ2hpbGRJdGVtICJIS0NVOlxTT0ZUV0FSRVxPY3VsdXMgVlIsIExMQ1xPY3VsdXNcTGlicmFyaWVzXCoiDQogICAgICAgICRsb2NhdGlvbkxpc3QgPSBbU3lzdGVtLkNvbGxlY3Rpb25zLkFycmF5TGlzdF1AKCkNCiAgICAgICAgZm9yZWFjaCAoJGxvY2F0aW9uIGluICRsb2NhdGlvbnMpIHsNCiAgICAgICAgICAgICRsb2NhdGlvbkxpc3QuQWRkKCQoR2V0LUl0ZW1Qcm9wZXJ0eSAiSEtDVTpcU09GVFdBUkVcT2N1bHVzIFZSLCBMTENcT2N1bHVzXExpYnJhcmllc1wkKCRsb2NhdGlvbi5QU0NoaWxkTmFtZSkiIC1OYW1lIE9yaWdpbmFsUGF0aCB8IHNlbGVjdCAtRXhwYW5kUHJvcGVydHkgT3JpZ2luYWxQYXRoKSkNCiAgICAgICAgfQ0KICAgICAgICAkbG9jYXRpb25zID0gW3N5c3RlbS5Db2xsZWN0aW9ucy5BcnJheUxpc3RdQCgpDQogICAgICAgIGZvcmVhY2ggKCRsb2NhdGlvbiBpbiAkbG9jYXRpb25MaXN0KSB7DQogICAgICAgICAgICBpZiAodGVzdC1wYXRoICIkbG9jYXRpb25cU29mdHdhcmVccmVhZHktYXQtZGF3bi1lY2hvLWFyZW5hXGJpblx3aW4xMFxlY2hvdnIuZXhlIikgew0KICAgICAgICAgICAgICAgICRsb2NhdGlvbnMuQWRkKCRsb2NhdGlvbikNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICAkcGlja01lbnUgPSBuZXctb2JqZWN0IFN5c3RlbS5XaW5kb3dzLkZvcm1zLkZvcm0NCiAgICAgICAgJHBpY2tNZW51LnRleHQgPSAiRWNobyBSZWxheSBJbnN0YWxsZXIiDQogICAgICAgICRwaWNrTWVudS5JY29uID0gW1N5c3RlbS5EcmF3aW5nLkljb25dOjpFeHRyYWN0QXNzb2NpYXRlZEljb24oJGZpbGVMb2NhdGlvbjEpDQogICAgICAgICRwaWNrTWVudS5TaXplID0gTmV3LU9iamVjdCBEcmF3aW5nLlNpemUgQCgzMjAsIDI3MCkNCiAgICAgICAgJHBpY2tNZW51LlN0YXJ0UG9zaXRpb24gPSAiQ2VudGVyU2NyZWVuIg0KICAgICAgICAkcGlja01lbnUuRm9ybUJvcmRlclN0eWxlID0gIkZpeGVkRGlhbG9nIg0KICAgICAgICAkcGlja01lbnUuTWF4aW1pemVCb3ggPSAkZmFsc2UNCiAgICAgICAgJHBpY2tNZW51LlNob3dJblRhc2tiYXIgPSAkZmFsc2UNCg0KICAgICAgICAkcGlja0xhYmVsID0gTmV3LU9iamVjdCBTeXN0ZW0uV2luZG93cy5Gb3Jtcy5MYWJlbA0KICAgICAgICAkcGlja0xhYmVsLkxvY2F0aW9uID0gTmV3LU9iamVjdCBTeXN0ZW0uRHJhd2luZy5TaXplKDEwLDEwKQ0KICAgICAgICAkcGlja0xhYmVsLlNpemUgPSBOZXctT2JqZWN0IFN5c3RlbS5EcmF3aW5nLlNpemUoMjgwLDIwKQ0KICAgICAgICAkcGlja0xhYmVsLlRleHQgPSAiU2VsZWN0IGZvbGRlciBFY2hvIFZSIGlzIGxvY2F0ZWQgaW4iDQogICAgICAgICRwaWNrTGFiZWwuVGV4dEFsaWduID0gIk1pZGRsZUNlbnRlciINCiAgICAgICAgJHBpY2tMYWJlbC5Gb250ID0gIk1pY3Jvc29mdCBTYW5zIFNlcmlmLDEwIg0KICAgICAgICAkcGlja01lbnUuQ29udHJvbHMuQWRkKCRwaWNrTGFiZWwpDQoNCiAgICAgICAgJHBpY2tMaXN0ID0gTmV3LU9iamVjdCBTeXN0ZW0uV2luZG93cy5Gb3Jtcy5MaXN0Qm94DQogICAgICAgICRwaWNrTGlzdC5Mb2NhdGlvbiA9IE5ldy1PYmplY3QgU3lzdGVtLkRyYXdpbmcuU2l6ZSgxMCwzMCkNCiAgICAgICAgJHBpY2tMaXN0LlNpemUgPSBOZXctT2JqZWN0IFN5c3RlbS5EcmF3aW5nLlNpemUoMjgwLDEwMCkNCiAgICAgICAgJHBpY2tMaXN0LkZvbnQgPSAiTWljcm9zb2Z0IFNhbnMgU2VyaWYsMTAiDQogICAgICAgICRwaWNrTGlzdC5EYXRhU291cmNlID0gJGxvY2F0aW9uTGlzdA0KICAgICAgICAkcGlja0xpc3QuU2VsZWN0ZWRJbmRleCA9ICRpDQogICAgICAgICRwaWNrTWVudS5Db250cm9scy5BZGQoJHBpY2tMaXN0KQ0KDQogICAgICAgICRjdXN0b21QYXRoID0gTmV3LU9iamVjdCBTeXN0ZW0uV2luZG93cy5Gb3Jtcy5CdXR0b24NCiAgICAgICAgJGN1c3RvbVBhdGguTG9jYXRpb24gPSBOZXctT2JqZWN0IFN5c3RlbS5EcmF3aW5nLlNpemUoMTAsMTQwKQ0KICAgICAgICAkY3VzdG9tUGF0aC5TaXplID0gTmV3LU9iamVjdCBTeXN0ZW0uRHJhd2luZy5TaXplKDI4MCwzMCkNCiAgICAgICAgJGN1c3RvbVBhdGguVGV4dCA9ICJDdXN0b20gUGF0aCINCiAgICAgICAgJGN1c3RvbVBhdGguRm9udCA9ICJNaWNyb3NvZnQgU2FucyBTZXJpZiwxMCINCiAgICAgICAgJGN1c3RvbVBhdGguQWRkX0NsaWNrKHsNCiAgICAgICAgICAgICRjaG9pY2UgPSBbU3lzdGVtLldpbmRvd3MuRm9ybXMuTWVzc2FnZUJveF06OlNob3coIkl0IGlzIHJlY29tbWVuZGVkIHRoYXQgeW91IHVzZSB0aGUgcHJlLXNlbGVjdGVkIGZvbGRlciBzbyB0aGF0IHRoZSBPY3VsdXMgYXBwIGxhdW5jaGVzIHRoZSBjb3JyZWN0IHZlcnNpb24gb2YgdGhlIGdhbWUuYG5gbmBXaGlsZSB5b3UgY2FuIHVzZSBhIGN1c3RvbSBwYXRoIGl0IGlzIG5vdCByZWNvbW1lbmRlZC4gV291bGQgeW91IHN0aWxsIGxpa2UgdG8gdXNlIGEgY3VzdG9tIHBhdGg/IiwgIkVjaG8gUmVsYXkgRG93bmdyYWRlciIsIFtzeXN0ZW0ud2luZG93cy5mb3Jtcy5tZXNzYWdlYm94YnV0dG9uc106Olllc05vLCBbc3lzdGVtLndpbmRvd3MuZm9ybXMubWVzc2FnZWJveGljb25dOjpXYXJuaW5nKQ0KICAgICAgICAgICAgaWYgKCRjaG9pY2UgLWVxICJObyIpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgICRnbG9iYWw6Z2FtZVBhdGggPSBSZWFkLUZvbGRlckJyb3dzZXJEaWFsb2cgLU1lc3NhZ2UgIlNlbGVjdCB0aGUgZm9sZGVyIEVjaG8gVlIgaXMgaW5zdGFsbGVkIGluIg0KICAgICAgICAgICAgaWYgKCEodGVzdC1wYXRoICIkZ2xvYmFsOmdhbWVQYXRoXGJpblx3aW4xMFxlY2hvdnIuZXhlIikpIHsNCiAgICAgICAgICAgICAgICBbU3lzdGVtLldpbmRvd3MuRm9ybXMuTWVzc2FnZUJveF06OnNob3coIlBsZWFzZSBzZWxlY3QgYSB2YWxpZCBnYW1lIGZvbGRlciIsICJFY2hvIFJlbGF5IERvd25ncmFkZXIiLCBbc3lzdGVtLndpbmRvd3MuZm9ybXMubWVzc2FnZWJveGJ1dHRvbnNdOjpPSywgW3N5c3RlbS53aW5kb3dzLmZvcm1zLm1lc3NhZ2Vib3hpY29uXTo6V2FybmluZykNCiAgICAgICAgICAgICAgICByZXR1cm4NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgICRwaWNrTWVudS5DbG9zZSgpDQogICAgICAgIH0pDQogICAgICAgICRwaWNrTWVudS5Db250cm9scy5BZGQoJGN1c3RvbVBhdGgpDQoNCiAgICAgICAgJHBpY2tCdXR0b24gPSBOZXctT2JqZWN0IFN5c3RlbS5XaW5kb3dzLkZvcm1zLkJ1dHRvbg0KICAgICAgICAkcGlja0J1dHRvbi5Mb2NhdGlvbiA9IE5ldy1PYmplY3QgU3lzdGVtLkRyYXdpbmcuU2l6ZSgxMCwxODApDQogICAgICAgICRwaWNrQnV0dG9uLlNpemUgPSBOZXctT2JqZWN0IFN5c3RlbS5EcmF3aW5nLlNpemUoMjgwLDMwKQ0KICAgICAgICAkcGlja0J1dHRvbi5UZXh0ID0gIlNlbGVjdCINCiAgICAgICAgJHBpY2tCdXR0b24uRm9udCA9ICJNaWNyb3NvZnQgU2FucyBTZXJpZiwxMCINCiAgICAgICAgJHBpY2tCdXR0b24uQWRkX0NsaWNrKHsNCiAgICAgICAgICAgIGlmICghKHRlc3QtcGF0aCAiJCgkbG9jYXRpb25zWyRwaWNrbGlzdC5TZWxlY3RlZEluZGV4XSlcU29mdHdhcmVccmVhZHktYXQtZGF3bi1lY2hvLWFyZW5hXGJpblx3aW4xMFxlY2hvdnIuZXhlIikpIHsNCiAgICAgICAgICAgICAgICBbU3lzdGVtLldpbmRvd3MuRm9ybXMuTWVzc2FnZUJveF06OnNob3coIlBsZWFzZSBzZWxlY3QgYSB2YWxpZCBnYW1lIGZvbGRlciIsICJFY2hvIFJlbGF5IERvd25ncmFkZXIiLCBbc3lzdGVtLndpbmRvd3MuZm9ybXMubWVzc2FnZWJveGJ1dHRvbnNdOjpPSywgW3N5c3RlbS53aW5kb3dzLmZvcm1zLm1lc3NhZ2Vib3hpY29uXTo6V2FybmluZykNCiAgICAgICAgICAgICAgICByZXR1cm4NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgICRnbG9iYWw6Z2FtZVBhdGggPSAiJCgkcGlja0xpc3QuU2VsZWN0ZWRJdGVtKVxTb2Z0d2FyZVxyZWFkeS1hdC1kYXduLWVjaG8tYXJlbmEiDQogICAgICAgICAgICAkcGlja01lbnUuQ2xvc2UoKQ0KICAgICAgICB9KQ0KICAgICAgICAkcGlja01lbnUuQ29udHJvbHMuQWRkKCRwaWNrQnV0dG9uKQ0KDQogICAgICAgICRwaWNrTWVudS5TaG93RGlhbG9nKCkNCiAgICB9KQ0KICAgICRtZW51LkNvbnRyb2xzLkFkZCgkc2VsZWN0R2FtZUZvbGRlcikNCn0gZWxzZSB7DQogICAgJGdsb2JhbDpnYW1lUGF0aCA9ICJDOlxQcm9ncmFtIEZpbGVzXE9jdWx1c1xTb2Z0d2FyZVxTb2Z0d2FyZVxyZWFkeS1hdC1kYXduLWVjaG8tYXJlbmEiDQogICAgJHNlbGVjdEdhbWVGb2xkZXIgPSBOZXctT2JqZWN0IFN5c3RlbS5XaW5kb3dzLkZvcm1zLkJ1dHRvbg0KICAgICRzZWxlY3RHYW1lRm9sZGVyLkxvY2F0aW9uID0gTmV3LU9iamVjdCBTeXN0ZW0uRHJhd2luZy5TaXplKDEwLDIyMCkNCiAgICAkc2VsZWN0R2FtZUZvbGRlci5TaXplID0gTmV3LU9iamVjdCBTeXN0ZW0uRHJhd2luZy5TaXplKDIwMCwzMCkNCiAgICAkc2VsZWN0R2FtZUZvbGRlci5UZXh0ID0gIlNlbGVjdCBHYW1lIEZvbGRlciINCiAgICAkc2VsZWN0R2FtZUZvbGRlci5Gb250ID0gIk1pY3Jvc29mdCBTYW5zIFNlcmlmLDEwIg0KICAgICRzZWxlY3RHYW1lRm9sZGVyLkFkZF9DbGljayh7DQogICAgICAgICRsb2NhdGlvbnMgPSBHZXQtQ2hpbGRJdGVtICJIS0NVOlxTT0ZUV0FSRVxPY3VsdXMgVlIsIExMQ1xPY3VsdXNcTGlicmFyaWVzXCoiDQogICAgICAgICRsb2NhdGlvbkxpc3QgPSBbU3lzdGVtLkNvbGxlY3Rpb25zLkFycmF5TGlzdF1AKCkNCiAgICAgICAgZm9yZWFjaCAoJGxvY2F0aW9uIGluICRsb2NhdGlvbnMpIHsNCiAgICAgICAgICAgICRsb2NhdGlvbkxpc3QuQWRkKCQoR2V0LUl0ZW1Qcm9wZXJ0eSAiSEtDVTpcU09GVFdBUkVcT2N1bHVzIFZSLCBMTENcT2N1bHVzXExpYnJhcmllc1wkKCRsb2NhdGlvbi5QU0NoaWxkTmFtZSkiIC1OYW1lIE9yaWdpbmFsUGF0aCB8IHNlbGVjdCAtRXhwYW5kUHJvcGVydHkgT3JpZ2luYWxQYXRoKSkNCiAgICAgICAgfQ0KICAgICAgICAkbG9jYXRpb25zID0gW3N5c3RlbS5Db2xsZWN0aW9ucy5BcnJheUxpc3RdQCgpDQogICAgICAgIGZvcmVhY2ggKCRsb2NhdGlvbiBpbiAkbG9jYXRpb25MaXN0KSB7DQogICAgICAgICAgICBpZiAodGVzdC1wYXRoICIkbG9jYXRpb25cU29mdHdhcmVccmVhZHktYXQtZGF3bi1lY2hvLWFyZW5hXGJpblx3aW4xMFxlY2hvdnIuZXhlIikgew0KICAgICAgICAgICAgICAgICRsb2NhdGlvbnMuQWRkKCRsb2NhdGlvbikNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICAkcGlja01lbnUgPSBuZXctb2JqZWN0IFN5c3RlbS5XaW5kb3dzLkZvcm1zLkZvcm0NCiAgICAgICAgJHBpY2tNZW51LnRleHQgPSAiRWNobyBSZWxheSBJbnN0YWxsZXIiDQogICAgICAgICRwaWNrTWVudS5JY29uID0gW1N5c3RlbS5EcmF3aW5nLkljb25dOjpFeHRyYWN0QXNzb2NpYXRlZEljb24oJGZpbGVMb2NhdGlvbjEpDQogICAgICAgICRwaWNrTWVudS5TaXplID0gTmV3LU9iamVjdCBEcmF3aW5nLlNpemUgQCgzMjAsIDI3MCkNCiAgICAgICAgJHBpY2tNZW51LlN0YXJ0UG9zaXRpb24gPSAiQ2VudGVyU2NyZWVuIg0KICAgICAgICAkcGlja01lbnUuRm9ybUJvcmRlclN0eWxlID0gIkZpeGVkRGlhbG9nIg0KICAgICAgICAkcGlja01lbnUuTWF4aW1pemVCb3ggPSAkZmFsc2UNCiAgICAgICAgJHBpY2tNZW51LlNob3dJblRhc2tiYXIgPSAkZmFsc2UNCg0KICAgICAgICAkcGlja0xhYmVsID0gTmV3LU9iamVjdCBTeXN0ZW0uV2luZG93cy5Gb3Jtcy5MYWJlbA0KICAgICAgICAkcGlja0xhYmVsLkxvY2F0aW9uID0gTmV3LU9iamVjdCBTeXN0ZW0uRHJhd2luZy5TaXplKDEwLDEwKQ0KICAgICAgICAkcGlja0xhYmVsLlNpemUgPSBOZXctT2JqZWN0IFN5c3RlbS5EcmF3aW5nLlNpemUoMjgwLDIwKQ0KICAgICAgICAkcGlja0xhYmVsLlRleHQgPSAiU2VsZWN0IGZvbGRlciBFY2hvIFZSIGlzIGxvY2F0ZWQgaW4iDQogICAgICAgICRwaWNrTGFiZWwuVGV4dEFsaWduID0gIk1pZGRsZUNlbnRlciINCiAgICAgICAgJHBpY2tMYWJlbC5Gb250ID0gIk1pY3Jvc29mdCBTYW5zIFNlcmlmLDEwIg0KICAgICAgICAkcGlja01lbnUuQ29udHJvbHMuQWRkKCRwaWNrTGFiZWwpDQoNCiAgICAgICAgJHBpY2tMaXN0ID0gTmV3LU9iamVjdCBTeXN0ZW0uV2luZG93cy5Gb3Jtcy5MaXN0Qm94DQogICAgICAgICRwaWNrTGlzdC5Mb2NhdGlvbiA9IE5ldy1PYmplY3QgU3lzdGVtLkRyYXdpbmcuU2l6ZSgxMCwzMCkNCiAgICAgICAgJHBpY2tMaXN0LlNpemUgPSBOZXctT2JqZWN0IFN5c3RlbS5EcmF3aW5nLlNpemUoMjgwLDEwMCkNCiAgICAgICAgJHBpY2tMaXN0LkZvbnQgPSAiTWljcm9zb2Z0IFNhbnMgU2VyaWYsMTAiDQogICAgICAgICRwaWNrTGlzdC5EYXRhU291cmNlID0gJGxvY2F0aW9uTGlzdA0KICAgICAgICAkcGlja0xpc3QuU2VsZWN0ZWRJbmRleCA9ICRpDQogICAgICAgICRwaWNrTWVudS5Db250cm9scy5BZGQoJHBpY2tMaXN0KQ0KDQogICAgICAgICRjdXN0b21QYXRoID0gTmV3LU9iamVjdCBTeXN0ZW0uV2luZG93cy5Gb3Jtcy5CdXR0b24NCiAgICAgICAgJGN1c3RvbVBhdGguTG9jYXRpb24gPSBOZXctT2JqZWN0IFN5c3RlbS5EcmF3aW5nLlNpemUoMTAsMTQwKQ0KICAgICAgICAkY3VzdG9tUGF0aC5TaXplID0gTmV3LU9iamVjdCBTeXN0ZW0uRHJhd2luZy5TaXplKDI4MCwzMCkNCiAgICAgICAgJGN1c3RvbVBhdGguVGV4dCA9ICJDdXN0b20gUGF0aCINCiAgICAgICAgJGN1c3RvbVBhdGguRm9udCA9ICJNaWNyb3NvZnQgU2FucyBTZXJpZiwxMCINCiAgICAgICAgJGN1c3RvbVBhdGguQWRkX0NsaWNrKHsNCiAgICAgICAgICAgICRjaG9pY2UgPSBbU3lzdGVtLldpbmRvd3MuRm9ybXMuTWVzc2FnZUJveF06OlNob3coIkl0IGlzIHJlY29tbWVuZGVkIHRoYXQgeW91IHVzZSB0aGUgcHJlLXNlbGVjdGVkIGZvbGRlciBzbyB0aGF0IHRoZSBPY3VsdXMgYXBwIGxhdW5jaGVzIHRoZSBjb3JyZWN0IHZlcnNpb24gb2YgdGhlIGdhbWUuYG5gbmBXaGlsZSB5b3UgY2FuIHVzZSBhIGN1c3RvbSBwYXRoIGl0IGlzIG5vdCByZWNvbW1lbmRlZC4gV291bGQgeW91IHN0aWxsIGxpa2UgdG8gdXNlIGEgY3VzdG9tIHBhdGg/IiwgIkVjaG8gUmVsYXkgRG93bmdyYWRlciIsIFtzeXN0ZW0ud2luZG93cy5mb3Jtcy5tZXNzYWdlYm94YnV0dG9uc106Olllc05vLCBbc3lzdGVtLndpbmRvd3MuZm9ybXMubWVzc2FnZWJveGljb25dOjpXYXJuaW5nKQ0KICAgICAgICAgICAgaWYgKCRjaG9pY2UgLWVxICJObyIpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgICRnbG9iYWw6Z2FtZVBhdGggPSBSZWFkLUZvbGRlckJyb3dzZXJEaWFsb2cgLU1lc3NhZ2UgIlNlbGVjdCB0aGUgZm9sZGVyIEVjaG8gVlIgaXMgaW5zdGFsbGVkIGluIg0KICAgICAgICAgICAgaWYgKCEodGVzdC1wYXRoICIkZ2xvYmFsOmdhbWVQYXRoXGJpblx3aW4xMFxlY2hvdnIuZXhlIikpIHsNCiAgICAgICAgICAgICAgICBbU3lzdGVtLldpbmRvd3MuRm9ybXMuTWVzc2FnZUJveF06OnNob3coIlBsZWFzZSBzZWxlY3QgYSB2YWxpZCBnYW1lIGZvbGRlciIsICJFY2hvIFJlbGF5IERvd25ncmFkZXIiLCBbc3lzdGVtLndpbmRvd3MuZm9ybXMubWVzc2FnZWJveGJ1dHRvbnNdOjpPSywgW3N5c3RlbS53aW5kb3dzLmZvcm1zLm1lc3NhZ2Vib3hpY29uXTo6V2FybmluZykNCiAgICAgICAgICAgICAgICByZXR1cm4NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgICRwaWNrTWVudS5DbG9zZSgpDQogICAgICAgIH0pDQogICAgICAgICRwaWNrTWVudS5Db250cm9scy5BZGQoJGN1c3RvbVBhdGgpDQoNCiAgICAgICAgJHBpY2tCdXR0b24gPSBOZXctT2JqZWN0IFN5c3RlbS5XaW5kb3dzLkZvcm1zLkJ1dHRvbg0KICAgICAgICAkcGlja0J1dHRvbi5Mb2NhdGlvbiA9IE5ldy1PYmplY3QgU3lzdGVtLkRyYXdpbmcuU2l6ZSgxMCwxODApDQogICAgICAgICRwaWNrQnV0dG9uLlNpemUgPSBOZXctT2JqZWN0IFN5c3RlbS5EcmF3aW5nLlNpemUoMjgwLDMwKQ0KICAgICAgICAkcGlja0J1dHRvbi5UZXh0ID0gIlNlbGVjdCINCiAgICAgICAgJHBpY2tCdXR0b24uRm9udCA9ICJNaWNyb3NvZnQgU2FucyBTZXJpZiwxMCINCiAgICAgICAgJHBpY2tCdXR0b24uQWRkX0NsaWNrKHsNCiAgICAgICAgICAgIGlmICghKHRlc3QtcGF0aCAiJCgkbG9jYXRpb25zWyRwaWNrbGlzdC5TZWxlY3RlZEluZGV4XSlcU29mdHdhcmVccmVhZHktYXQtZGF3bi1lY2hvLWFyZW5hXGJpblx3aW4xMFxlY2hvdnIuZXhlIikpIHsNCiAgICAgICAgICAgICAgICBbU3lzdGVtLldpbmRvd3MuRm9ybXMuTWVzc2FnZUJveF06OnNob3coIlBsZWFzZSBzZWxlY3QgYSB2YWxpZCBnYW1lIGZvbGRlciIsICJFY2hvIFJlbGF5IERvd25ncmFkZXIiLCBbc3lzdGVtLndpbmRvd3MuZm9ybXMubWVzc2FnZWJveGJ1dHRvbnNdOjpPSywgW3N5c3RlbS53aW5kb3dzLmZvcm1zLm1lc3NhZ2Vib3hpY29uXTo6V2FybmluZykNCiAgICAgICAgICAgICAgICByZXR1cm4NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgICRnbG9iYWw6Z2FtZVBhdGggPSAiJCgkcGlja0xpc3QuU2VsZWN0ZWRJdGVtKVxTb2Z0d2FyZVxyZWFkeS1hdC1kYXduLWVjaG8tYXJlbmEiDQogICAgICAgICAgICAkcGlja01lbnUuQ2xvc2UoKQ0KICAgICAgICB9KQ0KICAgICAgICAkcGlja01lbnUuQ29udHJvbHMuQWRkKCRwaWNrQnV0dG9uKQ0KDQogICAgICAgICRwaWNrTWVudS5TaG93RGlhbG9nKCkNCiAgICB9KQ0KICAgICRjdXJyZW50UGF0aC5UZXh0ID0gIkN1cnJlbnQgR2FtZSBGb2xkZXI6YG4kZ2xvYmFsOmdhbWVQYXRoIg0KICAgICRtZW51LkNvbnRyb2xzLkFkZCgkc2VsZWN0R2FtZUZvbGRlcikNCn0NCiRjdXJyZW50UGF0aC5Mb2NhdGlvbiA9IE5ldy1PYmplY3QgU3lzdGVtLkRyYXdpbmcuU2l6ZSgxMCwyNTApDQokY3VycmVudFBhdGguU2l6ZSA9IE5ldy1PYmplY3QgU3lzdGVtLkRyYXdpbmcuU2l6ZSgyMDAwLDIwMCkNCiRjdXJyZW50UGF0aC5Gb250ID0gIk1pY3Jvc29mdCBTYW5zIFNlcmlmLDEwIg0KJG1lbnUuQ29udHJvbHMuQWRkKCRjdXJyZW50UGF0aCkNCg0KJG1lbnUuU2hvd0RpYWxvZygpDQoNCg=="
}
